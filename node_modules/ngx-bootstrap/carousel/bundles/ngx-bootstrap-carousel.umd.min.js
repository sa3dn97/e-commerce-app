!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("ngx-bootstrap/utils"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-bootstrap/carousel",["exports","@angular/core","ngx-bootstrap/utils","@angular/common"],t):t(((e=e||self)["ngx-bootstrap"]=e["ngx-bootstrap"]||{},e["ngx-bootstrap"].carousel={}),e.ng.core,e.utils,e.ng.common)}(this,(function(e,t,i,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function n(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var s,n,r=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return o}function r(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e}var o=function(){function e(){this.interval=5e3,this.noPause=!1,this.noWrap=!1,this.showIndicators=!0,this.pauseOnFocus=!1,this.indicatorsByChunk=!1,this.itemsPerSlide=1,this.singleSlideOffset=!1}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=t["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e}();function l(e,i){if(1&e){var s=t["ɵɵgetCurrentView"]();t["ɵɵelementStart"](0,"li",7),t["ɵɵlistener"]("click",(function(){t["ɵɵrestoreView"](s);var e=i.index;return t["ɵɵnextContext"](2).selectSlide(e)})),t["ɵɵelementEnd"]()}if(2&e){var n=i.$implicit;t["ɵɵclassProp"]("active",!0===n.active)}}function d(e,i){if(1&e&&(t["ɵɵelementStart"](0,"ol",5),t["ɵɵtemplate"](1,l,1,2,"li",6),t["ɵɵelementEnd"]()),2&e){var s=t["ɵɵnextContext"]();t["ɵɵadvance"](1),t["ɵɵproperty"]("ngForOf",s.indicatorsSlides())}}function a(e,i){1&e&&(t["ɵɵelementStart"](0,"span",11),t["ɵɵtext"](1,"Previous"),t["ɵɵelementEnd"]())}function c(e,i){if(1&e){var s=t["ɵɵgetCurrentView"]();t["ɵɵelementStart"](0,"a",8),t["ɵɵlistener"]("click",(function(){return t["ɵɵrestoreView"](s),t["ɵɵnextContext"]().previousSlide()})),t["ɵɵelement"](1,"span",9),t["ɵɵtemplate"](2,a,2,0,"span",10),t["ɵɵelementEnd"]()}if(2&e){var n=t["ɵɵnextContext"]();t["ɵɵclassProp"]("disabled",0===n.activeSlide&&n.noWrap),t["ɵɵadvance"](2),t["ɵɵproperty"]("ngIf",n.isBs4)}}function u(e,i){if(1&e){var s=t["ɵɵgetCurrentView"]();t["ɵɵelementStart"](0,"a",12),t["ɵɵlistener"]("click",(function(){return t["ɵɵrestoreView"](s),t["ɵɵnextContext"]().nextSlide()})),t["ɵɵelement"](1,"span",13),t["ɵɵelementStart"](2,"span",11),t["ɵɵtext"](3,"Next"),t["ɵɵelementEnd"](),t["ɵɵelementEnd"]()}if(2&e){var n=t["ɵɵnextContext"]();t["ɵɵclassProp"]("disabled",n.isLast(n.activeSlide)&&n.noWrap)}}var h,f=function(e){return{display:e}},p=["*"];!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NEXT=1]="NEXT",e[e.PREV=2]="PREV"}(h||(h={}));var m=function(){function e(e,s){this.ngZone=s,this.indicatorsByChunk=!1,this.itemsPerSlide=1,this.singleSlideOffset=!1,this.isAnimated=!1,this.activeSlideChange=new t.EventEmitter(!1),this.slideRangeChange=new t.EventEmitter,this.startFromIndex=0,this._slides=new i.LinkedList,this._currentVisibleSlidesIndex=0,this.destroyed=!1,this.getActive=function(e){return e.active},this.makeSlidesConsistent=function(e){e.forEach((function(e,t){return e.item.order=t}))},Object.assign(this,e)}return Object.defineProperty(e.prototype,"activeSlide",{get:function(){return this._currentActiveSlide},set:function(e){this.multilist||this._slides.length&&e!==this._currentActiveSlide&&this._select(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interval",{get:function(){return this._interval},set:function(e){this._interval=e,this.restartTimer()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slides",{get:function(){return this._slides.toArray()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBs4",{get:function(){return!i.isBs3()},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;setTimeout((function(){e.singleSlideOffset&&(e.indicatorsByChunk=!1),e.multilist&&(e._chunkedSlides=function(e,t){for(var i=[],s=Math.ceil(e.length/t),n=0;n<s;){var r=e.splice(0,n===s-1&&t<e.length?e.length:t);i.push(r),n++}return i}(e.mapSlidesAndIndexes(),e.itemsPerSlide),e.selectInitialSlides())}),0)},e.prototype.ngOnDestroy=function(){this.destroyed=!0},e.prototype.addSlide=function(e){this._slides.add(e),this.multilist&&this._slides.length<=this.itemsPerSlide&&(e.active=!0),!this.multilist&&this.isAnimated&&(e.isAnimated=!0),this.multilist||1!==this._slides.length||(this._currentActiveSlide=void 0,this.activeSlide=0,this.play()),this.multilist&&this._slides.length>this.itemsPerSlide&&this.play()},e.prototype.removeSlide=function(e){var t=this,i=this._slides.indexOf(e);if(this._currentActiveSlide===i){var s=void 0;this._slides.length>1&&(s=this.isLast(i)?this.noWrap?i-1:0:i),this._slides.remove(i),setTimeout((function(){t._select(s)}),0)}else{this._slides.remove(i);var n=this.getCurrentSlideIndex();setTimeout((function(){t._currentActiveSlide=n,t.activeSlideChange.emit(t._currentActiveSlide)}),0)}},e.prototype.nextSlideFromInterval=function(e){void 0===e&&(e=!1),this.move(h.NEXT,e)},e.prototype.nextSlide=function(e){void 0===e&&(e=!1),this.isPlaying&&this.restartTimer(),this.move(h.NEXT,e)},e.prototype.previousSlide=function(e){void 0===e&&(e=!1),this.isPlaying&&this.restartTimer(),this.move(h.PREV,e)},e.prototype.getFirstVisibleIndex=function(){return this.slides.findIndex(this.getActive)},e.prototype.getLastVisibleIndex=function(){return function(e,t){for(var i=e.length;i--;)if(t(e[i],i,e))return i;return-1}(this.slides,this.getActive)},e.prototype.move=function(e,t){void 0===t&&(t=!1);var i=this.getFirstVisibleIndex(),s=this.getLastVisibleIndex();this.noWrap&&(e===h.NEXT&&this.isLast(s)||e===h.PREV&&0===i)||(this.multilist?this.moveMultilist(e):this.activeSlide=this.findNextSlideIndex(e,t))},e.prototype.keydownPress=function(e){if(13===e.keyCode||"Enter"===e.key||32===e.keyCode||"Space"===e.key)return this.nextSlide(),void e.preventDefault();37!==e.keyCode&&"LeftArrow"!==e.key?39!==e.keyCode&&"RightArrow"!==e.key||this.nextSlide():this.previousSlide()},e.prototype.onMouseLeave=function(){this.pauseOnFocus||this.play()},e.prototype.onMouseUp=function(){this.pauseOnFocus||this.play()},e.prototype.pauseFocusIn=function(){this.pauseOnFocus&&(this.isPlaying=!1,this.resetTimer())},e.prototype.pauseFocusOut=function(){this.play()},e.prototype.selectSlide=function(e){this.isPlaying&&this.restartTimer(),this.multilist?this.selectSlideRange(this.indicatorsByChunk?e*this.itemsPerSlide:e):this.activeSlide=this.indicatorsByChunk?e*this.itemsPerSlide:e},e.prototype.play=function(){this.isPlaying||(this.isPlaying=!0,this.restartTimer())},e.prototype.pause=function(){this.noPause||(this.isPlaying=!1,this.resetTimer())},e.prototype.getCurrentSlideIndex=function(){return this._slides.findIndex(this.getActive)},e.prototype.isLast=function(e){return e+1>=this._slides.length},e.prototype.isFirst=function(e){return 0===e},e.prototype.indicatorsSlides=function(){var e=this;return this.slides.filter((function(t,i){return!e.indicatorsByChunk||i%e.itemsPerSlide==0}))},e.prototype.selectInitialSlides=function(){var e=this.startFromIndex<=this._slides.length?this.startFromIndex:0;if(this.hideSlides(),this.singleSlideOffset){if(this._slidesWithIndexes=this.mapSlidesAndIndexes(),this._slides.length-e<this.itemsPerSlide){var t=this._slidesWithIndexes.slice(0,e);this._slidesWithIndexes=r(this._slidesWithIndexes,t).slice(t.length).slice(0,this.itemsPerSlide)}else this._slidesWithIndexes=this._slidesWithIndexes.slice(e,e+this.itemsPerSlide);this._slidesWithIndexes.forEach((function(e){return e.item.active=!0})),this.makeSlidesConsistent(this._slidesWithIndexes)}else this.selectRangeByNestedIndex(e);this.slideRangeChange.emit(this.getVisibleIndexes())},e.prototype.findNextSlideIndex=function(e,t){var i=0;if(t||!this.isLast(this.activeSlide)||e===h.PREV||!this.noWrap){switch(e){case h.NEXT:i=this.isLast(this._currentActiveSlide)?!t&&this.noWrap?this._currentActiveSlide:0:this._currentActiveSlide+1;break;case h.PREV:i=this._currentActiveSlide>0?this._currentActiveSlide-1:!t&&this.noWrap?this._currentActiveSlide:this._slides.length-1;break;default:throw new Error("Unknown direction")}return i}},e.prototype.mapSlidesAndIndexes=function(){return this.slides.slice().map((function(e,t){return{index:t,item:e}}))},e.prototype.selectSlideRange=function(e){if(!this.isIndexInRange(e)){if(this.hideSlides(),this.singleSlideOffset){var t=this.isIndexOnTheEdges(e)?e:e-this.itemsPerSlide+1,i=this.isIndexOnTheEdges(e)?e+this.itemsPerSlide:e+1;this._slidesWithIndexes=this.mapSlidesAndIndexes().slice(t,i),this.makeSlidesConsistent(this._slidesWithIndexes),this._slidesWithIndexes.forEach((function(e){return e.item.active=!0}))}else this.selectRangeByNestedIndex(e);this.slideRangeChange.emit(this.getVisibleIndexes())}},e.prototype.selectRangeByNestedIndex=function(e){var t=this._chunkedSlides.map((function(e,t){return{index:t,list:e}})).find((function(t){return void 0!==t.list.find((function(t){return t.index===e}))}));this._currentVisibleSlidesIndex=t.index,this._chunkedSlides[t.index].forEach((function(e){e.item.active=!0}))},e.prototype.isIndexOnTheEdges=function(e){return e+1-this.itemsPerSlide<=0||e+this.itemsPerSlide<=this._slides.length},e.prototype.isIndexInRange=function(e){return this.singleSlideOffset?this._slidesWithIndexes.map((function(e){return e.index})).indexOf(e)>=0:e<=this.getLastVisibleIndex()&&e>=this.getFirstVisibleIndex()},e.prototype.hideSlides=function(){this.slides.forEach((function(e){return e.active=!1}))},e.prototype.isVisibleSlideListLast=function(){return this._currentVisibleSlidesIndex===this._chunkedSlides.length-1},e.prototype.isVisibleSlideListFirst=function(){return 0===this._currentVisibleSlidesIndex},e.prototype.moveSliderByOneItem=function(e){var t,i,s,n;if(this.noWrap){t=this.getFirstVisibleIndex(),i=this.getLastVisibleIndex(),s=e===h.NEXT?t:i,n=e!==h.NEXT?t-1:this.isLast(i)?0:i+1,this._slides.get(s).active=!1,this._slides.get(n).active=!0;var o=this.mapSlidesAndIndexes().filter((function(e){return e.item.active}));this.makeSlidesConsistent(o),this.slideRangeChange.emit(this.getVisibleIndexes())}else{var l=void 0;t=this._slidesWithIndexes[0].index,i=this._slidesWithIndexes[this._slidesWithIndexes.length-1].index,e===h.NEXT?(this._slidesWithIndexes.shift(),l=this.isLast(i)?0:i+1,this._slidesWithIndexes.push({index:l,item:this._slides.get(l)})):(this._slidesWithIndexes.pop(),l=this.isFirst(t)?this._slides.length-1:t-1,this._slidesWithIndexes=r([{index:l,item:this._slides.get(l)}],this._slidesWithIndexes)),this.hideSlides(),this._slidesWithIndexes.forEach((function(e){return e.item.active=!0})),this.makeSlidesConsistent(this._slidesWithIndexes),this.slideRangeChange.emit(this._slidesWithIndexes.map((function(e){return e.index})))}},e.prototype.moveMultilist=function(e){this.singleSlideOffset?this.moveSliderByOneItem(e):(this.hideSlides(),this.noWrap?this._currentVisibleSlidesIndex=e===h.NEXT?this._currentVisibleSlidesIndex+1:this._currentVisibleSlidesIndex-1:e===h.NEXT?this._currentVisibleSlidesIndex=this.isVisibleSlideListLast()?0:this._currentVisibleSlidesIndex+1:this._currentVisibleSlidesIndex=this.isVisibleSlideListFirst()?this._chunkedSlides.length-1:this._currentVisibleSlidesIndex-1,this._chunkedSlides[this._currentVisibleSlidesIndex].forEach((function(e){return e.item.active=!0})),this.slideRangeChange.emit(this.getVisibleIndexes()))},e.prototype.getVisibleIndexes=function(){return this.singleSlideOffset?this._slidesWithIndexes.map((function(e){return e.index})):this._chunkedSlides[this._currentVisibleSlidesIndex].map((function(e){return e.index}))},e.prototype._select=function(e){if(isNaN(e))this.pause();else{if(!this.multilist){var t=this._slides.get(this._currentActiveSlide);t&&(t.active=!1)}var i=this._slides.get(e);i&&(this._currentActiveSlide=e,i.active=!0,this.activeSlide=e,this.activeSlideChange.emit(e))}},e.prototype.restartTimer=function(){var e=this;this.resetTimer();var t=+this.interval;!isNaN(t)&&t>0&&(this.currentInterval=this.ngZone.runOutsideAngular((function(){return setInterval((function(){var t=+e.interval;e.ngZone.run((function(){e.isPlaying&&!isNaN(e.interval)&&t>0&&e.slides.length?e.nextSlideFromInterval():e.pause()}))}),t)})))},Object.defineProperty(e.prototype,"multilist",{get:function(){return this.itemsPerSlide>1},enumerable:!0,configurable:!0}),e.prototype.resetTimer=function(){this.currentInterval&&(clearInterval(this.currentInterval),this.currentInterval=void 0)},e.ɵfac=function(i){return new(i||e)(t["ɵɵdirectiveInject"](o),t["ɵɵdirectiveInject"](t.NgZone))},e.ɵcmp=t["ɵɵdefineComponent"]({type:e,selectors:[["carousel"]],inputs:{noWrap:"noWrap",noPause:"noPause",showIndicators:"showIndicators",pauseOnFocus:"pauseOnFocus",indicatorsByChunk:"indicatorsByChunk",itemsPerSlide:"itemsPerSlide",singleSlideOffset:"singleSlideOffset",isAnimated:"isAnimated",activeSlide:"activeSlide",startFromIndex:"startFromIndex",interval:"interval"},outputs:{activeSlideChange:"activeSlideChange",slideRangeChange:"slideRangeChange"},ngContentSelectors:p,decls:6,vars:6,consts:[["tabindex","0",1,"carousel","slide",3,"mouseenter","mouseleave","mouseup","keydown","focusin","focusout"],["class","carousel-indicators",4,"ngIf"],[1,"carousel-inner",3,"ngStyle"],["class","left carousel-control carousel-control-prev","tabindex","0","role","button",3,"disabled","click",4,"ngIf"],["class","right carousel-control carousel-control-next","tabindex","0","role","button",3,"disabled","click",4,"ngIf"],[1,"carousel-indicators"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"],["tabindex","0","role","button",1,"left","carousel-control","carousel-control-prev",3,"click"],["aria-hidden","true",1,"icon-prev","carousel-control-prev-icon"],["class","sr-only",4,"ngIf"],[1,"sr-only"],["tabindex","0","role","button",1,"right","carousel-control","carousel-control-next",3,"click"],["aria-hidden","true",1,"icon-next","carousel-control-next-icon"]],template:function(e,i){1&e&&(t["ɵɵprojectionDef"](),t["ɵɵelementStart"](0,"div",0),t["ɵɵlistener"]("mouseenter",(function(){return i.pause()}))("mouseleave",(function(){return i.onMouseLeave()}))("mouseup",(function(){return i.onMouseUp()}))("keydown",(function(e){return i.keydownPress(e)}))("focusin",(function(){return i.pauseFocusIn()}))("focusout",(function(){return i.pauseFocusOut()})),t["ɵɵtemplate"](1,d,2,1,"ol",1),t["ɵɵelementStart"](2,"div",2),t["ɵɵprojection"](3),t["ɵɵelementEnd"](),t["ɵɵtemplate"](4,c,3,3,"a",3),t["ɵɵtemplate"](5,u,4,2,"a",4),t["ɵɵelementEnd"]()),2&e&&(t["ɵɵadvance"](1),t["ɵɵproperty"]("ngIf",i.showIndicators&&i.slides.length>1),t["ɵɵadvance"](1),t["ɵɵproperty"]("ngStyle",t["ɵɵpureFunction1"](4,f,i.multilist?"flex":"block")),t["ɵɵadvance"](2),t["ɵɵproperty"]("ngIf",i.slides.length>1),t["ɵɵadvance"](1),t["ɵɵproperty"]("ngIf",i.slides.length>1))},directives:[s.NgIf,s.NgStyle,s.NgForOf],encapsulation:2}),e}(),v=["*"],g=function(){function e(e){this.itemWidth="100%",this.order=0,this.addClass=!0,this.carousel=e}return e.prototype.ngOnInit=function(){this.carousel.addSlide(this),this.itemWidth=100/this.carousel.itemsPerSlide+"%"},e.prototype.ngOnDestroy=function(){this.carousel.removeSlide(this)},e.ɵfac=function(i){return new(i||e)(t["ɵɵdirectiveInject"](m))},e.ɵcmp=t["ɵɵdefineComponent"]({type:e,selectors:[["slide"]],hostVars:13,hostBindings:function(e,i){2&e&&(t["ɵɵattribute"]("aria-hidden",!i.active),t["ɵɵstyleProp"]("width",i.itemWidth)("order",i.order),t["ɵɵclassProp"]("active",i.active)("carousel-animation",i.isAnimated)("item",i.addClass)("carousel-item",i.addClass))},inputs:{active:"active"},ngContentSelectors:v,decls:2,vars:2,consts:[[1,"item"]],template:function(e,i){1&e&&(t["ɵɵprojectionDef"](),t["ɵɵelementStart"](0,"div",0),t["ɵɵprojection"](1),t["ɵɵelementEnd"]()),2&e&&t["ɵɵclassProp"]("active",i.active)},styles:[".carousel-animation[_nghost-%COMP%] {\n       transition: opacity 0.6s ease, visibility 0.6s ease;\n       float: left;\n    }\n    .carousel-animation.active[_nghost-%COMP%] {\n      opacity: 1;\n      visibility: visible;\n    }\n    .carousel-animation[_nghost-%COMP%]:not(.active) {\n      display: block;\n      position: absolute;\n      opacity: 0;\n      visibility: hidden;\n    }"]}),e}(),S=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.ɵmod=t["ɵɵdefineNgModule"]({type:e}),e.ɵinj=t["ɵɵdefineInjector"]({factory:function(t){return new(t||e)},providers:[o],imports:[[s.CommonModule]]}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&t["ɵɵsetNgModuleScope"](S,{declarations:[g,m],imports:[s.CommonModule],exports:[g,m]}),e.CarouselComponent=m,e.CarouselConfig=o,e.CarouselModule=S,e.SlideComponent=g,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-bootstrap-carousel.umd.min.js.map
(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('rxjs/operators'), require('ngx-bootstrap/chronos'), require('rxjs'), require('ngx-bootstrap/mini-ngrx'), require('ngx-bootstrap/positioning'), require('@angular/animations'), require('@angular/common'), require('ngx-bootstrap/component-loader'), require('@angular/forms'), require('ngx-bootstrap/utils')) :
    typeof define === 'function' && define.amd ? define('ngx-bootstrap/datepicker', ['exports', '@angular/core', 'rxjs/operators', 'ngx-bootstrap/chronos', 'rxjs', 'ngx-bootstrap/mini-ngrx', 'ngx-bootstrap/positioning', '@angular/animations', '@angular/common', 'ngx-bootstrap/component-loader', '@angular/forms', 'ngx-bootstrap/utils'], factory) :
    (global = global || self, factory((global['ngx-bootstrap'] = global['ngx-bootstrap'] || {}, global['ngx-bootstrap'].datepicker = {}), global.ng.core, global.rxjs.operators, global.chronos, global.rxjs, global.miniNgrx, global.positioning, global.ng.animations, global.ng.common, global.componentLoader, global.ng.forms, global.utils));
}(this, (function (exports, core, operators, chronos, rxjs, miniNgrx, positioning, animations, common, componentLoader, forms, utils) { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    /* global Reflect, Promise */

    var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };

    function __extends(d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }

    var __assign = function() {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };

    function __rest(s, e) {
        var t = {};
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
            t[p] = s[p];
        if (s != null && typeof Object.getOwnPropertySymbols === "function")
            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)
                t[p[i]] = s[p[i]];
        return t;
    }

    function __decorate(decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }

    function __param(paramIndex, decorator) {
        return function (target, key) { decorator(target, key, paramIndex); }
    }

    function __metadata(metadataKey, metadataValue) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
    }

    function __awaiter(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function (resolve, reject) {
            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
            function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }

    function __generator(thisArg, body) {
        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
        return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
        function verb(n) { return function (v) { return step([n, v]); }; }
        function step(op) {
            if (f) throw new TypeError("Generator is already executing.");
            while (_) try {
                if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
                if (y = 0, t) op = [op[0] & 2, t.value];
                switch (op[0]) {
                    case 0: case 1: t = op; break;
                    case 4: _.label++; return { value: op[1], done: false };
                    case 5: _.label++; y = op[1]; op = [0]; continue;
                    case 7: op = _.ops.pop(); _.trys.pop(); continue;
                    default:
                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                        if (t[2]) _.ops.pop();
                        _.trys.pop(); continue;
                }
                op = body.call(thisArg, _);
            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
        }
    }

    function __exportStar(m, exports) {
        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
    }

    function __values(o) {
        var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
        if (m) return m.call(o);
        return {
            next: function () {
                if (o && i >= o.length) o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
    }

    function __read(o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    }

    function __spread() {
        for (var ar = [], i = 0; i < arguments.length; i++)
            ar = ar.concat(__read(arguments[i]));
        return ar;
    }

    function __await(v) {
        return this instanceof __await ? (this.v = v, this) : new __await(v);
    }

    function __asyncGenerator(thisArg, _arguments, generator) {
        if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
        var g = generator.apply(thisArg, _arguments || []), i, q = [];
        return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
        function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
        function fulfill(value) { resume("next", value); }
        function reject(value) { resume("throw", value); }
        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
    }

    function __asyncDelegator(o) {
        var i, p;
        return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
    }

    function __asyncValues(o) {
        if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
        var m = o[Symbol.asyncIterator], i;
        return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
    }

    function __makeTemplateObject(cooked, raw) {
        if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
        return cooked;
    };

    function __importStar(mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
        result.default = mod;
        return result;
    }

    function __importDefault(mod) {
        return (mod && mod.__esModule) ? mod : { default: mod };
    }

    /**
     * For date range picker there are `BsDaterangepickerConfig` which inherits all properties,
     * except `displayMonths`, for range picker it default to `2`
     */
    var BsDatepickerConfig = /** @class */ (function () {
        function BsDatepickerConfig() {
            /** sets use adaptive position */
            this.adaptivePosition = false;
            /** sets use UTC date time format */
            this.useUtc = false;
            /** turn on/off animation */
            this.isAnimated = false;
            /**
             * If true, returns focus to the datepicker / daterangepicker input after date selection
             */
            this.returnFocusToInput = false;
            /** CSS class which will be applied to datepicker container,
             * usually used to set color theme
             */
            this.containerClass = 'theme-green';
            // DatepickerRenderOptions
            this.displayMonths = 1;
            /**
             * Allows to hide week numbers in datepicker
             */
            this.showWeekNumbers = true;
            this.dateInputFormat = 'L';
            // range picker
            this.rangeSeparator = ' - ';
            /**
             * Date format for date range input field
             */
            this.rangeInputFormat = 'L';
            // DatepickerFormatOptions
            this.monthTitle = 'MMMM';
            this.yearTitle = 'YYYY';
            this.dayLabel = 'D';
            this.monthLabel = 'MMMM';
            this.yearLabel = 'YYYY';
            this.weekNumbers = 'w';
            /**
             * Shows 'today' button
             */
            this.showTodayButton = false;
            /**
             * Positioning of 'today' button
             */
            this.todayPosition = 'center';
        }
        /** @nocollapse */ BsDatepickerConfig.ɵfac = function BsDatepickerConfig_Factory(t) { return new (t || BsDatepickerConfig)(); };
        /** @nocollapse */ BsDatepickerConfig.ɵprov = core["ɵɵdefineInjectable"]({ token: BsDatepickerConfig, factory: BsDatepickerConfig.ɵfac });
        return BsDatepickerConfig;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDatepickerConfig, [{
            type: core.Injectable
        }], null, null); })();

    var BsDatepickerAbstractComponent = /** @class */ (function () {
        function BsDatepickerAbstractComponent() {
            this.customRanges = [];
            this.chosenRange = [];
        }
        Object.defineProperty(BsDatepickerAbstractComponent.prototype, "minDate", {
            set: function (value) {
                this._effects.setMinDate(value);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BsDatepickerAbstractComponent.prototype, "maxDate", {
            set: function (value) {
                this._effects.setMaxDate(value);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BsDatepickerAbstractComponent.prototype, "daysDisabled", {
            set: function (value) {
                this._effects.setDaysDisabled(value);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BsDatepickerAbstractComponent.prototype, "datesDisabled", {
            set: function (value) {
                this._effects.setDatesDisabled(value);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BsDatepickerAbstractComponent.prototype, "datesEnabled", {
            set: function (value) {
                this._effects.setDatesEnabled(value);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BsDatepickerAbstractComponent.prototype, "isDisabled", {
            set: function (value) {
                this._effects.setDisabled(value);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BsDatepickerAbstractComponent.prototype, "dateCustomClasses", {
            set: function (value) {
                this._effects.setDateCustomClasses(value);
            },
            enumerable: true,
            configurable: true
        });
        BsDatepickerAbstractComponent.prototype.setViewMode = function (event) { };
        BsDatepickerAbstractComponent.prototype.navigateTo = function (event) { };
        BsDatepickerAbstractComponent.prototype.dayHoverHandler = function (event) { };
        BsDatepickerAbstractComponent.prototype.weekHoverHandler = function (event) { };
        BsDatepickerAbstractComponent.prototype.monthHoverHandler = function (event) { };
        BsDatepickerAbstractComponent.prototype.yearHoverHandler = function (event) { };
        BsDatepickerAbstractComponent.prototype.daySelectHandler = function (day) { };
        BsDatepickerAbstractComponent.prototype.monthSelectHandler = function (event) { };
        BsDatepickerAbstractComponent.prototype.yearSelectHandler = function (event) { };
        BsDatepickerAbstractComponent.prototype.setRangeOnCalendar = function (dates) { };
        BsDatepickerAbstractComponent.prototype.setToday = function () { };
        /* tslint:disable-next-line: no-any */
        BsDatepickerAbstractComponent.prototype._stopPropagation = function (event) {
            event.stopPropagation();
        };
        return BsDatepickerAbstractComponent;
    }());

    var BsDatepickerActions = /** @class */ (function () {
        function BsDatepickerActions() {
        }
        BsDatepickerActions.prototype.calculate = function () {
            return { type: BsDatepickerActions.CALCULATE };
        };
        BsDatepickerActions.prototype.format = function () {
            return { type: BsDatepickerActions.FORMAT };
        };
        BsDatepickerActions.prototype.flag = function () {
            return { type: BsDatepickerActions.FLAG };
        };
        BsDatepickerActions.prototype.select = function (date) {
            return {
                type: BsDatepickerActions.SELECT,
                payload: date
            };
        };
        BsDatepickerActions.prototype.changeViewMode = function (event) {
            return {
                type: BsDatepickerActions.CHANGE_VIEWMODE,
                payload: event
            };
        };
        BsDatepickerActions.prototype.navigateTo = function (event) {
            return {
                type: BsDatepickerActions.NAVIGATE_TO,
                payload: event
            };
        };
        BsDatepickerActions.prototype.navigateStep = function (step) {
            return {
                type: BsDatepickerActions.NAVIGATE_OFFSET,
                payload: step
            };
        };
        BsDatepickerActions.prototype.setOptions = function (options) {
            return {
                type: BsDatepickerActions.SET_OPTIONS,
                payload: options
            };
        };
        // date range picker
        BsDatepickerActions.prototype.selectRange = function (value) {
            return {
                type: BsDatepickerActions.SELECT_RANGE,
                payload: value
            };
        };
        BsDatepickerActions.prototype.hoverDay = function (event) {
            return {
                type: BsDatepickerActions.HOVER,
                payload: event.isHovered ? event.cell.date : null
            };
        };
        BsDatepickerActions.prototype.minDate = function (date) {
            return {
                type: BsDatepickerActions.SET_MIN_DATE,
                payload: date
            };
        };
        BsDatepickerActions.prototype.maxDate = function (date) {
            return {
                type: BsDatepickerActions.SET_MAX_DATE,
                payload: date
            };
        };
        BsDatepickerActions.prototype.daysDisabled = function (days) {
            return {
                type: BsDatepickerActions.SET_DAYSDISABLED,
                payload: days
            };
        };
        BsDatepickerActions.prototype.datesDisabled = function (dates) {
            return {
                type: BsDatepickerActions.SET_DATESDISABLED,
                payload: dates
            };
        };
        BsDatepickerActions.prototype.datesEnabled = function (dates) {
            return {
                type: BsDatepickerActions.SET_DATESENABLED,
                payload: dates
            };
        };
        BsDatepickerActions.prototype.isDisabled = function (value) {
            return {
                type: BsDatepickerActions.SET_IS_DISABLED,
                payload: value
            };
        };
        BsDatepickerActions.prototype.setDateCustomClasses = function (value) {
            return {
                type: BsDatepickerActions.SET_DATE_CUSTOM_CLASSES,
                payload: value
            };
        };
        BsDatepickerActions.prototype.setLocale = function (locale) {
            return {
                type: BsDatepickerActions.SET_LOCALE,
                payload: locale
            };
        };
        BsDatepickerActions.CALCULATE = '[datepicker] calculate dates matrix';
        BsDatepickerActions.FORMAT = '[datepicker] format datepicker values';
        BsDatepickerActions.FLAG = '[datepicker] set flags';
        BsDatepickerActions.SELECT = '[datepicker] select date';
        BsDatepickerActions.NAVIGATE_OFFSET = '[datepicker] shift view date';
        BsDatepickerActions.NAVIGATE_TO = '[datepicker] change view date';
        BsDatepickerActions.SET_OPTIONS = '[datepicker] update render options';
        BsDatepickerActions.HOVER = '[datepicker] hover date';
        BsDatepickerActions.CHANGE_VIEWMODE = '[datepicker] switch view mode';
        BsDatepickerActions.SET_MIN_DATE = '[datepicker] set min date';
        BsDatepickerActions.SET_MAX_DATE = '[datepicker] set max date';
        BsDatepickerActions.SET_DAYSDISABLED = '[datepicker] set days disabled';
        BsDatepickerActions.SET_DATESDISABLED = '[datepicker] set dates disabled';
        BsDatepickerActions.SET_DATESENABLED = '[datepicker] set dates enabled';
        BsDatepickerActions.SET_IS_DISABLED = '[datepicker] set is disabled';
        BsDatepickerActions.SET_DATE_CUSTOM_CLASSES = '[datepicker] set date custom classes';
        BsDatepickerActions.SET_LOCALE = '[datepicker] set datepicker locale';
        BsDatepickerActions.SELECT_RANGE = '[daterangepicker] select dates range';
        /** @nocollapse */ BsDatepickerActions.ɵfac = function BsDatepickerActions_Factory(t) { return new (t || BsDatepickerActions)(); };
        /** @nocollapse */ BsDatepickerActions.ɵprov = core["ɵɵdefineInjectable"]({ token: BsDatepickerActions, factory: BsDatepickerActions.ɵfac });
        return BsDatepickerActions;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDatepickerActions, [{
            type: core.Injectable
        }], null, null); })();

    var BsLocaleService = /** @class */ (function () {
        function BsLocaleService() {
            this._defaultLocale = 'en';
            this._locale = new rxjs.BehaviorSubject(this._defaultLocale);
            this._localeChange = this._locale.asObservable();
        }
        Object.defineProperty(BsLocaleService.prototype, "locale", {
            get: function () {
                return this._locale;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BsLocaleService.prototype, "localeChange", {
            get: function () {
                return this._localeChange;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BsLocaleService.prototype, "currentLocale", {
            get: function () {
                return this._locale.getValue();
            },
            enumerable: true,
            configurable: true
        });
        BsLocaleService.prototype.use = function (locale) {
            if (locale === this.currentLocale) {
                return;
            }
            this._locale.next(locale);
        };
        /** @nocollapse */ BsLocaleService.ɵfac = function BsLocaleService_Factory(t) { return new (t || BsLocaleService)(); };
        /** @nocollapse */ BsLocaleService.ɵprov = core["ɵɵdefineInjectable"]({ token: BsLocaleService, factory: BsLocaleService.ɵfac });
        return BsLocaleService;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsLocaleService, [{
            type: core.Injectable
        }], null, null); })();

    var BsDatepickerEffects = /** @class */ (function () {
        function BsDatepickerEffects(_actions, _localeService) {
            this._actions = _actions;
            this._localeService = _localeService;
            this._subs = [];
        }
        BsDatepickerEffects.prototype.init = function (_bsDatepickerStore) {
            this._store = _bsDatepickerStore;
            return this;
        };
        /** setters */
        BsDatepickerEffects.prototype.setValue = function (value) {
            this._store.dispatch(this._actions.select(value));
        };
        BsDatepickerEffects.prototype.setRangeValue = function (value) {
            this._store.dispatch(this._actions.selectRange(value));
        };
        BsDatepickerEffects.prototype.setMinDate = function (value) {
            this._store.dispatch(this._actions.minDate(value));
            return this;
        };
        BsDatepickerEffects.prototype.setMaxDate = function (value) {
            this._store.dispatch(this._actions.maxDate(value));
            return this;
        };
        BsDatepickerEffects.prototype.setDaysDisabled = function (value) {
            this._store.dispatch(this._actions.daysDisabled(value));
            return this;
        };
        BsDatepickerEffects.prototype.setDatesDisabled = function (value) {
            this._store.dispatch(this._actions.datesDisabled(value));
            return this;
        };
        BsDatepickerEffects.prototype.setDatesEnabled = function (value) {
            this._store.dispatch(this._actions.datesEnabled(value));
            return this;
        };
        BsDatepickerEffects.prototype.setDisabled = function (value) {
            this._store.dispatch(this._actions.isDisabled(value));
            return this;
        };
        BsDatepickerEffects.prototype.setDateCustomClasses = function (value) {
            this._store.dispatch(this._actions.setDateCustomClasses(value));
            return this;
        };
        /* Set rendering options */
        BsDatepickerEffects.prototype.setOptions = function (_config) {
            var _options = Object.assign({ locale: this._localeService.currentLocale }, _config);
            this._store.dispatch(this._actions.setOptions(_options));
            return this;
        };
        /** view to mode bindings */
        BsDatepickerEffects.prototype.setBindings = function (container) {
            container.daysCalendar = this._store
                .select(function (state) { return state.flaggedMonths; })
                .pipe(operators.filter(function (months) { return !!months; }));
            // month calendar
            container.monthsCalendar = this._store
                .select(function (state) { return state.flaggedMonthsCalendar; })
                .pipe(operators.filter(function (months) { return !!months; }));
            // year calendar
            container.yearsCalendar = this._store
                .select(function (state) { return state.yearsCalendarFlagged; })
                .pipe(operators.filter(function (years) { return !!years; }));
            container.viewMode = this._store.select(function (state) { return state.view.mode; });
            container.options = this._store
                .select(function (state) { return state.showWeekNumbers; })
                .pipe(operators.map(function (showWeekNumbers) { return ({ showWeekNumbers: showWeekNumbers }); }));
            return this;
        };
        /** event handlers */
        BsDatepickerEffects.prototype.setEventHandlers = function (container) {
            var _this = this;
            container.setViewMode = function (event) {
                _this._store.dispatch(_this._actions.changeViewMode(event));
            };
            container.navigateTo = function (event) {
                _this._store.dispatch(_this._actions.navigateStep(event.step));
            };
            container.dayHoverHandler = function (event) {
                var _cell = event.cell;
                if (_cell.isOtherMonth || _cell.isDisabled) {
                    return;
                }
                _this._store.dispatch(_this._actions.hoverDay(event));
                _cell.isHovered = event.isHovered;
            };
            container.monthHoverHandler = function (event) {
                event.cell.isHovered = event.isHovered;
            };
            container.yearHoverHandler = function (event) {
                event.cell.isHovered = event.isHovered;
            };
            container.monthSelectHandler = function (event) {
                if (event.isDisabled) {
                    return;
                }
                _this._store.dispatch(_this._actions.navigateTo({
                    unit: {
                        month: chronos.getMonth(event.date),
                        year: chronos.getFullYear(event.date)
                    },
                    viewMode: 'day'
                }));
            };
            container.yearSelectHandler = function (event) {
                if (event.isDisabled) {
                    return;
                }
                _this._store.dispatch(_this._actions.navigateTo({
                    unit: {
                        year: chronos.getFullYear(event.date)
                    },
                    viewMode: 'month'
                }));
            };
            return this;
        };
        BsDatepickerEffects.prototype.registerDatepickerSideEffects = function () {
            var _this = this;
            this._subs.push(this._store.select(function (state) { return state.view; }).subscribe(function (view) {
                _this._store.dispatch(_this._actions.calculate());
            }));
            // format calendar values on month model change
            this._subs.push(this._store
                .select(function (state) { return state.monthsModel; })
                .pipe(operators.filter(function (monthModel) { return !!monthModel; }))
                .subscribe(function (month) { return _this._store.dispatch(_this._actions.format()); }));
            // flag day values
            this._subs.push(this._store
                .select(function (state) { return state.formattedMonths; })
                .pipe(operators.filter(function (month) { return !!month; }))
                .subscribe(function (month) { return _this._store.dispatch(_this._actions.flag()); }));
            // flag day values
            this._subs.push(this._store
                .select(function (state) { return state.selectedDate; })
                .pipe(operators.filter(function (selectedDate) { return !!selectedDate; }))
                .subscribe(function (selectedDate) { return _this._store.dispatch(_this._actions.flag()); }));
            // flag for date range picker
            this._subs.push(this._store
                .select(function (state) { return state.selectedRange; })
                .pipe(operators.filter(function (selectedRange) { return !!selectedRange; }))
                .subscribe(function (selectedRange) { return _this._store.dispatch(_this._actions.flag()); }));
            // monthsCalendar
            this._subs.push(this._store
                .select(function (state) { return state.monthsCalendar; })
                .subscribe(function () { return _this._store.dispatch(_this._actions.flag()); }));
            // years calendar
            this._subs.push(this._store
                .select(function (state) { return state.yearsCalendarModel; })
                .pipe(operators.filter(function (state) { return !!state; }))
                .subscribe(function () { return _this._store.dispatch(_this._actions.flag()); }));
            // on hover
            this._subs.push(this._store
                .select(function (state) { return state.hoveredDate; })
                .pipe(operators.filter(function (hoveredDate) { return !!hoveredDate; }))
                .subscribe(function (hoveredDate) { return _this._store.dispatch(_this._actions.flag()); }));
            // date custom classes
            this._subs.push(this._store
                .select(function (state) { return state.dateCustomClasses; })
                .pipe(operators.filter(function (dateCustomClasses) { return !!dateCustomClasses; }))
                .subscribe(function (dateCustomClasses) { return _this._store.dispatch(_this._actions.flag()); }));
            // on locale change
            this._subs.push(this._localeService.localeChange
                .subscribe(function (locale) { return _this._store.dispatch(_this._actions.setLocale(locale)); }));
            return this;
        };
        BsDatepickerEffects.prototype.destroy = function () {
            var e_1, _a;
            try {
                for (var _b = __values(this._subs), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var sub = _c.value;
                    sub.unsubscribe();
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_1) throw e_1.error; }
            }
        };
        /** @nocollapse */ BsDatepickerEffects.ɵfac = function BsDatepickerEffects_Factory(t) { return new (t || BsDatepickerEffects)(core["ɵɵinject"](BsDatepickerActions), core["ɵɵinject"](BsLocaleService)); };
        /** @nocollapse */ BsDatepickerEffects.ɵprov = core["ɵɵdefineInjectable"]({ token: BsDatepickerEffects, factory: BsDatepickerEffects.ɵfac });
        return BsDatepickerEffects;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDatepickerEffects, [{
            type: core.Injectable
        }], function () { return [{ type: BsDatepickerActions }, { type: BsLocaleService }]; }, null); })();

    var defaultMonthOptions = {
        width: 7,
        height: 6
    };

    var BsDatepickerState = /** @class */ (function () {
        function BsDatepickerState() {
        }
        return BsDatepickerState;
    }());
    var _initialView = { date: new Date(), mode: 'day' };
    var initialDatepickerState = Object.assign(new BsDatepickerConfig(), {
        locale: 'en',
        view: _initialView,
        selectedRange: [],
        monthViewOptions: defaultMonthOptions
    });

    function getStartingDayOfCalendar(date, options) {
        if (chronos.isFirstDayOfWeek(date, options.firstDayOfWeek)) {
            return date;
        }
        var weekDay = chronos.getDay(date);
        var offset = calculateDateOffset(weekDay, options.firstDayOfWeek);
        return chronos.shiftDate(date, { day: -offset });
    }
    function calculateDateOffset(weekday, startingDayOffset) {
        if (startingDayOffset === 0) {
            return weekday;
        }
        var offset = weekday - startingDayOffset % 7;
        return offset < 0 ? offset + 7 : offset;
    }
    function isMonthDisabled(date, min, max) {
        var minBound = min && chronos.isBefore(chronos.endOf(date, 'month'), min, 'day');
        var maxBound = max && chronos.isAfter(chronos.startOf(date, 'month'), max, 'day');
        return minBound || maxBound;
    }
    function isYearDisabled(date, min, max) {
        var minBound = min && chronos.isBefore(chronos.endOf(date, 'year'), min, 'day');
        var maxBound = max && chronos.isAfter(chronos.startOf(date, 'year'), max, 'day');
        return minBound || maxBound;
    }
    function isDisabledDate(date, datesDisabled) {
        if (!datesDisabled || !chronos.isArray(datesDisabled) || !datesDisabled.length) {
            return false;
        }
        return datesDisabled.some(function (dateDisabled) { return chronos.isSame(date, dateDisabled, 'date'); });
    }
    function isEnabledDate(date, datesEnabled) {
        if (!datesEnabled || !chronos.isArray(datesEnabled) || !datesEnabled.length) {
            return false;
        }
        return !datesEnabled.some(function (enabledDate) { return chronos.isSame(date, enabledDate, 'date'); });
    }
    function getYearsCalendarInitialDate(state, calendarIndex) {
        if (calendarIndex === void 0) { calendarIndex = 0; }
        var model = state && state.yearsCalendarModel && state.yearsCalendarModel[calendarIndex];
        return model && model.years && model.years[0] && model.years[0][0] && model.years[0][0].date;
    }

    function createMatrix(options, fn) {
        var prevValue = options.initialDate;
        var matrix = new Array(options.height);
        for (var i = 0; i < options.height; i++) {
            matrix[i] = new Array(options.width);
            for (var j = 0; j < options.width; j++) {
                matrix[i][j] = fn(prevValue);
                prevValue = chronos.shiftDate(prevValue, options.shift);
            }
        }
        return matrix;
    }

    function calcDaysCalendar(startingDate, options) {
        var firstDay = chronos.getFirstDayOfMonth(startingDate);
        var initialDate = getStartingDayOfCalendar(firstDay, options);
        var matrixOptions = {
            width: options.width,
            height: options.height,
            initialDate: initialDate,
            shift: { day: 1 }
        };
        var daysMatrix = createMatrix(matrixOptions, function (date) { return date; });
        return {
            daysMatrix: daysMatrix,
            month: firstDay
        };
    }

    function formatDaysCalendar(daysCalendar, formatOptions, monthIndex) {
        return {
            month: daysCalendar.month,
            monthTitle: chronos.formatDate(daysCalendar.month, formatOptions.monthTitle, formatOptions.locale),
            yearTitle: chronos.formatDate(daysCalendar.month, formatOptions.yearTitle, formatOptions.locale),
            weekNumbers: getWeekNumbers(daysCalendar.daysMatrix, formatOptions.weekNumbers, formatOptions.locale),
            weekdays: getShiftedWeekdays(formatOptions.locale),
            weeks: daysCalendar.daysMatrix.map(function (week, weekIndex) { return ({
                days: week.map(function (date, dayIndex) { return ({
                    date: date,
                    label: chronos.formatDate(date, formatOptions.dayLabel, formatOptions.locale),
                    monthIndex: monthIndex,
                    weekIndex: weekIndex,
                    dayIndex: dayIndex
                }); })
            }); })
        };
    }
    function getWeekNumbers(daysMatrix, format, locale) {
        return daysMatrix.map(function (days) { return (days[0] ? chronos.formatDate(days[0], format, locale) : ''); });
    }
    function getShiftedWeekdays(locale) {
        var _locale = chronos.getLocale(locale);
        var weekdays = _locale.weekdaysShort();
        var firstDayOfWeek = _locale.firstDayOfWeek();
        return __spread(weekdays.slice(firstDayOfWeek), weekdays.slice(0, firstDayOfWeek));
    }

    function flagDaysCalendar(formattedMonth, options) {
        formattedMonth.weeks.forEach(function (week) {
            /* tslint:disable-next-line: cyclomatic-complexity */
            week.days.forEach(function (day, dayIndex) {
                // datepicker
                var isOtherMonth = !chronos.isSameMonth(day.date, formattedMonth.month);
                var isHovered = !isOtherMonth && chronos.isSameDay(day.date, options.hoveredDate);
                // date range picker
                var isSelectionStart = !isOtherMonth &&
                    options.selectedRange &&
                    chronos.isSameDay(day.date, options.selectedRange[0]);
                var isSelectionEnd = !isOtherMonth &&
                    options.selectedRange &&
                    chronos.isSameDay(day.date, options.selectedRange[1]);
                var isSelected = (!isOtherMonth && chronos.isSameDay(day.date, options.selectedDate)) ||
                    isSelectionStart ||
                    isSelectionEnd;
                var isInRange = !isOtherMonth &&
                    options.selectedRange &&
                    isDateInRange(day.date, options.selectedRange, options.hoveredDate);
                var isDisabled = options.isDisabled ||
                    chronos.isBefore(day.date, options.minDate, 'day') ||
                    chronos.isAfter(day.date, options.maxDate, 'day') ||
                    chronos.isDisabledDay(day.date, options.daysDisabled) ||
                    isDisabledDate(day.date, options.datesDisabled) ||
                    isEnabledDate(day.date, options.datesEnabled);
                var currentDate = new Date();
                var isToday = !isOtherMonth && chronos.isSameDay(day.date, currentDate);
                var customClasses = options.dateCustomClasses && options.dateCustomClasses
                    .map(function (dcc) { return chronos.isSameDay(day.date, dcc.date) ? dcc.classes : []; })
                    .reduce(function (previousValue, currentValue) { return previousValue.concat(currentValue); }, [])
                    .join(' ')
                    || '';
                // decide update or not
                var newDay = Object.assign({}, day, {
                    isOtherMonth: isOtherMonth,
                    isHovered: isHovered,
                    isSelected: isSelected,
                    isSelectionStart: isSelectionStart,
                    isSelectionEnd: isSelectionEnd,
                    isInRange: isInRange,
                    isDisabled: isDisabled,
                    isToday: isToday,
                    customClasses: customClasses
                });
                if (day.isOtherMonth !== newDay.isOtherMonth ||
                    day.isHovered !== newDay.isHovered ||
                    day.isSelected !== newDay.isSelected ||
                    day.isSelectionStart !== newDay.isSelectionStart ||
                    day.isSelectionEnd !== newDay.isSelectionEnd ||
                    day.isDisabled !== newDay.isDisabled ||
                    day.isInRange !== newDay.isInRange ||
                    day.customClasses !== newDay.customClasses) {
                    week.days[dayIndex] = newDay;
                }
            });
        });
        // todo: add check for linked calendars
        formattedMonth.hideLeftArrow =
            options.isDisabled ||
                (options.monthIndex > 0 && options.monthIndex !== options.displayMonths);
        formattedMonth.hideRightArrow =
            options.isDisabled ||
                (options.monthIndex < options.displayMonths &&
                    options.monthIndex + 1 !== options.displayMonths);
        formattedMonth.disableLeftArrow = isMonthDisabled(chronos.shiftDate(formattedMonth.month, { month: -1 }), options.minDate, options.maxDate);
        formattedMonth.disableRightArrow = isMonthDisabled(chronos.shiftDate(formattedMonth.month, { month: 1 }), options.minDate, options.maxDate);
        return formattedMonth;
    }
    function isDateInRange(date, selectedRange, hoveredDate) {
        if (!date || !selectedRange[0]) {
            return false;
        }
        if (selectedRange[1]) {
            return date > selectedRange[0] && date <= selectedRange[1];
        }
        if (hoveredDate) {
            return date > selectedRange[0] && date <= hoveredDate;
        }
        return false;
    }

    function canSwitchMode(mode, minMode) {
        return minMode ? mode >= minMode : true;
    }

    var height = 4;
    var width = 3;
    var shift = { month: 1 };
    function formatMonthsCalendar(viewDate, formatOptions) {
        var initialDate = chronos.startOf(viewDate, 'year');
        var matrixOptions = { width: width, height: height, initialDate: initialDate, shift: shift };
        var monthMatrix = createMatrix(matrixOptions, function (date) { return ({
            date: date,
            label: chronos.formatDate(date, formatOptions.monthLabel, formatOptions.locale)
        }); });
        return {
            months: monthMatrix,
            monthTitle: '',
            yearTitle: chronos.formatDate(viewDate, formatOptions.yearTitle, formatOptions.locale)
        };
    }

    function flagMonthsCalendar(monthCalendar, options) {
        monthCalendar.months.forEach(function (months, rowIndex) {
            months.forEach(function (month, monthIndex) {
                var isHovered = chronos.isSameMonth(month.date, options.hoveredMonth);
                var isDisabled = options.isDisabled ||
                    isMonthDisabled(month.date, options.minDate, options.maxDate);
                var isSelected = chronos.isSameMonth(month.date, options.selectedDate);
                var newMonth = Object.assign(/*{},*/ month, {
                    isHovered: isHovered,
                    isDisabled: isDisabled,
                    isSelected: isSelected
                });
                if (month.isHovered !== newMonth.isHovered ||
                    month.isDisabled !== newMonth.isDisabled ||
                    month.isSelected !== newMonth.isSelected) {
                    monthCalendar.months[rowIndex][monthIndex] = newMonth;
                }
            });
        });
        // todo: add check for linked calendars
        monthCalendar.hideLeftArrow =
            options.monthIndex > 0 && options.monthIndex !== options.displayMonths;
        monthCalendar.hideRightArrow =
            options.monthIndex < options.displayMonths &&
                options.monthIndex + 1 !== options.displayMonths;
        monthCalendar.disableLeftArrow = isYearDisabled(chronos.shiftDate(monthCalendar.months[0][0].date, { year: -1 }), options.minDate, options.maxDate);
        monthCalendar.disableRightArrow = isYearDisabled(chronos.shiftDate(monthCalendar.months[0][0].date, { year: 1 }), options.minDate, options.maxDate);
        return monthCalendar;
    }

    var height$1 = 4;
    var width$1 = 4;
    var yearsPerCalendar = height$1 * width$1;
    var initialYearShift = (Math.floor(yearsPerCalendar / 2) - 1) * -1;
    var shift$1 = { year: 1 };
    function formatYearsCalendar(viewDate, formatOptions, previousInitialDate) {
        var initialDate = calculateInitialDate(viewDate, previousInitialDate);
        var matrixOptions = { width: width$1, height: height$1, initialDate: initialDate, shift: shift$1 };
        var yearsMatrix = createMatrix(matrixOptions, function (date) { return ({
            date: date,
            label: chronos.formatDate(date, formatOptions.yearLabel, formatOptions.locale)
        }); });
        var yearTitle = formatYearRangeTitle(yearsMatrix, formatOptions);
        return {
            years: yearsMatrix,
            monthTitle: '',
            yearTitle: yearTitle
        };
    }
    function calculateInitialDate(viewDate, previousInitialDate) {
        if (previousInitialDate
            && viewDate.getFullYear() >= previousInitialDate.getFullYear()
            && viewDate.getFullYear() < previousInitialDate.getFullYear() + yearsPerCalendar) {
            return previousInitialDate;
        }
        return chronos.shiftDate(viewDate, { year: initialYearShift });
    }
    function formatYearRangeTitle(yearsMatrix, formatOptions) {
        var from = chronos.formatDate(yearsMatrix[0][0].date, formatOptions.yearTitle, formatOptions.locale);
        var to = chronos.formatDate(yearsMatrix[height$1 - 1][width$1 - 1].date, formatOptions.yearTitle, formatOptions.locale);
        return from + " - " + to;
    }

    function flagYearsCalendar(yearsCalendar, options) {
        yearsCalendar.years.forEach(function (years, rowIndex) {
            years.forEach(function (year, yearIndex) {
                var isHovered = chronos.isSameYear(year.date, options.hoveredYear);
                var isDisabled = options.isDisabled ||
                    isYearDisabled(year.date, options.minDate, options.maxDate);
                var isSelected = chronos.isSameYear(year.date, options.selectedDate);
                var newMonth = Object.assign(/*{},*/ year, { isHovered: isHovered, isDisabled: isDisabled, isSelected: isSelected });
                if (year.isHovered !== newMonth.isHovered ||
                    year.isDisabled !== newMonth.isDisabled ||
                    year.isSelected !== newMonth.isSelected) {
                    yearsCalendar.years[rowIndex][yearIndex] = newMonth;
                }
            });
        });
        // todo: add check for linked calendars
        yearsCalendar.hideLeftArrow =
            options.yearIndex > 0 && options.yearIndex !== options.displayMonths;
        yearsCalendar.hideRightArrow =
            options.yearIndex < options.displayMonths &&
                options.yearIndex + 1 !== options.displayMonths;
        yearsCalendar.disableLeftArrow = isYearDisabled(chronos.shiftDate(yearsCalendar.years[0][0].date, { year: -1 }), options.minDate, options.maxDate);
        var i = yearsCalendar.years.length - 1;
        var j = yearsCalendar.years[i].length - 1;
        yearsCalendar.disableRightArrow = isYearDisabled(chronos.shiftDate(yearsCalendar.years[i][j].date, { year: 1 }), options.minDate, options.maxDate);
        return yearsCalendar;
    }

    // tslint:disable:max-file-line-count
    /* tslint:disable-next-line: cyclomatic-complexity */
    function bsDatepickerReducer(state, action) {
        if (state === void 0) { state = initialDatepickerState; }
        switch (action.type) {
            case BsDatepickerActions.CALCULATE: {
                return calculateReducer(state);
            }
            case BsDatepickerActions.FORMAT: {
                return formatReducer(state, action);
            }
            case BsDatepickerActions.FLAG: {
                return flagReducer(state, action);
            }
            case BsDatepickerActions.NAVIGATE_OFFSET: {
                return navigateOffsetReducer(state, action);
            }
            case BsDatepickerActions.NAVIGATE_TO: {
                var payload = action.payload;
                var date = chronos.setFullDate(state.view.date, payload.unit);
                var newState = void 0;
                var mode = void 0;
                if (canSwitchMode(payload.viewMode, state.minMode)) {
                    mode = payload.viewMode;
                    newState = { view: { date: date, mode: mode } };
                }
                else {
                    mode = state.view.mode;
                    newState = { selectedDate: date, view: { date: date, mode: mode } };
                }
                return Object.assign({}, state, newState);
            }
            case BsDatepickerActions.CHANGE_VIEWMODE: {
                if (!canSwitchMode(action.payload, state.minMode)) {
                    return state;
                }
                var date = state.view.date;
                var mode = action.payload;
                var newState = { view: { date: date, mode: mode } };
                return Object.assign({}, state, newState);
            }
            case BsDatepickerActions.HOVER: {
                return Object.assign({}, state, { hoveredDate: action.payload });
            }
            case BsDatepickerActions.SELECT: {
                var newState = {
                    selectedDate: action.payload,
                    view: state.view
                };
                var mode = state.view.mode;
                var _date = action.payload || state.view.date;
                var date = getViewDate(_date, state.minDate, state.maxDate);
                newState.view = { mode: mode, date: date };
                return Object.assign({}, state, newState);
            }
            case BsDatepickerActions.SET_OPTIONS: {
                var newState = action.payload;
                // preserve view mode
                var mode = newState.minMode ? newState.minMode : state.view.mode;
                var _viewDate = chronos.isDateValid(newState.value) && newState.value
                    || chronos.isArray(newState.value) && chronos.isDateValid(newState.value[0]) && newState.value[0]
                    || state.view.date;
                var date = getViewDate(_viewDate, newState.minDate, newState.maxDate);
                newState.view = { mode: mode, date: date };
                // update selected value
                if (newState.value) {
                    // if new value is array we work with date range
                    if (chronos.isArray(newState.value)) {
                        newState.selectedRange = newState.value;
                    }
                    // if new value is a date -> datepicker
                    if (newState.value instanceof Date) {
                        newState.selectedDate = newState.value;
                    }
                    // provided value is not supported :)
                    // need to report it somehow
                }
                return Object.assign({}, state, newState);
            }
            // date range picker
            case BsDatepickerActions.SELECT_RANGE: {
                var newState = {
                    selectedRange: action.payload,
                    view: state.view
                };
                var mode = state.view.mode;
                var _date = action.payload && action.payload[0] || state.view.date;
                var date = getViewDate(_date, state.minDate, state.maxDate);
                newState.view = { mode: mode, date: date };
                return Object.assign({}, state, newState);
            }
            case BsDatepickerActions.SET_MIN_DATE: {
                return Object.assign({}, state, {
                    minDate: action.payload
                });
            }
            case BsDatepickerActions.SET_MAX_DATE: {
                return Object.assign({}, state, {
                    maxDate: action.payload
                });
            }
            case BsDatepickerActions.SET_IS_DISABLED: {
                return Object.assign({}, state, {
                    isDisabled: action.payload
                });
            }
            case BsDatepickerActions.SET_DATE_CUSTOM_CLASSES: {
                return Object.assign({}, state, {
                    dateCustomClasses: action.payload
                });
            }
            default:
                return state;
        }
    }
    function calculateReducer(state) {
        // how many calendars
        var displayMonths = (state.displayOneMonthRange &&
            isDisplayOneMonth(state.view.date, state.minDate, state.maxDate)) ? 1 : state.displayMonths;
        // use selected date on initial rendering if set
        var viewDate = state.view.date;
        if (state.view.mode === 'day') {
            if (state.showPreviousMonth && state.selectedRange.length === 0) {
                viewDate = chronos.shiftDate(viewDate, { month: -1 });
            }
            state.monthViewOptions.firstDayOfWeek = chronos.getLocale(state.locale).firstDayOfWeek();
            var monthsModel = new Array(displayMonths);
            for (var monthIndex = 0; monthIndex < displayMonths; monthIndex++) {
                // todo: for unlinked calendars it will be harder
                monthsModel[monthIndex] = calcDaysCalendar(viewDate, state.monthViewOptions);
                viewDate = chronos.shiftDate(viewDate, { month: 1 });
            }
            return Object.assign({}, state, { monthsModel: monthsModel });
        }
        if (state.view.mode === 'month') {
            var monthsCalendar = new Array(displayMonths);
            for (var calendarIndex = 0; calendarIndex < displayMonths; calendarIndex++) {
                // todo: for unlinked calendars it will be harder
                monthsCalendar[calendarIndex] = formatMonthsCalendar(viewDate, getFormatOptions(state));
                viewDate = chronos.shiftDate(viewDate, { year: 1 });
            }
            return Object.assign({}, state, { monthsCalendar: monthsCalendar });
        }
        if (state.view.mode === 'year') {
            var yearsCalendarModel = new Array(displayMonths);
            for (var calendarIndex = 0; calendarIndex < displayMonths; calendarIndex++) {
                // todo: for unlinked calendars it will be harder
                yearsCalendarModel[calendarIndex] = formatYearsCalendar(viewDate, getFormatOptions(state), state.minMode === 'year' ? getYearsCalendarInitialDate(state, calendarIndex) : undefined);
                viewDate = chronos.shiftDate(viewDate, { year: yearsPerCalendar });
            }
            return Object.assign({}, state, { yearsCalendarModel: yearsCalendarModel });
        }
        return state;
    }
    function formatReducer(state, action) {
        if (state.view.mode === 'day') {
            var formattedMonths = state.monthsModel.map(function (month, monthIndex) {
                return formatDaysCalendar(month, getFormatOptions(state), monthIndex);
            });
            return Object.assign({}, state, { formattedMonths: formattedMonths });
        }
        // how many calendars
        var displayMonths = state.displayMonths;
        // check initial rendering
        // use selected date on initial rendering if set
        var viewDate = state.view.date;
        if (state.view.mode === 'month') {
            var monthsCalendar = new Array(displayMonths);
            for (var calendarIndex = 0; calendarIndex < displayMonths; calendarIndex++) {
                // todo: for unlinked calendars it will be harder
                monthsCalendar[calendarIndex] = formatMonthsCalendar(viewDate, getFormatOptions(state));
                viewDate = chronos.shiftDate(viewDate, { year: 1 });
            }
            return Object.assign({}, state, { monthsCalendar: monthsCalendar });
        }
        if (state.view.mode === 'year') {
            var yearsCalendarModel = new Array(displayMonths);
            for (var calendarIndex = 0; calendarIndex < displayMonths; calendarIndex++) {
                // todo: for unlinked calendars it will be harder
                yearsCalendarModel[calendarIndex] = formatYearsCalendar(viewDate, getFormatOptions(state));
                viewDate = chronos.shiftDate(viewDate, { year: 16 });
            }
            return Object.assign({}, state, { yearsCalendarModel: yearsCalendarModel });
        }
        return state;
    }
    function flagReducer(state, action) {
        var displayMonths = isDisplayOneMonth(state.view.date, state.minDate, state.maxDate) ? 1 : state.displayMonths;
        if (state.view.mode === 'day') {
            var flaggedMonths = state.formattedMonths.map(function (formattedMonth, monthIndex) {
                return flagDaysCalendar(formattedMonth, {
                    isDisabled: state.isDisabled,
                    minDate: state.minDate,
                    maxDate: state.maxDate,
                    daysDisabled: state.daysDisabled,
                    datesDisabled: state.datesDisabled,
                    datesEnabled: state.datesEnabled,
                    hoveredDate: state.hoveredDate,
                    selectedDate: state.selectedDate,
                    selectedRange: state.selectedRange,
                    displayMonths: displayMonths,
                    dateCustomClasses: state.dateCustomClasses,
                    monthIndex: monthIndex
                });
            });
            return Object.assign({}, state, { flaggedMonths: flaggedMonths });
        }
        if (state.view.mode === 'month') {
            var flaggedMonthsCalendar = state.monthsCalendar.map(function (formattedMonth, monthIndex) {
                return flagMonthsCalendar(formattedMonth, {
                    isDisabled: state.isDisabled,
                    minDate: state.minDate,
                    maxDate: state.maxDate,
                    hoveredMonth: state.hoveredMonth,
                    selectedDate: state.selectedDate,
                    displayMonths: displayMonths,
                    monthIndex: monthIndex
                });
            });
            return Object.assign({}, state, { flaggedMonthsCalendar: flaggedMonthsCalendar });
        }
        if (state.view.mode === 'year') {
            var yearsCalendarFlagged = state.yearsCalendarModel.map(function (formattedMonth, yearIndex) {
                return flagYearsCalendar(formattedMonth, {
                    isDisabled: state.isDisabled,
                    minDate: state.minDate,
                    maxDate: state.maxDate,
                    hoveredYear: state.hoveredYear,
                    selectedDate: state.selectedDate,
                    displayMonths: displayMonths,
                    yearIndex: yearIndex
                });
            });
            return Object.assign({}, state, { yearsCalendarFlagged: yearsCalendarFlagged });
        }
        return state;
    }
    function navigateOffsetReducer(state, action) {
        var newState = {
            view: {
                mode: state.view.mode,
                date: shiftViewDate(state, action)
            }
        };
        return Object.assign({}, state, newState);
    }
    function shiftViewDate(state, action) {
        if (state.view.mode === 'year' && state.minMode === 'year') {
            var initialDate = getYearsCalendarInitialDate(state, 0);
            var middleDate = chronos.shiftDate(initialDate, { year: -initialYearShift });
            return chronos.shiftDate(middleDate, action.payload);
        }
        return chronos.shiftDate(chronos.startOf(state.view.date, 'month'), action.payload);
    }
    function getFormatOptions(state) {
        return {
            locale: state.locale,
            monthTitle: state.monthTitle,
            yearTitle: state.yearTitle,
            dayLabel: state.dayLabel,
            monthLabel: state.monthLabel,
            yearLabel: state.yearLabel,
            weekNumbers: state.weekNumbers
        };
    }
    /**
     * if view date is provided (bsValue|ngModel) it should be shown
     * if view date is not provider:
     * if minDate>currentDate (default view value), show minDate
     * if maxDate<currentDate(default view value) show maxDate
     */
    function getViewDate(viewDate, minDate, maxDate) {
        var _date = Array.isArray(viewDate) ? viewDate[0] : viewDate;
        if (minDate && chronos.isAfter(minDate, _date, 'day')) {
            return minDate;
        }
        if (maxDate && chronos.isBefore(maxDate, _date, 'day')) {
            return maxDate;
        }
        return _date;
    }
    function isDisplayOneMonth(viewDate, minDate, maxDate) {
        if (maxDate && chronos.isSame(maxDate, viewDate, 'day')) {
            return true;
        }
        if (minDate && maxDate && minDate.getMonth() === maxDate.getMonth()) {
            return true;
        }
        return false;
    }

    var BsDatepickerStore = /** @class */ (function (_super) {
        __extends(BsDatepickerStore, _super);
        function BsDatepickerStore() {
            var _this = this;
            var _dispatcher = new rxjs.BehaviorSubject({
                type: '[datepicker] dispatcher init'
            });
            var state = new miniNgrx.MiniState(initialDatepickerState, _dispatcher, bsDatepickerReducer);
            _this = _super.call(this, _dispatcher, bsDatepickerReducer, state) || this;
            return _this;
        }
        /** @nocollapse */ BsDatepickerStore.ɵfac = function BsDatepickerStore_Factory(t) { return new (t || BsDatepickerStore)(); };
        /** @nocollapse */ BsDatepickerStore.ɵprov = core["ɵɵdefineInjectable"]({ token: BsDatepickerStore, factory: BsDatepickerStore.ɵfac });
        return BsDatepickerStore;
    }(miniNgrx.MiniStore));
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDatepickerStore, [{
            type: core.Injectable
        }], function () { return []; }, null); })();

    var DATEPICKER_ANIMATION_TIMING = '220ms cubic-bezier(0, 0, 0.2, 1)';
    var datepickerAnimation = animations.trigger('datepickerAnimation', [
        animations.state('animated-down', animations.style({ height: '*', overflow: 'hidden' })),
        animations.transition('* => animated-down', [
            animations.style({ height: 0, overflow: 'hidden' }),
            animations.animate(DATEPICKER_ANIMATION_TIMING)
        ]),
        animations.state('animated-up', animations.style({ height: '*', overflow: 'hidden' })),
        animations.transition('* => animated-up', [
            animations.style({ height: '*', overflow: 'hidden' }),
            animations.animate(DATEPICKER_ANIMATION_TIMING)
        ]),
        animations.transition('* => unanimated', animations.animate('0s'))
    ]);

    /** *************** */
    // events
    /** *************** */
    var BsNavigationDirection;
    (function (BsNavigationDirection) {
        BsNavigationDirection[BsNavigationDirection["UP"] = 0] = "UP";
        BsNavigationDirection[BsNavigationDirection["DOWN"] = 1] = "DOWN";
    })(BsNavigationDirection || (BsNavigationDirection = {}));

    var BsCurrentDateViewComponent = /** @class */ (function () {
        function BsCurrentDateViewComponent() {
        }
        /** @nocollapse */ BsCurrentDateViewComponent.ɵfac = function BsCurrentDateViewComponent_Factory(t) { return new (t || BsCurrentDateViewComponent)(); };
        /** @nocollapse */ BsCurrentDateViewComponent.ɵcmp = core["ɵɵdefineComponent"]({ type: BsCurrentDateViewComponent, selectors: [["bs-current-date"]], inputs: { title: "title" }, decls: 3, vars: 1, consts: [[1, "current-timedate"]], template: function BsCurrentDateViewComponent_Template(rf, ctx) { if (rf & 1) {
                core["ɵɵelementStart"](0, "div", 0);
                core["ɵɵelementStart"](1, "span");
                core["ɵɵtext"](2);
                core["ɵɵelementEnd"]();
                core["ɵɵelementEnd"]();
            } if (rf & 2) {
                core["ɵɵadvance"](2);
                core["ɵɵtextInterpolate"](ctx.title);
            } }, encapsulation: 2 });
        return BsCurrentDateViewComponent;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsCurrentDateViewComponent, [{
            type: core.Component,
            args: [{
                    selector: 'bs-current-date',
                    template: "<div class=\"current-timedate\"><span>{{ title }}</span></div>"
                }]
        }], null, { title: [{
                type: core.Input
            }] }); })();

    // tslint:disable:max-line-length
    var BsTimepickerViewComponent = /** @class */ (function () {
        function BsTimepickerViewComponent() {
            this.ampm = 'ok';
            this.hours = 0;
            this.minutes = 0;
        }
        /** @nocollapse */ BsTimepickerViewComponent.ɵfac = function BsTimepickerViewComponent_Factory(t) { return new (t || BsTimepickerViewComponent)(); };
        /** @nocollapse */ BsTimepickerViewComponent.ɵcmp = core["ɵɵdefineComponent"]({ type: BsTimepickerViewComponent, selectors: [["bs-timepicker"]], decls: 16, vars: 3, consts: [[1, "bs-timepicker-container"], [1, "bs-timepicker-controls"], ["type", "button", 1, "bs-decrease"], ["type", "text", "placeholder", "00", 3, "value"], ["type", "button", 1, "bs-increase"], ["type", "button", 1, "switch-time-format"], ["src", "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==", "alt", ""]], template: function BsTimepickerViewComponent_Template(rf, ctx) { if (rf & 1) {
                core["ɵɵelementStart"](0, "div", 0);
                core["ɵɵelementStart"](1, "div", 1);
                core["ɵɵelementStart"](2, "button", 2);
                core["ɵɵtext"](3, "-");
                core["ɵɵelementEnd"]();
                core["ɵɵelement"](4, "input", 3);
                core["ɵɵelementStart"](5, "button", 4);
                core["ɵɵtext"](6, "+");
                core["ɵɵelementEnd"]();
                core["ɵɵelementEnd"]();
                core["ɵɵelementStart"](7, "div", 1);
                core["ɵɵelementStart"](8, "button", 2);
                core["ɵɵtext"](9, "-");
                core["ɵɵelementEnd"]();
                core["ɵɵelement"](10, "input", 3);
                core["ɵɵelementStart"](11, "button", 4);
                core["ɵɵtext"](12, "+");
                core["ɵɵelementEnd"]();
                core["ɵɵelementEnd"]();
                core["ɵɵelementStart"](13, "button", 5);
                core["ɵɵtext"](14);
                core["ɵɵelement"](15, "img", 6);
                core["ɵɵelementEnd"]();
                core["ɵɵelementEnd"]();
            } if (rf & 2) {
                core["ɵɵadvance"](4);
                core["ɵɵproperty"]("value", ctx.hours);
                core["ɵɵadvance"](6);
                core["ɵɵproperty"]("value", ctx.minutes);
                core["ɵɵadvance"](4);
                core["ɵɵtextInterpolate1"]("", ctx.ampm, " ");
            } }, encapsulation: 2 });
        return BsTimepickerViewComponent;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsTimepickerViewComponent, [{
            type: core.Component,
            args: [{
                    selector: 'bs-timepicker',
                    template: "\n    <div class=\"bs-timepicker-container\">\n      <div class=\"bs-timepicker-controls\">\n        <button class=\"bs-decrease\" type=\"button\">-</button>\n        <input type=\"text\" [value]=\"hours\" placeholder=\"00\">\n        <button class=\"bs-increase\" type=\"button\">+</button>\n      </div>\n      <div class=\"bs-timepicker-controls\">\n        <button class=\"bs-decrease\" type=\"button\">-</button>\n        <input type=\"text\" [value]=\"minutes\" placeholder=\"00\">\n        <button class=\"bs-increase\" type=\"button\">+</button>\n      </div>\n      <button class=\"switch-time-format\" type=\"button\">{{ ampm }}\n        <img\n          src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==\"\n          alt=\"\">\n      </button>\n    </div>\n  "
                }]
        }], null, null); })();

    function BsCalendarLayoutComponent_bs_current_date_0_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelement"](0, "bs-current-date", 4);
    } }
    function BsCalendarLayoutComponent_bs_timepicker_5_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelement"](0, "bs-timepicker");
    } }
    var _c0 = [[["bs-datepicker-navigation-view"]], "*"];
    var _c1 = ["bs-datepicker-navigation-view", "*"];
    var BsCalendarLayoutComponent = /** @class */ (function () {
        function BsCalendarLayoutComponent() {
        }
        /** @nocollapse */ BsCalendarLayoutComponent.ɵfac = function BsCalendarLayoutComponent_Factory(t) { return new (t || BsCalendarLayoutComponent)(); };
        /** @nocollapse */ BsCalendarLayoutComponent.ɵcmp = core["ɵɵdefineComponent"]({ type: BsCalendarLayoutComponent, selectors: [["bs-calendar-layout"]], ngContentSelectors: _c1, decls: 6, vars: 2, consts: [["title", "hey there", 4, "ngIf"], [1, "bs-datepicker-head"], [1, "bs-datepicker-body"], [4, "ngIf"], ["title", "hey there"]], template: function BsCalendarLayoutComponent_Template(rf, ctx) { if (rf & 1) {
                core["ɵɵprojectionDef"](_c0);
                core["ɵɵtemplate"](0, BsCalendarLayoutComponent_bs_current_date_0_Template, 1, 0, "bs-current-date", 0);
                core["ɵɵelementStart"](1, "div", 1);
                core["ɵɵprojection"](2);
                core["ɵɵelementEnd"]();
                core["ɵɵelementStart"](3, "div", 2);
                core["ɵɵprojection"](4, 1);
                core["ɵɵelementEnd"]();
                core["ɵɵtemplate"](5, BsCalendarLayoutComponent_bs_timepicker_5_Template, 1, 0, "bs-timepicker", 3);
            } if (rf & 2) {
                core["ɵɵproperty"]("ngIf", false);
                core["ɵɵadvance"](5);
                core["ɵɵproperty"]("ngIf", false);
            } }, directives: [common.NgIf, BsCurrentDateViewComponent, BsTimepickerViewComponent], encapsulation: 2 });
        return BsCalendarLayoutComponent;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsCalendarLayoutComponent, [{
            type: core.Component,
            args: [{
                    selector: 'bs-calendar-layout',
                    template: "\n    <!-- current date, will be added in nearest releases -->\n    <bs-current-date title=\"hey there\" *ngIf=\"false\"></bs-current-date>\n\n    <!--navigation-->\n    <div class=\"bs-datepicker-head\">\n      <ng-content select=\"bs-datepicker-navigation-view\"></ng-content>\n    </div>\n\n    <div class=\"bs-datepicker-body\">\n      <ng-content></ng-content>\n    </div>\n\n    <!--timepicker-->\n    <bs-timepicker *ngIf=\"false\"></bs-timepicker>\n  "
                }]
        }], null, null); })();

    function BsDatepickerNavigationViewComponent_ng_container_3_Template(rf, ctx) { if (rf & 1) {
        var _r406 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementContainerStart"](0);
        core["ɵɵtext"](1, " \u200B ");
        core["ɵɵelementStart"](2, "button", 2);
        core["ɵɵlistener"]("click", function BsDatepickerNavigationViewComponent_ng_container_3_Template_button_click_2_listener() { core["ɵɵrestoreView"](_r406); var ctx_r405 = core["ɵɵnextContext"](); return ctx_r405.view("month"); });
        core["ɵɵelementStart"](3, "span");
        core["ɵɵtext"](4);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementContainerEnd"]();
    } if (rf & 2) {
        var ctx_r404 = core["ɵɵnextContext"]();
        core["ɵɵadvance"](4);
        core["ɵɵtextInterpolate"](ctx_r404.calendar.monthTitle);
    } }
    var BsDatepickerNavigationViewComponent = /** @class */ (function () {
        function BsDatepickerNavigationViewComponent() {
            this.onNavigate = new core.EventEmitter();
            this.onViewMode = new core.EventEmitter();
        }
        BsDatepickerNavigationViewComponent.prototype.navTo = function (down) {
            this.onNavigate.emit(down ? BsNavigationDirection.DOWN : BsNavigationDirection.UP);
        };
        BsDatepickerNavigationViewComponent.prototype.view = function (viewMode) {
            this.onViewMode.emit(viewMode);
        };
        /** @nocollapse */ BsDatepickerNavigationViewComponent.ɵfac = function BsDatepickerNavigationViewComponent_Factory(t) { return new (t || BsDatepickerNavigationViewComponent)(); };
        /** @nocollapse */ BsDatepickerNavigationViewComponent.ɵcmp = core["ɵɵdefineComponent"]({ type: BsDatepickerNavigationViewComponent, selectors: [["bs-datepicker-navigation-view"]], inputs: { calendar: "calendar" }, outputs: { onNavigate: "onNavigate", onViewMode: "onViewMode" }, decls: 12, vars: 8, consts: [["type", "button", 1, "previous", 3, "disabled", "click"], [4, "ngIf"], ["type", "button", 1, "current", 3, "click"], ["type", "button", 1, "next", 3, "disabled", "click"]], template: function BsDatepickerNavigationViewComponent_Template(rf, ctx) { if (rf & 1) {
                core["ɵɵelementStart"](0, "button", 0);
                core["ɵɵlistener"]("click", function BsDatepickerNavigationViewComponent_Template_button_click_0_listener() { return ctx.navTo(true); });
                core["ɵɵelementStart"](1, "span");
                core["ɵɵtext"](2, "\u2039");
                core["ɵɵelementEnd"]();
                core["ɵɵelementEnd"]();
                core["ɵɵtemplate"](3, BsDatepickerNavigationViewComponent_ng_container_3_Template, 5, 1, "ng-container", 1);
                core["ɵɵtext"](4, " \u200B ");
                core["ɵɵelementStart"](5, "button", 2);
                core["ɵɵlistener"]("click", function BsDatepickerNavigationViewComponent_Template_button_click_5_listener() { return ctx.view("year"); });
                core["ɵɵelementStart"](6, "span");
                core["ɵɵtext"](7);
                core["ɵɵelementEnd"]();
                core["ɵɵelementEnd"]();
                core["ɵɵtext"](8, " \u200B ");
                core["ɵɵelementStart"](9, "button", 3);
                core["ɵɵlistener"]("click", function BsDatepickerNavigationViewComponent_Template_button_click_9_listener() { return ctx.navTo(false); });
                core["ɵɵelementStart"](10, "span");
                core["ɵɵtext"](11, "\u203A");
                core["ɵɵelementEnd"]();
                core["ɵɵelementEnd"]();
            } if (rf & 2) {
                core["ɵɵstyleProp"]("visibility", ctx.calendar.hideLeftArrow ? "hidden" : "visible");
                core["ɵɵproperty"]("disabled", ctx.calendar.disableLeftArrow);
                core["ɵɵadvance"](3);
                core["ɵɵproperty"]("ngIf", ctx.calendar.monthTitle);
                core["ɵɵadvance"](4);
                core["ɵɵtextInterpolate"](ctx.calendar.yearTitle);
                core["ɵɵadvance"](2);
                core["ɵɵstyleProp"]("visibility", ctx.calendar.hideRightArrow ? "hidden" : "visible");
                core["ɵɵproperty"]("disabled", ctx.calendar.disableRightArrow);
            } }, directives: [common.NgIf], encapsulation: 2, changeDetection: 0 });
        return BsDatepickerNavigationViewComponent;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDatepickerNavigationViewComponent, [{
            type: core.Component,
            args: [{
                    selector: 'bs-datepicker-navigation-view',
                    changeDetection: core.ChangeDetectionStrategy.OnPush,
                    template: "\n    <button class=\"previous\"\n            [disabled]=\"calendar.disableLeftArrow\"\n            [style.visibility]=\"calendar.hideLeftArrow ? 'hidden' : 'visible'\"\n            type=\"button\"\n            (click)=\"navTo(true)\">\n      <span>&lsaquo;</span>\n    </button>\n\n    <ng-container *ngIf=\"calendar.monthTitle\">\n      &#8203;  <!-- zero-width space needed for correct alignement\n                  with preserveWhitespaces: false in Angular -->\n\n      <button class=\"current\"\n            type=\"button\"\n            (click)=\"view('month')\"\n      ><span>{{ calendar.monthTitle }}</span>\n      </button>\n    </ng-container>\n\n    &#8203;  <!-- zero-width space needed for correct alignement\n                  with preserveWhitespaces: false in Angular -->\n\n    <button class=\"current\" (click)=\"view('year')\" type=\"button\">\n      <span>{{ calendar.yearTitle }}</span>\n    </button>\n\n    &#8203;  <!-- zero-width space needed for correct alignement\n                  with preserveWhitespaces: false in Angular -->\n\n    <button class=\"next\"\n            [disabled]=\"calendar.disableRightArrow\"\n            [style.visibility]=\"calendar.hideRightArrow ? 'hidden' : 'visible'\"\n            type=\"button\"\n            (click)=\"navTo(false)\"><span>&rsaquo;</span>\n    </button>\n  "
                }]
        }], null, { calendar: [{
                type: core.Input
            }], onNavigate: [{
                type: core.Output
            }], onViewMode: [{
                type: core.Output
            }] }); })();

    var _c0$1 = ["bsDatepickerDayDecorator", ""];
    var BsDatepickerDayDecoratorComponent = /** @class */ (function () {
        function BsDatepickerDayDecoratorComponent(_config, _elRef, _renderer) {
            this._config = _config;
            this._elRef = _elRef;
            this._renderer = _renderer;
        }
        BsDatepickerDayDecoratorComponent.prototype.ngOnInit = function () {
            var _this = this;
            if (this.day.isToday && this._config && this._config.customTodayClass) {
                this._renderer.addClass(this._elRef.nativeElement, this._config.customTodayClass);
            }
            if (typeof this.day.customClasses === 'string') {
                this.day.customClasses.split(' ')
                    .filter(function (className) { return className; })
                    .forEach(function (className) {
                    _this._renderer.addClass(_this._elRef.nativeElement, className);
                });
            }
        };
        /** @nocollapse */ BsDatepickerDayDecoratorComponent.ɵfac = function BsDatepickerDayDecoratorComponent_Factory(t) { return new (t || BsDatepickerDayDecoratorComponent)(core["ɵɵdirectiveInject"](BsDatepickerConfig), core["ɵɵdirectiveInject"](core.ElementRef), core["ɵɵdirectiveInject"](core.Renderer2)); };
        /** @nocollapse */ BsDatepickerDayDecoratorComponent.ɵcmp = core["ɵɵdefineComponent"]({ type: BsDatepickerDayDecoratorComponent, selectors: [["", "bsDatepickerDayDecorator", ""]], hostVars: 16, hostBindings: function BsDatepickerDayDecoratorComponent_HostBindings(rf, ctx) { if (rf & 2) {
                core["ɵɵclassProp"]("disabled", ctx.day.isDisabled)("is-highlighted", ctx.day.isHovered)("is-other-month", ctx.day.isOtherMonth)("is-active-other-month", ctx.day.isOtherMonthHovered)("in-range", ctx.day.isInRange)("select-start", ctx.day.isSelectionStart)("select-end", ctx.day.isSelectionEnd)("selected", ctx.day.isSelected);
            } }, inputs: { day: "day" }, attrs: _c0$1, decls: 1, vars: 1, template: function BsDatepickerDayDecoratorComponent_Template(rf, ctx) { if (rf & 1) {
                core["ɵɵtext"](0);
            } if (rf & 2) {
                core["ɵɵtextInterpolate"](ctx.day.label);
            } }, encapsulation: 2, changeDetection: 0 });
        return BsDatepickerDayDecoratorComponent;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDatepickerDayDecoratorComponent, [{
            type: core.Component,
            args: [{
                    selector: '[bsDatepickerDayDecorator]',
                    changeDetection: core.ChangeDetectionStrategy.OnPush,
                    host: {
                        '[class.disabled]': 'day.isDisabled',
                        '[class.is-highlighted]': 'day.isHovered',
                        '[class.is-other-month]': 'day.isOtherMonth',
                        '[class.is-active-other-month]': 'day.isOtherMonthHovered',
                        '[class.in-range]': 'day.isInRange',
                        '[class.select-start]': 'day.isSelectionStart',
                        '[class.select-end]': 'day.isSelectionEnd',
                        '[class.selected]': 'day.isSelected'
                    },
                    template: "{{ day.label }}"
                }]
        }], function () { return [{ type: BsDatepickerConfig }, { type: core.ElementRef }, { type: core.Renderer2 }]; }, { day: [{
                type: core.Input
            }] }); })();

    function BsDaysCalendarViewComponent_th_5_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelement"](0, "th");
    } }
    function BsDaysCalendarViewComponent_th_6_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "th", 5);
        core["ɵɵtext"](1);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var i_r411 = ctx.index;
        var ctx_r408 = core["ɵɵnextContext"]();
        core["ɵɵadvance"](1);
        core["ɵɵtextInterpolate1"]("", ctx_r408.calendar.weekdays[i_r411], " ");
    } }
    function BsDaysCalendarViewComponent_tr_8_td_1_span_1_Template(rf, ctx) { if (rf & 1) {
        var _r420 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "span", 11);
        core["ɵɵlistener"]("click", function BsDaysCalendarViewComponent_tr_8_td_1_span_1_Template_span_click_0_listener() { core["ɵɵrestoreView"](_r420); var week_r412 = core["ɵɵnextContext"](2).$implicit; var ctx_r418 = core["ɵɵnextContext"](); return ctx_r418.selectWeek(week_r412); });
        core["ɵɵtext"](1);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var i_r413 = core["ɵɵnextContext"](2).index;
        var ctx_r416 = core["ɵɵnextContext"]();
        core["ɵɵadvance"](1);
        core["ɵɵtextInterpolate"](ctx_r416.calendar.weekNumbers[i_r413]);
    } }
    function BsDaysCalendarViewComponent_tr_8_td_1_span_2_Template(rf, ctx) { if (rf & 1) {
        var _r424 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "span", 12);
        core["ɵɵlistener"]("click", function BsDaysCalendarViewComponent_tr_8_td_1_span_2_Template_span_click_0_listener() { core["ɵɵrestoreView"](_r424); var week_r412 = core["ɵɵnextContext"](2).$implicit; var ctx_r422 = core["ɵɵnextContext"](); return ctx_r422.selectWeek(week_r412); })("mouseenter", function BsDaysCalendarViewComponent_tr_8_td_1_span_2_Template_span_mouseenter_0_listener() { core["ɵɵrestoreView"](_r424); var week_r412 = core["ɵɵnextContext"](2).$implicit; var ctx_r425 = core["ɵɵnextContext"](); return ctx_r425.weekHoverHandler(week_r412, true); })("mouseleave", function BsDaysCalendarViewComponent_tr_8_td_1_span_2_Template_span_mouseleave_0_listener() { core["ɵɵrestoreView"](_r424); var week_r412 = core["ɵɵnextContext"](2).$implicit; var ctx_r427 = core["ɵɵnextContext"](); return ctx_r427.weekHoverHandler(week_r412, false); });
        core["ɵɵtext"](1);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var i_r413 = core["ɵɵnextContext"](2).index;
        var ctx_r417 = core["ɵɵnextContext"]();
        core["ɵɵadvance"](1);
        core["ɵɵtextInterpolate"](ctx_r417.calendar.weekNumbers[i_r413]);
    } }
    function BsDaysCalendarViewComponent_tr_8_td_1_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "td", 8);
        core["ɵɵtemplate"](1, BsDaysCalendarViewComponent_tr_8_td_1_span_1_Template, 2, 1, "span", 9);
        core["ɵɵtemplate"](2, BsDaysCalendarViewComponent_tr_8_td_1_span_2_Template, 2, 1, "span", 10);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r414 = core["ɵɵnextContext"](2);
        core["ɵɵclassProp"]("active-week", ctx_r414.isWeekHovered);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngIf", ctx_r414.isiOS);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngIf", !ctx_r414.isiOS);
    } }
    function BsDaysCalendarViewComponent_tr_8_td_2_span_1_Template(rf, ctx) { if (rf & 1) {
        var _r435 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "span", 16);
        core["ɵɵlistener"]("click", function BsDaysCalendarViewComponent_tr_8_td_2_span_1_Template_span_click_0_listener() { core["ɵɵrestoreView"](_r435); var day_r430 = core["ɵɵnextContext"]().$implicit; var ctx_r433 = core["ɵɵnextContext"](2); return ctx_r433.selectDay(day_r430); })("mouseenter", function BsDaysCalendarViewComponent_tr_8_td_2_span_1_Template_span_mouseenter_0_listener() { core["ɵɵrestoreView"](_r435); var day_r430 = core["ɵɵnextContext"]().$implicit; var ctx_r436 = core["ɵɵnextContext"](2); return ctx_r436.hoverDay(day_r430, true); })("mouseleave", function BsDaysCalendarViewComponent_tr_8_td_2_span_1_Template_span_mouseleave_0_listener() { core["ɵɵrestoreView"](_r435); var day_r430 = core["ɵɵnextContext"]().$implicit; var ctx_r438 = core["ɵɵnextContext"](2); return ctx_r438.hoverDay(day_r430, false); });
        core["ɵɵtext"](1);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var day_r430 = core["ɵɵnextContext"]().$implicit;
        core["ɵɵproperty"]("day", day_r430);
        core["ɵɵadvance"](1);
        core["ɵɵtextInterpolate"](day_r430.label);
    } }
    function BsDaysCalendarViewComponent_tr_8_td_2_span_2_Template(rf, ctx) { if (rf & 1) {
        var _r443 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "span", 17);
        core["ɵɵlistener"]("click", function BsDaysCalendarViewComponent_tr_8_td_2_span_2_Template_span_click_0_listener() { core["ɵɵrestoreView"](_r443); var day_r430 = core["ɵɵnextContext"]().$implicit; var ctx_r441 = core["ɵɵnextContext"](2); return ctx_r441.selectDay(day_r430); });
        core["ɵɵtext"](1);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var day_r430 = core["ɵɵnextContext"]().$implicit;
        core["ɵɵproperty"]("day", day_r430);
        core["ɵɵadvance"](1);
        core["ɵɵtextInterpolate"](day_r430.label);
    } }
    function BsDaysCalendarViewComponent_tr_8_td_2_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "td", 13);
        core["ɵɵtemplate"](1, BsDaysCalendarViewComponent_tr_8_td_2_span_1_Template, 2, 2, "span", 14);
        core["ɵɵtemplate"](2, BsDaysCalendarViewComponent_tr_8_td_2_span_2_Template, 2, 2, "span", 15);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r415 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngIf", !ctx_r415.isiOS);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngIf", ctx_r415.isiOS);
    } }
    function BsDaysCalendarViewComponent_tr_8_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "tr");
        core["ɵɵtemplate"](1, BsDaysCalendarViewComponent_tr_8_td_1_Template, 3, 4, "td", 6);
        core["ɵɵtemplate"](2, BsDaysCalendarViewComponent_tr_8_td_2_Template, 3, 2, "td", 7);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var week_r412 = ctx.$implicit;
        var ctx_r409 = core["ɵɵnextContext"]();
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngIf", ctx_r409.options.showWeekNumbers);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", week_r412.days);
    } }
    var BsDaysCalendarViewComponent = /** @class */ (function () {
        function BsDaysCalendarViewComponent(_config) {
            this._config = _config;
            this.onNavigate = new core.EventEmitter();
            this.onViewMode = new core.EventEmitter();
            this.onSelect = new core.EventEmitter();
            this.onHover = new core.EventEmitter();
            this.onHoverWeek = new core.EventEmitter();
            this.isiOS = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
        }
        BsDaysCalendarViewComponent.prototype.navigateTo = function (event) {
            var step = BsNavigationDirection.DOWN === event ? -1 : 1;
            this.onNavigate.emit({ step: { month: step } });
        };
        BsDaysCalendarViewComponent.prototype.changeViewMode = function (event) {
            this.onViewMode.emit(event);
        };
        BsDaysCalendarViewComponent.prototype.selectDay = function (event) {
            this.onSelect.emit(event);
        };
        BsDaysCalendarViewComponent.prototype.selectWeek = function (week) {
            var _this = this;
            if (!this._config.selectWeek && !this._config.selectWeekDateRange) {
                return;
            }
            if (week.days.length === 0) {
                return;
            }
            if (this._config.selectWeek && week.days[0]
                && !week.days[0].isDisabled
                && this._config.selectFromOtherMonth) {
                this.onSelect.emit(week.days[0]);
                return;
            }
            var selectedDay = week.days.find(function (day) {
                return _this._config.selectFromOtherMonth
                    ? !day.isDisabled
                    : !day.isOtherMonth && !day.isDisabled;
            });
            this.onSelect.emit(selectedDay);
            if (this._config.selectWeekDateRange) {
                var days = week.days.slice(0);
                var lastDayOfRange = days.reverse().find(function (day) {
                    return _this._config.selectFromOtherMonth
                        ? !day.isDisabled
                        : !day.isOtherMonth && !day.isDisabled;
                });
                this.onSelect.emit(lastDayOfRange);
            }
        };
        BsDaysCalendarViewComponent.prototype.weekHoverHandler = function (cell, isHovered) {
            var _this = this;
            if (!this._config.selectWeek && !this._config.selectWeekDateRange) {
                return;
            }
            var hasActiveDays = cell.days.find(function (day) {
                return _this._config.selectFromOtherMonth
                    ? !day.isDisabled
                    : !day.isOtherMonth && !day.isDisabled;
            });
            if (hasActiveDays) {
                cell.isHovered = isHovered;
                this.isWeekHovered = isHovered;
                this.onHoverWeek.emit(cell);
            }
        };
        BsDaysCalendarViewComponent.prototype.hoverDay = function (cell, isHovered) {
            if (this._config.selectFromOtherMonth && cell.isOtherMonth) {
                cell.isOtherMonthHovered = isHovered;
            }
            this.onHover.emit({ cell: cell, isHovered: isHovered });
        };
        /** @nocollapse */ BsDaysCalendarViewComponent.ɵfac = function BsDaysCalendarViewComponent_Factory(t) { return new (t || BsDaysCalendarViewComponent)(core["ɵɵdirectiveInject"](BsDatepickerConfig)); };
        /** @nocollapse */ BsDaysCalendarViewComponent.ɵcmp = core["ɵɵdefineComponent"]({ type: BsDaysCalendarViewComponent, selectors: [["bs-days-calendar-view"]], inputs: { calendar: "calendar", options: "options" }, outputs: { onNavigate: "onNavigate", onViewMode: "onViewMode", onSelect: "onSelect", onHover: "onHover", onHoverWeek: "onHoverWeek" }, decls: 9, vars: 4, consts: [[3, "calendar", "onNavigate", "onViewMode"], ["role", "grid", 1, "days", "weeks"], [4, "ngIf"], ["aria-label", "weekday", 4, "ngFor", "ngForOf"], [4, "ngFor", "ngForOf"], ["aria-label", "weekday"], ["class", "week", 3, "active-week", 4, "ngIf"], ["role", "gridcell", 4, "ngFor", "ngForOf"], [1, "week"], [3, "click", 4, "ngIf"], [3, "click", "mouseenter", "mouseleave", 4, "ngIf"], [3, "click"], [3, "click", "mouseenter", "mouseleave"], ["role", "gridcell"], ["bsDatepickerDayDecorator", "", 3, "day", "click", "mouseenter", "mouseleave", 4, "ngIf"], ["bsDatepickerDayDecorator", "", 3, "day", "click", 4, "ngIf"], ["bsDatepickerDayDecorator", "", 3, "day", "click", "mouseenter", "mouseleave"], ["bsDatepickerDayDecorator", "", 3, "day", "click"]], template: function BsDaysCalendarViewComponent_Template(rf, ctx) { if (rf & 1) {
                core["ɵɵelementStart"](0, "bs-calendar-layout");
                core["ɵɵelementStart"](1, "bs-datepicker-navigation-view", 0);
                core["ɵɵlistener"]("onNavigate", function BsDaysCalendarViewComponent_Template_bs_datepicker_navigation_view_onNavigate_1_listener($event) { return ctx.navigateTo($event); })("onViewMode", function BsDaysCalendarViewComponent_Template_bs_datepicker_navigation_view_onViewMode_1_listener($event) { return ctx.changeViewMode($event); });
                core["ɵɵelementEnd"]();
                core["ɵɵelementStart"](2, "table", 1);
                core["ɵɵelementStart"](3, "thead");
                core["ɵɵelementStart"](4, "tr");
                core["ɵɵtemplate"](5, BsDaysCalendarViewComponent_th_5_Template, 1, 0, "th", 2);
                core["ɵɵtemplate"](6, BsDaysCalendarViewComponent_th_6_Template, 2, 1, "th", 3);
                core["ɵɵelementEnd"]();
                core["ɵɵelementEnd"]();
                core["ɵɵelementStart"](7, "tbody");
                core["ɵɵtemplate"](8, BsDaysCalendarViewComponent_tr_8_Template, 3, 2, "tr", 4);
                core["ɵɵelementEnd"]();
                core["ɵɵelementEnd"]();
                core["ɵɵelementEnd"]();
            } if (rf & 2) {
                core["ɵɵadvance"](1);
                core["ɵɵproperty"]("calendar", ctx.calendar);
                core["ɵɵadvance"](4);
                core["ɵɵproperty"]("ngIf", ctx.options.showWeekNumbers);
                core["ɵɵadvance"](1);
                core["ɵɵproperty"]("ngForOf", ctx.calendar.weekdays);
                core["ɵɵadvance"](2);
                core["ɵɵproperty"]("ngForOf", ctx.calendar.weeks);
            } }, directives: [BsCalendarLayoutComponent, BsDatepickerNavigationViewComponent, common.NgIf, common.NgForOf, BsDatepickerDayDecoratorComponent], encapsulation: 2 });
        return BsDaysCalendarViewComponent;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDaysCalendarViewComponent, [{
            type: core.Component,
            args: [{
                    selector: 'bs-days-calendar-view',
                    // changeDetection: ChangeDetectionStrategy.OnPush,
                    template: "\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]=\"calendar\"\n        (onNavigate)=\"navigateTo($event)\"\n        (onViewMode)=\"changeViewMode($event)\"\n      ></bs-datepicker-navigation-view>\n\n      <!--days matrix-->\n      <table role=\"grid\" class=\"days weeks\">\n        <thead>\n        <tr>\n          <!--if show weeks-->\n          <th *ngIf=\"options.showWeekNumbers\"></th>\n          <th *ngFor=\"let weekday of calendar.weekdays; let i = index\"\n              aria-label=\"weekday\">{{ calendar.weekdays[i] }}\n          </th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor=\"let week of calendar.weeks; let i = index\">\n          <td class=\"week\" [class.active-week]=\"isWeekHovered\"  *ngIf=\"options.showWeekNumbers\">\n            <span *ngIf=\"isiOS\" (click)=\"selectWeek(week)\">{{ calendar.weekNumbers[i] }}</span>\n            <span *ngIf=\"!isiOS\"\n                (click)=\"selectWeek(week)\"\n                (mouseenter)=\"weekHoverHandler(week, true)\"\n                (mouseleave)=\"weekHoverHandler(week, false)\">{{ calendar.weekNumbers[i] }}</span>\n          </td>\n          <td *ngFor=\"let day of week.days\" role=\"gridcell\">\n          <span *ngIf=\"!isiOS\" bsDatepickerDayDecorator\n                [day]=\"day\"\n                (click)=\"selectDay(day)\"\n                (mouseenter)=\"hoverDay(day, true)\"\n                (mouseleave)=\"hoverDay(day, false)\">{{ day.label }}</span>\n            <span *ngIf=\"isiOS\" bsDatepickerDayDecorator\n                  [day]=\"day\"\n                  (click)=\"selectDay(day)\">{{ day.label }}</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n\n    </bs-calendar-layout>\n  "
                }]
        }], function () { return [{ type: BsDatepickerConfig }]; }, { calendar: [{
                type: core.Input
            }], options: [{
                type: core.Input
            }], onNavigate: [{
                type: core.Output
            }], onViewMode: [{
                type: core.Output
            }], onSelect: [{
                type: core.Output
            }], onHover: [{
                type: core.Output
            }], onHoverWeek: [{
                type: core.Output
            }] }); })();

    function BsMonthCalendarViewComponent_tr_4_td_1_Template(rf, ctx) { if (rf & 1) {
        var _r450 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "td", 4);
        core["ɵɵlistener"]("click", function BsMonthCalendarViewComponent_tr_4_td_1_Template_td_click_0_listener() { core["ɵɵrestoreView"](_r450); var month_r448 = ctx.$implicit; var ctx_r449 = core["ɵɵnextContext"](2); return ctx_r449.viewMonth(month_r448); })("mouseenter", function BsMonthCalendarViewComponent_tr_4_td_1_Template_td_mouseenter_0_listener() { core["ɵɵrestoreView"](_r450); var month_r448 = ctx.$implicit; var ctx_r451 = core["ɵɵnextContext"](2); return ctx_r451.hoverMonth(month_r448, true); })("mouseleave", function BsMonthCalendarViewComponent_tr_4_td_1_Template_td_mouseleave_0_listener() { core["ɵɵrestoreView"](_r450); var month_r448 = ctx.$implicit; var ctx_r452 = core["ɵɵnextContext"](2); return ctx_r452.hoverMonth(month_r448, false); });
        core["ɵɵelementStart"](1, "span");
        core["ɵɵtext"](2);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var month_r448 = ctx.$implicit;
        core["ɵɵclassProp"]("disabled", month_r448.isDisabled)("is-highlighted", month_r448.isHovered);
        core["ɵɵadvance"](1);
        core["ɵɵclassProp"]("selected", month_r448.isSelected);
        core["ɵɵadvance"](1);
        core["ɵɵtextInterpolate"](month_r448.label);
    } }
    function BsMonthCalendarViewComponent_tr_4_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "tr");
        core["ɵɵtemplate"](1, BsMonthCalendarViewComponent_tr_4_td_1_Template, 3, 7, "td", 3);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var row_r446 = ctx.$implicit;
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", row_r446);
    } }
    var BsMonthCalendarViewComponent = /** @class */ (function () {
        function BsMonthCalendarViewComponent() {
            this.onNavigate = new core.EventEmitter();
            this.onViewMode = new core.EventEmitter();
            this.onSelect = new core.EventEmitter();
            this.onHover = new core.EventEmitter();
        }
        BsMonthCalendarViewComponent.prototype.navigateTo = function (event) {
            var step = BsNavigationDirection.DOWN === event ? -1 : 1;
            this.onNavigate.emit({ step: { year: step } });
        };
        BsMonthCalendarViewComponent.prototype.viewMonth = function (month) {
            this.onSelect.emit(month);
        };
        BsMonthCalendarViewComponent.prototype.hoverMonth = function (cell, isHovered) {
            this.onHover.emit({ cell: cell, isHovered: isHovered });
        };
        BsMonthCalendarViewComponent.prototype.changeViewMode = function (event) {
            this.onViewMode.emit(event);
        };
        /** @nocollapse */ BsMonthCalendarViewComponent.ɵfac = function BsMonthCalendarViewComponent_Factory(t) { return new (t || BsMonthCalendarViewComponent)(); };
        /** @nocollapse */ BsMonthCalendarViewComponent.ɵcmp = core["ɵɵdefineComponent"]({ type: BsMonthCalendarViewComponent, selectors: [["bs-month-calendar-view"]], inputs: { calendar: "calendar" }, outputs: { onNavigate: "onNavigate", onViewMode: "onViewMode", onSelect: "onSelect", onHover: "onHover" }, decls: 5, vars: 2, consts: [[3, "calendar", "onNavigate", "onViewMode"], ["role", "grid", 1, "months"], [4, "ngFor", "ngForOf"], ["role", "gridcell", 3, "disabled", "is-highlighted", "click", "mouseenter", "mouseleave", 4, "ngFor", "ngForOf"], ["role", "gridcell", 3, "click", "mouseenter", "mouseleave"]], template: function BsMonthCalendarViewComponent_Template(rf, ctx) { if (rf & 1) {
                core["ɵɵelementStart"](0, "bs-calendar-layout");
                core["ɵɵelementStart"](1, "bs-datepicker-navigation-view", 0);
                core["ɵɵlistener"]("onNavigate", function BsMonthCalendarViewComponent_Template_bs_datepicker_navigation_view_onNavigate_1_listener($event) { return ctx.navigateTo($event); })("onViewMode", function BsMonthCalendarViewComponent_Template_bs_datepicker_navigation_view_onViewMode_1_listener($event) { return ctx.changeViewMode($event); });
                core["ɵɵelementEnd"]();
                core["ɵɵelementStart"](2, "table", 1);
                core["ɵɵelementStart"](3, "tbody");
                core["ɵɵtemplate"](4, BsMonthCalendarViewComponent_tr_4_Template, 2, 1, "tr", 2);
                core["ɵɵelementEnd"]();
                core["ɵɵelementEnd"]();
                core["ɵɵelementEnd"]();
            } if (rf & 2) {
                core["ɵɵadvance"](1);
                core["ɵɵproperty"]("calendar", ctx.calendar);
                core["ɵɵadvance"](3);
                core["ɵɵproperty"]("ngForOf", ctx.calendar.months);
            } }, directives: [BsCalendarLayoutComponent, BsDatepickerNavigationViewComponent, common.NgForOf], encapsulation: 2 });
        return BsMonthCalendarViewComponent;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsMonthCalendarViewComponent, [{
            type: core.Component,
            args: [{
                    selector: 'bs-month-calendar-view',
                    template: "\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]=\"calendar\"\n        (onNavigate)=\"navigateTo($event)\"\n        (onViewMode)=\"changeViewMode($event)\"\n      ></bs-datepicker-navigation-view>\n\n      <table role=\"grid\" class=\"months\">\n        <tbody>\n        <tr *ngFor=\"let row of calendar.months\">\n          <td *ngFor=\"let month of row\" role=\"gridcell\"\n              (click)=\"viewMonth(month)\"\n              (mouseenter)=\"hoverMonth(month, true)\"\n              (mouseleave)=\"hoverMonth(month, false)\"\n              [class.disabled]=\"month.isDisabled\"\n              [class.is-highlighted]=\"month.isHovered\">\n            <span [class.selected]=\"month.isSelected\">{{ month.label }}</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </bs-calendar-layout>\n  "
                }]
        }], null, { calendar: [{
                type: core.Input
            }], onNavigate: [{
                type: core.Output
            }], onViewMode: [{
                type: core.Output
            }], onSelect: [{
                type: core.Output
            }], onHover: [{
                type: core.Output
            }] }); })();

    function BsYearsCalendarViewComponent_tr_4_td_1_Template(rf, ctx) { if (rf & 1) {
        var _r458 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "td", 4);
        core["ɵɵlistener"]("click", function BsYearsCalendarViewComponent_tr_4_td_1_Template_td_click_0_listener() { core["ɵɵrestoreView"](_r458); var year_r456 = ctx.$implicit; var ctx_r457 = core["ɵɵnextContext"](2); return ctx_r457.viewYear(year_r456); })("mouseenter", function BsYearsCalendarViewComponent_tr_4_td_1_Template_td_mouseenter_0_listener() { core["ɵɵrestoreView"](_r458); var year_r456 = ctx.$implicit; var ctx_r459 = core["ɵɵnextContext"](2); return ctx_r459.hoverYear(year_r456, true); })("mouseleave", function BsYearsCalendarViewComponent_tr_4_td_1_Template_td_mouseleave_0_listener() { core["ɵɵrestoreView"](_r458); var year_r456 = ctx.$implicit; var ctx_r460 = core["ɵɵnextContext"](2); return ctx_r460.hoverYear(year_r456, false); });
        core["ɵɵelementStart"](1, "span");
        core["ɵɵtext"](2);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var year_r456 = ctx.$implicit;
        core["ɵɵclassProp"]("disabled", year_r456.isDisabled)("is-highlighted", year_r456.isHovered);
        core["ɵɵadvance"](1);
        core["ɵɵclassProp"]("selected", year_r456.isSelected);
        core["ɵɵadvance"](1);
        core["ɵɵtextInterpolate"](year_r456.label);
    } }
    function BsYearsCalendarViewComponent_tr_4_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "tr");
        core["ɵɵtemplate"](1, BsYearsCalendarViewComponent_tr_4_td_1_Template, 3, 7, "td", 3);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var row_r454 = ctx.$implicit;
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", row_r454);
    } }
    var BsYearsCalendarViewComponent = /** @class */ (function () {
        function BsYearsCalendarViewComponent() {
            this.onNavigate = new core.EventEmitter();
            this.onViewMode = new core.EventEmitter();
            this.onSelect = new core.EventEmitter();
            this.onHover = new core.EventEmitter();
        }
        BsYearsCalendarViewComponent.prototype.navigateTo = function (event) {
            var step = BsNavigationDirection.DOWN === event ? -1 : 1;
            this.onNavigate.emit({ step: { year: step * yearsPerCalendar } });
        };
        BsYearsCalendarViewComponent.prototype.viewYear = function (year) {
            this.onSelect.emit(year);
        };
        BsYearsCalendarViewComponent.prototype.hoverYear = function (cell, isHovered) {
            this.onHover.emit({ cell: cell, isHovered: isHovered });
        };
        BsYearsCalendarViewComponent.prototype.changeViewMode = function (event) {
            this.onViewMode.emit(event);
        };
        /** @nocollapse */ BsYearsCalendarViewComponent.ɵfac = function BsYearsCalendarViewComponent_Factory(t) { return new (t || BsYearsCalendarViewComponent)(); };
        /** @nocollapse */ BsYearsCalendarViewComponent.ɵcmp = core["ɵɵdefineComponent"]({ type: BsYearsCalendarViewComponent, selectors: [["bs-years-calendar-view"]], inputs: { calendar: "calendar" }, outputs: { onNavigate: "onNavigate", onViewMode: "onViewMode", onSelect: "onSelect", onHover: "onHover" }, decls: 5, vars: 2, consts: [[3, "calendar", "onNavigate", "onViewMode"], ["role", "grid", 1, "years"], [4, "ngFor", "ngForOf"], ["role", "gridcell", 3, "disabled", "is-highlighted", "click", "mouseenter", "mouseleave", 4, "ngFor", "ngForOf"], ["role", "gridcell", 3, "click", "mouseenter", "mouseleave"]], template: function BsYearsCalendarViewComponent_Template(rf, ctx) { if (rf & 1) {
                core["ɵɵelementStart"](0, "bs-calendar-layout");
                core["ɵɵelementStart"](1, "bs-datepicker-navigation-view", 0);
                core["ɵɵlistener"]("onNavigate", function BsYearsCalendarViewComponent_Template_bs_datepicker_navigation_view_onNavigate_1_listener($event) { return ctx.navigateTo($event); })("onViewMode", function BsYearsCalendarViewComponent_Template_bs_datepicker_navigation_view_onViewMode_1_listener($event) { return ctx.changeViewMode($event); });
                core["ɵɵelementEnd"]();
                core["ɵɵelementStart"](2, "table", 1);
                core["ɵɵelementStart"](3, "tbody");
                core["ɵɵtemplate"](4, BsYearsCalendarViewComponent_tr_4_Template, 2, 1, "tr", 2);
                core["ɵɵelementEnd"]();
                core["ɵɵelementEnd"]();
                core["ɵɵelementEnd"]();
            } if (rf & 2) {
                core["ɵɵadvance"](1);
                core["ɵɵproperty"]("calendar", ctx.calendar);
                core["ɵɵadvance"](3);
                core["ɵɵproperty"]("ngForOf", ctx.calendar.years);
            } }, directives: [BsCalendarLayoutComponent, BsDatepickerNavigationViewComponent, common.NgForOf], encapsulation: 2 });
        return BsYearsCalendarViewComponent;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsYearsCalendarViewComponent, [{
            type: core.Component,
            args: [{
                    selector: 'bs-years-calendar-view',
                    template: "\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]=\"calendar\"\n        (onNavigate)=\"navigateTo($event)\"\n        (onViewMode)=\"changeViewMode($event)\"\n      ></bs-datepicker-navigation-view>\n\n      <table role=\"grid\" class=\"years\">\n        <tbody>\n        <tr *ngFor=\"let row of calendar.years\">\n          <td *ngFor=\"let year of row\" role=\"gridcell\"\n              (click)=\"viewYear(year)\"\n              (mouseenter)=\"hoverYear(year, true)\"\n              (mouseleave)=\"hoverYear(year, false)\"\n              [class.disabled]=\"year.isDisabled\"\n              [class.is-highlighted]=\"year.isHovered\">\n            <span [class.selected]=\"year.isSelected\">{{ year.label }}</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </bs-calendar-layout>\n  "
                }]
        }], null, { calendar: [{
                type: core.Input
            }], onNavigate: [{
                type: core.Output
            }], onViewMode: [{
                type: core.Output
            }], onSelect: [{
                type: core.Output
            }], onHover: [{
                type: core.Output
            }] }); })();

    function BsCustomDatesViewComponent_button_1_Template(rf, ctx) { if (rf & 1) {
        var _r261 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "button", 2);
        core["ɵɵlistener"]("click", function BsCustomDatesViewComponent_button_1_Template_button_click_0_listener() { core["ɵɵrestoreView"](_r261); var range_r259 = ctx.$implicit; var ctx_r260 = core["ɵɵnextContext"](); return ctx_r260.selectFromRanges(range_r259); });
        core["ɵɵtext"](1);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var range_r259 = ctx.$implicit;
        var ctx_r258 = core["ɵɵnextContext"]();
        core["ɵɵclassProp"]("selected", range_r259.value === ctx_r258.selectedRange);
        core["ɵɵadvance"](1);
        core["ɵɵtextInterpolate1"](" ", range_r259.label, " ");
    } }
    var BsCustomDatesViewComponent = /** @class */ (function () {
        function BsCustomDatesViewComponent() {
            this.onSelect = new core.EventEmitter();
            this.customRange = null;
        }
        BsCustomDatesViewComponent.prototype.selectFromRanges = function (range) {
            this.onSelect.emit(range);
        };
        BsCustomDatesViewComponent.prototype.checkRange = function () {
            var _this = this;
            return this.ranges ? this.ranges.filter(function (range) { return range.value === _this.selectedRange; }).length > 0 : false;
        };
        /** @nocollapse */ BsCustomDatesViewComponent.ɵfac = function BsCustomDatesViewComponent_Factory(t) { return new (t || BsCustomDatesViewComponent)(); };
        /** @nocollapse */ BsCustomDatesViewComponent.ɵcmp = core["ɵɵdefineComponent"]({ type: BsCustomDatesViewComponent, selectors: [["bs-custom-date-view"]], inputs: { ranges: "ranges", selectedRange: "selectedRange" }, outputs: { onSelect: "onSelect" }, decls: 4, vars: 3, consts: [[1, "bs-datepicker-predefined-btns"], ["type", "button", "class", "btn", 3, "selected", "click", 4, "ngFor", "ngForOf"], ["type", "button", 1, "btn", 3, "click"]], template: function BsCustomDatesViewComponent_Template(rf, ctx) { if (rf & 1) {
                core["ɵɵelementStart"](0, "div", 0);
                core["ɵɵtemplate"](1, BsCustomDatesViewComponent_button_1_Template, 2, 3, "button", 1);
                core["ɵɵelementStart"](2, "button", 2);
                core["ɵɵlistener"]("click", function BsCustomDatesViewComponent_Template_button_click_2_listener() { return ctx.selectFromRanges(ctx.customRange); });
                core["ɵɵtext"](3, " Custom Range ");
                core["ɵɵelementEnd"]();
                core["ɵɵelementEnd"]();
            } if (rf & 2) {
                core["ɵɵadvance"](1);
                core["ɵɵproperty"]("ngForOf", ctx.ranges);
                core["ɵɵadvance"](1);
                core["ɵɵclassProp"]("selected", !ctx.checkRange());
            } }, directives: [common.NgForOf], encapsulation: 2, changeDetection: 0 });
        return BsCustomDatesViewComponent;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsCustomDatesViewComponent, [{
            type: core.Component,
            args: [{
                    selector: 'bs-custom-date-view',
                    template: "\n    <div class=\"bs-datepicker-predefined-btns\">\n      <button *ngFor=\"let range of ranges\"\n        type=\"button\"\n        class=\"btn\"\n        (click)=\"selectFromRanges(range)\"\n        [class.selected]=\"range.value === selectedRange\">\n        {{ range.label }}\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn\"\n        (click)=\"selectFromRanges(customRange)\"\n        [class.selected]=\"!checkRange()\">\n        Custom Range\n      </button>\n    </div>\n  ",
                    changeDetection: core.ChangeDetectionStrategy.OnPush
                }]
        }], null, { ranges: [{
                type: core.Input
            }], selectedRange: [{
                type: core.Input
            }], onSelect: [{
                type: core.Output
            }] }); })();

    function BsDatepickerContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template(rf, ctx) { if (rf & 1) {
        var _r272 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "bs-days-calendar-view", 11);
        core["ɵɵlistener"]("onNavigate", function BsDatepickerContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onNavigate_0_listener($event) { core["ɵɵrestoreView"](_r272); var ctx_r271 = core["ɵɵnextContext"](3); return ctx_r271.navigateTo($event); })("onViewMode", function BsDatepickerContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onViewMode_0_listener($event) { core["ɵɵrestoreView"](_r272); var ctx_r273 = core["ɵɵnextContext"](3); return ctx_r273.setViewMode($event); })("onHover", function BsDatepickerContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onHover_0_listener($event) { core["ɵɵrestoreView"](_r272); var ctx_r274 = core["ɵɵnextContext"](3); return ctx_r274.dayHoverHandler($event); })("onHoverWeek", function BsDatepickerContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onHoverWeek_0_listener($event) { core["ɵɵrestoreView"](_r272); var ctx_r275 = core["ɵɵnextContext"](3); return ctx_r275.weekHoverHandler($event); })("onSelect", function BsDatepickerContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onSelect_0_listener($event) { core["ɵɵrestoreView"](_r272); var ctx_r276 = core["ɵɵnextContext"](3); return ctx_r276.daySelectHandler($event); });
        core["ɵɵpipe"](1, "async");
        core["ɵɵpipe"](2, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var calendar_r270 = ctx.$implicit;
        var ctx_r269 = core["ɵɵnextContext"](3);
        var tmp_0_0 = null;
        var currVal_0 = ((tmp_0_0 = core["ɵɵpipeBind1"](1, 4, ctx_r269.daysCalendar)) == null ? null : tmp_0_0.length) > 1;
        core["ɵɵclassProp"]("bs-datepicker-multiple", currVal_0);
        core["ɵɵproperty"]("calendar", calendar_r270)("options", core["ɵɵpipeBind1"](2, 6, ctx_r269.options));
    } }
    function BsDatepickerContainerComponent_div_0_div_4_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "div", 9);
        core["ɵɵtemplate"](1, BsDatepickerContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template, 3, 8, "bs-days-calendar-view", 10);
        core["ɵɵpipe"](2, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r263 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", core["ɵɵpipeBind1"](2, 1, ctx_r263.daysCalendar));
    } }
    function BsDatepickerContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template(rf, ctx) { if (rf & 1) {
        var _r280 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "bs-month-calendar-view", 13);
        core["ɵɵlistener"]("onNavigate", function BsDatepickerContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template_bs_month_calendar_view_onNavigate_0_listener($event) { core["ɵɵrestoreView"](_r280); var ctx_r279 = core["ɵɵnextContext"](3); return ctx_r279.navigateTo($event); })("onViewMode", function BsDatepickerContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template_bs_month_calendar_view_onViewMode_0_listener($event) { core["ɵɵrestoreView"](_r280); var ctx_r281 = core["ɵɵnextContext"](3); return ctx_r281.setViewMode($event); })("onHover", function BsDatepickerContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template_bs_month_calendar_view_onHover_0_listener($event) { core["ɵɵrestoreView"](_r280); var ctx_r282 = core["ɵɵnextContext"](3); return ctx_r282.monthHoverHandler($event); })("onSelect", function BsDatepickerContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template_bs_month_calendar_view_onSelect_0_listener($event) { core["ɵɵrestoreView"](_r280); var ctx_r283 = core["ɵɵnextContext"](3); return ctx_r283.monthSelectHandler($event); });
        core["ɵɵpipe"](1, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var calendar_r278 = ctx.$implicit;
        var ctx_r277 = core["ɵɵnextContext"](3);
        var tmp_0_0 = null;
        var currVal_0 = ((tmp_0_0 = core["ɵɵpipeBind1"](1, 3, ctx_r277.daysCalendar)) == null ? null : tmp_0_0.length) > 1;
        core["ɵɵclassProp"]("bs-datepicker-multiple", currVal_0);
        core["ɵɵproperty"]("calendar", calendar_r278);
    } }
    function BsDatepickerContainerComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "div", 9);
        core["ɵɵtemplate"](1, BsDatepickerContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template, 2, 5, "bs-month-calendar-view", 12);
        core["ɵɵpipe"](2, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r264 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", core["ɵɵpipeBind1"](2, 1, ctx_r264.monthsCalendar));
    } }
    function BsDatepickerContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template(rf, ctx) { if (rf & 1) {
        var _r287 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "bs-years-calendar-view", 13);
        core["ɵɵlistener"]("onNavigate", function BsDatepickerContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template_bs_years_calendar_view_onNavigate_0_listener($event) { core["ɵɵrestoreView"](_r287); var ctx_r286 = core["ɵɵnextContext"](3); return ctx_r286.navigateTo($event); })("onViewMode", function BsDatepickerContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template_bs_years_calendar_view_onViewMode_0_listener($event) { core["ɵɵrestoreView"](_r287); var ctx_r288 = core["ɵɵnextContext"](3); return ctx_r288.setViewMode($event); })("onHover", function BsDatepickerContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template_bs_years_calendar_view_onHover_0_listener($event) { core["ɵɵrestoreView"](_r287); var ctx_r289 = core["ɵɵnextContext"](3); return ctx_r289.yearHoverHandler($event); })("onSelect", function BsDatepickerContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template_bs_years_calendar_view_onSelect_0_listener($event) { core["ɵɵrestoreView"](_r287); var ctx_r290 = core["ɵɵnextContext"](3); return ctx_r290.yearSelectHandler($event); });
        core["ɵɵpipe"](1, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var calendar_r285 = ctx.$implicit;
        var ctx_r284 = core["ɵɵnextContext"](3);
        var tmp_0_0 = null;
        var currVal_0 = ((tmp_0_0 = core["ɵɵpipeBind1"](1, 3, ctx_r284.daysCalendar)) == null ? null : tmp_0_0.length) > 1;
        core["ɵɵclassProp"]("bs-datepicker-multiple", currVal_0);
        core["ɵɵproperty"]("calendar", calendar_r285);
    } }
    function BsDatepickerContainerComponent_div_0_div_6_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "div", 9);
        core["ɵɵtemplate"](1, BsDatepickerContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template, 2, 5, "bs-years-calendar-view", 12);
        core["ɵɵpipe"](2, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r265 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", core["ɵɵpipeBind1"](2, 1, ctx_r265.yearsCalendar));
    } }
    function BsDatepickerContainerComponent_div_0_div_7_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "div", 6);
        core["ɵɵelementStart"](1, "button", 14);
        core["ɵɵtext"](2, "Apply");
        core["ɵɵelementEnd"]();
        core["ɵɵelementStart"](3, "button", 15);
        core["ɵɵtext"](4, "Cancel");
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } }
    function BsDatepickerContainerComponent_div_0_div_9_Template(rf, ctx) { if (rf & 1) {
        var _r292 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "div", 16);
        core["ɵɵelementStart"](1, "button", 17);
        core["ɵɵlistener"]("click", function BsDatepickerContainerComponent_div_0_div_9_Template_button_click_1_listener() { core["ɵɵrestoreView"](_r292); var ctx_r291 = core["ɵɵnextContext"](2); return ctx_r291.setToday(); });
        core["ɵɵtext"](2, "Today");
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r267 = core["ɵɵnextContext"](2);
        core["ɵɵclassProp"]("today-left", ctx_r267.todayPos === "left")("today-right", ctx_r267.todayPos === "right")("today-center", ctx_r267.todayPos === "center");
    } }
    function BsDatepickerContainerComponent_div_0_div_10_Template(rf, ctx) { if (rf & 1) {
        var _r294 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "div", 18);
        core["ɵɵelementStart"](1, "bs-custom-date-view", 19);
        core["ɵɵlistener"]("onSelect", function BsDatepickerContainerComponent_div_0_div_10_Template_bs_custom_date_view_onSelect_1_listener($event) { core["ɵɵrestoreView"](_r294); var ctx_r293 = core["ɵɵnextContext"](2); return ctx_r293.setRangeOnCalendar($event); });
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r268 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("selectedRange", ctx_r268.chosenRange)("ranges", ctx_r268.customRanges);
    } }
    function BsDatepickerContainerComponent_div_0_Template(rf, ctx) { if (rf & 1) {
        var _r296 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "div", 1);
        core["ɵɵelementStart"](1, "div", 2);
        core["ɵɵlistener"]("@datepickerAnimation.done", function BsDatepickerContainerComponent_div_0_Template_div_animation_datepickerAnimation_done_1_listener() { core["ɵɵrestoreView"](_r296); var ctx_r295 = core["ɵɵnextContext"](); return ctx_r295.positionServiceEnable(); });
        core["ɵɵelementStart"](2, "div", 3);
        core["ɵɵpipe"](3, "async");
        core["ɵɵtemplate"](4, BsDatepickerContainerComponent_div_0_div_4_Template, 3, 3, "div", 4);
        core["ɵɵtemplate"](5, BsDatepickerContainerComponent_div_0_div_5_Template, 3, 3, "div", 4);
        core["ɵɵtemplate"](6, BsDatepickerContainerComponent_div_0_div_6_Template, 3, 3, "div", 4);
        core["ɵɵelementEnd"]();
        core["ɵɵtemplate"](7, BsDatepickerContainerComponent_div_0_div_7_Template, 5, 0, "div", 5);
        core["ɵɵelementStart"](8, "div", 6);
        core["ɵɵtemplate"](9, BsDatepickerContainerComponent_div_0_div_9_Template, 3, 6, "div", 7);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵtemplate"](10, BsDatepickerContainerComponent_div_0_div_10_Template, 2, 2, "div", 8);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r262 = core["ɵɵnextContext"]();
        core["ɵɵproperty"]("ngClass", ctx_r262.containerClass);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("@datepickerAnimation", ctx_r262.animationState);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngSwitch", core["ɵɵpipeBind1"](3, 9, ctx_r262.viewMode));
        core["ɵɵadvance"](2);
        core["ɵɵproperty"]("ngSwitchCase", "day");
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngSwitchCase", "month");
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngSwitchCase", "year");
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngIf", false);
        core["ɵɵadvance"](2);
        core["ɵɵproperty"]("ngIf", ctx_r262.showTodayBtn);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngIf", (ctx_r262.customRanges == null ? null : ctx_r262.customRanges.length) > 0);
    } }
    var BsDatepickerContainerComponent = /** @class */ (function (_super) {
        __extends(BsDatepickerContainerComponent, _super);
        function BsDatepickerContainerComponent(_renderer, _config, _store, _element, _actions, _effects, _positionService) {
            var _this = _super.call(this) || this;
            _this._config = _config;
            _this._store = _store;
            _this._element = _element;
            _this._actions = _actions;
            _this._positionService = _positionService;
            _this.valueChange = new core.EventEmitter();
            _this.animationState = 'void';
            _this._subs = [];
            _this._effects = _effects;
            _renderer.setStyle(_element.nativeElement, 'display', 'block');
            _renderer.setStyle(_element.nativeElement, 'position', 'absolute');
            return _this;
        }
        Object.defineProperty(BsDatepickerContainerComponent.prototype, "value", {
            set: function (value) {
                this._effects.setValue(value);
            },
            enumerable: true,
            configurable: true
        });
        BsDatepickerContainerComponent.prototype.ngOnInit = function () {
            var _this = this;
            this._positionService.setOptions({
                modifiers: { flip: { enabled: this._config.adaptivePosition } },
                allowedPositions: ['top', 'bottom']
            });
            this._positionService.event$
                .pipe(operators.take(1))
                .subscribe(function () {
                _this._positionService.disable();
                if (_this._config.isAnimated) {
                    _this.animationState = _this.isTopPosition ? 'animated-up' : 'animated-down';
                    return;
                }
                _this.animationState = 'unanimated';
            });
            this.isOtherMonthsActive = this._config.selectFromOtherMonth;
            this.containerClass = this._config.containerClass;
            this.showTodayBtn = this._config.showTodayButton;
            this.todayPos = this._config.todayPosition;
            this._effects
                .init(this._store)
                // intial state options
                .setOptions(this._config)
                // data binding view --> model
                .setBindings(this)
                // set event handlers
                .setEventHandlers(this)
                .registerDatepickerSideEffects();
            // todo: move it somewhere else
            // on selected date change
            this._subs.push(this._store
                /* tslint:disable-next-line: no-any */
                .select(function (state) { return state.selectedDate; })
                /* tslint:disable-next-line: no-any */
                .subscribe(function (date) { return _this.valueChange.emit(date); }));
        };
        Object.defineProperty(BsDatepickerContainerComponent.prototype, "isTopPosition", {
            get: function () {
                return this._element.nativeElement.classList.contains('top');
            },
            enumerable: true,
            configurable: true
        });
        BsDatepickerContainerComponent.prototype.positionServiceEnable = function () {
            this._positionService.enable();
        };
        BsDatepickerContainerComponent.prototype.daySelectHandler = function (day) {
            if (!day) {
                return;
            }
            var isDisabled = this.isOtherMonthsActive ? day.isDisabled : (day.isOtherMonth || day.isDisabled);
            if (isDisabled) {
                return;
            }
            this._store.dispatch(this._actions.select(day.date));
        };
        BsDatepickerContainerComponent.prototype.setToday = function () {
            this._store.dispatch(this._actions.select(new Date()));
        };
        BsDatepickerContainerComponent.prototype.ngOnDestroy = function () {
            var e_1, _a;
            try {
                for (var _b = __values(this._subs), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var sub = _c.value;
                    sub.unsubscribe();
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_1) throw e_1.error; }
            }
            this._effects.destroy();
        };
        /** @nocollapse */ BsDatepickerContainerComponent.ɵfac = function BsDatepickerContainerComponent_Factory(t) { return new (t || BsDatepickerContainerComponent)(core["ɵɵdirectiveInject"](core.Renderer2), core["ɵɵdirectiveInject"](BsDatepickerConfig), core["ɵɵdirectiveInject"](BsDatepickerStore), core["ɵɵdirectiveInject"](core.ElementRef), core["ɵɵdirectiveInject"](BsDatepickerActions), core["ɵɵdirectiveInject"](BsDatepickerEffects), core["ɵɵdirectiveInject"](positioning.PositioningService)); };
        /** @nocollapse */ BsDatepickerContainerComponent.ɵcmp = core["ɵɵdefineComponent"]({ type: BsDatepickerContainerComponent, selectors: [["bs-datepicker-container"]], hostAttrs: ["role", "dialog", "aria-label", "calendar", 1, "bottom"], hostBindings: function BsDatepickerContainerComponent_HostBindings(rf, ctx) { if (rf & 1) {
                core["ɵɵlistener"]("click", function BsDatepickerContainerComponent_click_HostBindingHandler($event) { return ctx._stopPropagation($event); });
            } }, features: [core["ɵɵProvidersFeature"]([BsDatepickerStore, BsDatepickerEffects]), core["ɵɵInheritDefinitionFeature"]], decls: 2, vars: 3, consts: [["class", "bs-datepicker", 3, "ngClass", 4, "ngIf"], [1, "bs-datepicker", 3, "ngClass"], [1, "bs-datepicker-container"], ["role", "application", 1, "bs-calendar-container", 3, "ngSwitch"], ["class", "bs-media-container", 4, "ngSwitchCase"], ["class", "bs-datepicker-buttons", 4, "ngIf"], [1, "bs-datepicker-buttons"], ["class", "btn-today-wrapper", 3, "today-left", "today-right", "today-center", 4, "ngIf"], ["class", "bs-datepicker-custom-range", 4, "ngIf"], [1, "bs-media-container"], [3, "bs-datepicker-multiple", "calendar", "options", "onNavigate", "onViewMode", "onHover", "onHoverWeek", "onSelect", 4, "ngFor", "ngForOf"], [3, "calendar", "options", "onNavigate", "onViewMode", "onHover", "onHoverWeek", "onSelect"], [3, "bs-datepicker-multiple", "calendar", "onNavigate", "onViewMode", "onHover", "onSelect", 4, "ngFor", "ngForOf"], [3, "calendar", "onNavigate", "onViewMode", "onHover", "onSelect"], ["type", "button", 1, "btn", "btn-success"], ["type", "button", 1, "btn", "btn-default"], [1, "btn-today-wrapper"], [1, "btn", "btn-success", 3, "click"], [1, "bs-datepicker-custom-range"], [3, "selectedRange", "ranges", "onSelect"]], template: function BsDatepickerContainerComponent_Template(rf, ctx) { if (rf & 1) {
                core["ɵɵtemplate"](0, BsDatepickerContainerComponent_div_0_Template, 11, 11, "div", 0);
                core["ɵɵpipe"](1, "async");
            } if (rf & 2) {
                core["ɵɵproperty"]("ngIf", core["ɵɵpipeBind1"](1, 1, ctx.viewMode));
            } }, directives: [common.NgIf, common.NgClass, common.NgSwitch, common.NgSwitchCase, common.NgForOf, BsDaysCalendarViewComponent, BsMonthCalendarViewComponent, BsYearsCalendarViewComponent, BsCustomDatesViewComponent], pipes: [common.AsyncPipe], encapsulation: 2, data: { animation: [datepickerAnimation] } });
        return BsDatepickerContainerComponent;
    }(BsDatepickerAbstractComponent));
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDatepickerContainerComponent, [{
            type: core.Component,
            args: [{
                    selector: 'bs-datepicker-container',
                    providers: [BsDatepickerStore, BsDatepickerEffects],
                    templateUrl: './bs-datepicker-view.html',
                    host: {
                        class: 'bottom',
                        '(click)': '_stopPropagation($event)',
                        role: 'dialog',
                        'aria-label': 'calendar'
                    },
                    animations: [datepickerAnimation]
                }]
        }], function () { return [{ type: core.Renderer2 }, { type: BsDatepickerConfig }, { type: BsDatepickerStore }, { type: core.ElementRef }, { type: BsDatepickerActions }, { type: BsDatepickerEffects }, { type: positioning.PositioningService }]; }, null); })();

    var BsDatepickerDirective = /** @class */ (function () {
        function BsDatepickerDirective(_config, _elementRef, _renderer, _viewContainerRef, cis) {
            this._config = _config;
            this._elementRef = _elementRef;
            this._renderer = _renderer;
            /**
             * Placement of a datepicker. Accepts: "top", "bottom", "left", "right"
             */
            this.placement = 'bottom';
            /**
             * Specifies events that should trigger. Supports a space separated list of
             * event names.
             */
            this.triggers = 'click';
            /**
             * Close datepicker on outside click
             */
            this.outsideClick = true;
            /**
             * A selector specifying the element the datepicker should be appended to.
             */
            this.container = 'body';
            this.outsideEsc = true;
            /**
             * Emits when datepicker value has been changed
             */
            this.bsValueChange = new core.EventEmitter();
            this._subs = [];
            // todo: assign only subset of fields
            Object.assign(this, this._config);
            this._datepicker = cis.createLoader(_elementRef, _viewContainerRef, _renderer);
            this.onShown = this._datepicker.onShown;
            this.onHidden = this._datepicker.onHidden;
            this.isOpen$ = new rxjs.BehaviorSubject(this.isOpen);
        }
        Object.defineProperty(BsDatepickerDirective.prototype, "isOpen", {
            /**
             * Returns whether or not the datepicker is currently being shown
             */
            get: function () {
                return this._datepicker.isShown;
            },
            set: function (value) {
                this.isOpen$.next(value);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BsDatepickerDirective.prototype, "bsValue", {
            /**
             * Initial value of datepicker
             */
            set: function (value) {
                if (this._bsValue && value && this._bsValue.getTime() === value.getTime()) {
                    return;
                }
                this._bsValue = value;
                this.bsValueChange.emit(value);
            },
            enumerable: true,
            configurable: true
        });
        BsDatepickerDirective.prototype.ngOnInit = function () {
            var _this = this;
            this.isDestroy$ = new rxjs.Subject();
            this._datepicker.listen({
                outsideClick: this.outsideClick,
                outsideEsc: this.outsideEsc,
                triggers: this.triggers,
                show: function () { return _this.show(); }
            });
            this.setConfig();
        };
        BsDatepickerDirective.prototype.ngOnChanges = function (changes) {
            if (!this._datepickerRef || !this._datepickerRef.instance) {
                return;
            }
            if (changes.minDate) {
                this._datepickerRef.instance.minDate = this.minDate;
            }
            if (changes.maxDate) {
                this._datepickerRef.instance.maxDate = this.maxDate;
            }
            if (changes.daysDisabled) {
                this._datepickerRef.instance.daysDisabled = this.daysDisabled;
            }
            if (changes.datesDisabled) {
                this._datepickerRef.instance.datesDisabled = this.datesDisabled;
            }
            if (changes.datesEnabled) {
                this._datepickerRef.instance.datesEnabled = this.datesEnabled;
            }
            if (changes.isDisabled) {
                this._datepickerRef.instance.isDisabled = this.isDisabled;
            }
            if (changes.dateCustomClasses) {
                this._datepickerRef.instance.dateCustomClasses = this.dateCustomClasses;
            }
        };
        BsDatepickerDirective.prototype.ngAfterViewInit = function () {
            var _this = this;
            this.isOpen$.pipe(operators.filter(function (isOpen) { return isOpen !== _this.isOpen; }), operators.takeUntil(this.isDestroy$))
                .subscribe(function () { return _this.toggle(); });
        };
        /**
         * Opens an element’s datepicker. This is considered a “manual” triggering of
         * the datepicker.
         */
        BsDatepickerDirective.prototype.show = function () {
            var _this = this;
            if (this._datepicker.isShown) {
                return;
            }
            this.setConfig();
            this._datepickerRef = this._datepicker
                .provide({ provide: BsDatepickerConfig, useValue: this._config })
                .attach(BsDatepickerContainerComponent)
                .to(this.container)
                .position({ attachment: this.placement })
                .show({ placement: this.placement });
            // if date changes from external source (model -> view)
            this._subs.push(this.bsValueChange.subscribe(function (value) {
                _this._datepickerRef.instance.value = value;
            }));
            // if date changes from picker (view -> model)
            this._subs.push(this._datepickerRef.instance.valueChange.subscribe(function (value) {
                _this.bsValue = value;
                _this.hide();
            }));
        };
        /**
         * Closes an element’s datepicker. This is considered a “manual” triggering of
         * the datepicker.
         */
        BsDatepickerDirective.prototype.hide = function () {
            var e_1, _a;
            if (this.isOpen) {
                this._datepicker.hide();
            }
            try {
                for (var _b = __values(this._subs), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var sub = _c.value;
                    sub.unsubscribe();
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_1) throw e_1.error; }
            }
            if (this._config.returnFocusToInput) {
                this._renderer.selectRootElement(this._elementRef.nativeElement).focus();
            }
        };
        /**
         * Toggles an element’s datepicker. This is considered a “manual” triggering
         * of the datepicker.
         */
        BsDatepickerDirective.prototype.toggle = function () {
            if (this.isOpen) {
                return this.hide();
            }
            this.show();
        };
        /**
         * Set config for datepicker
         */
        BsDatepickerDirective.prototype.setConfig = function () {
            this._config = Object.assign({}, this._config, this.bsConfig, {
                value: this._bsValue,
                isDisabled: this.isDisabled,
                minDate: this.minDate || this.bsConfig && this.bsConfig.minDate,
                maxDate: this.maxDate || this.bsConfig && this.bsConfig.maxDate,
                daysDisabled: this.daysDisabled || this.bsConfig && this.bsConfig.daysDisabled,
                dateCustomClasses: this.dateCustomClasses || this.bsConfig && this.bsConfig.dateCustomClasses,
                datesDisabled: this.datesDisabled || this.bsConfig && this.bsConfig.datesDisabled,
                datesEnabled: this.datesEnabled || this.bsConfig && this.bsConfig.datesEnabled,
                minMode: this.minMode || this.bsConfig && this.bsConfig.minMode
            });
        };
        BsDatepickerDirective.prototype.ngOnDestroy = function () {
            this._datepicker.dispose();
            this.isOpen$.next(false);
            if (this.isDestroy$) {
                this.isDestroy$.next();
                this.isDestroy$.complete();
            }
        };
        /** @nocollapse */ BsDatepickerDirective.ɵfac = function BsDatepickerDirective_Factory(t) { return new (t || BsDatepickerDirective)(core["ɵɵdirectiveInject"](BsDatepickerConfig), core["ɵɵdirectiveInject"](core.ElementRef), core["ɵɵdirectiveInject"](core.Renderer2), core["ɵɵdirectiveInject"](core.ViewContainerRef), core["ɵɵdirectiveInject"](componentLoader.ComponentLoaderFactory)); };
        /** @nocollapse */ BsDatepickerDirective.ɵdir = core["ɵɵdefineDirective"]({ type: BsDatepickerDirective, selectors: [["", "bsDatepicker", ""]], inputs: { placement: "placement", triggers: "triggers", outsideClick: "outsideClick", container: "container", outsideEsc: "outsideEsc", isOpen: "isOpen", bsValue: "bsValue", bsConfig: "bsConfig", isDisabled: "isDisabled", minDate: "minDate", maxDate: "maxDate", minMode: "minMode", daysDisabled: "daysDisabled", datesDisabled: "datesDisabled", datesEnabled: "datesEnabled", dateCustomClasses: "dateCustomClasses" }, outputs: { onShown: "onShown", onHidden: "onHidden", bsValueChange: "bsValueChange" }, exportAs: ["bsDatepicker"], features: [core["ɵɵNgOnChangesFeature"]] });
        return BsDatepickerDirective;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDatepickerDirective, [{
            type: core.Directive,
            args: [{
                    selector: '[bsDatepicker]',
                    exportAs: 'bsDatepicker'
                }]
        }], function () { return [{ type: BsDatepickerConfig }, { type: core.ElementRef }, { type: core.Renderer2 }, { type: core.ViewContainerRef }, { type: componentLoader.ComponentLoaderFactory }]; }, { placement: [{
                type: core.Input
            }], triggers: [{
                type: core.Input
            }], outsideClick: [{
                type: core.Input
            }], container: [{
                type: core.Input
            }], outsideEsc: [{
                type: core.Input
            }], isOpen: [{
                type: core.Input
            }], onShown: [{
                type: core.Output
            }], onHidden: [{
                type: core.Output
            }], bsValue: [{
                type: core.Input
            }], bsConfig: [{
                type: core.Input
            }], isDisabled: [{
                type: core.Input
            }], minDate: [{
                type: core.Input
            }], maxDate: [{
                type: core.Input
            }], minMode: [{
                type: core.Input
            }], daysDisabled: [{
                type: core.Input
            }], datesDisabled: [{
                type: core.Input
            }], datesEnabled: [{
                type: core.Input
            }], dateCustomClasses: [{
                type: core.Input
            }], bsValueChange: [{
                type: core.Output
            }] }); })();

    var BsDatepickerInlineConfig = /** @class */ (function (_super) {
        __extends(BsDatepickerInlineConfig, _super);
        function BsDatepickerInlineConfig() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /** @nocollapse */ BsDatepickerInlineConfig.ɵfac = function BsDatepickerInlineConfig_Factory(t) { return ɵBsDatepickerInlineConfig_BaseFactory(t || BsDatepickerInlineConfig); };
        /** @nocollapse */ BsDatepickerInlineConfig.ɵprov = core["ɵɵdefineInjectable"]({ token: BsDatepickerInlineConfig, factory: BsDatepickerInlineConfig.ɵfac });
        return BsDatepickerInlineConfig;
    }(BsDatepickerConfig));
    var ɵBsDatepickerInlineConfig_BaseFactory = core["ɵɵgetInheritedFactory"](BsDatepickerInlineConfig);
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDatepickerInlineConfig, [{
            type: core.Injectable
        }], null, null); })();

    function BsDatepickerInlineContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template(rf, ctx) { if (rf & 1) {
        var _r307 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "bs-days-calendar-view", 11);
        core["ɵɵlistener"]("onNavigate", function BsDatepickerInlineContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onNavigate_0_listener($event) { core["ɵɵrestoreView"](_r307); var ctx_r306 = core["ɵɵnextContext"](3); return ctx_r306.navigateTo($event); })("onViewMode", function BsDatepickerInlineContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onViewMode_0_listener($event) { core["ɵɵrestoreView"](_r307); var ctx_r308 = core["ɵɵnextContext"](3); return ctx_r308.setViewMode($event); })("onHover", function BsDatepickerInlineContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onHover_0_listener($event) { core["ɵɵrestoreView"](_r307); var ctx_r309 = core["ɵɵnextContext"](3); return ctx_r309.dayHoverHandler($event); })("onHoverWeek", function BsDatepickerInlineContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onHoverWeek_0_listener($event) { core["ɵɵrestoreView"](_r307); var ctx_r310 = core["ɵɵnextContext"](3); return ctx_r310.weekHoverHandler($event); })("onSelect", function BsDatepickerInlineContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onSelect_0_listener($event) { core["ɵɵrestoreView"](_r307); var ctx_r311 = core["ɵɵnextContext"](3); return ctx_r311.daySelectHandler($event); });
        core["ɵɵpipe"](1, "async");
        core["ɵɵpipe"](2, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var calendar_r305 = ctx.$implicit;
        var ctx_r304 = core["ɵɵnextContext"](3);
        var tmp_0_0 = null;
        var currVal_0 = ((tmp_0_0 = core["ɵɵpipeBind1"](1, 4, ctx_r304.daysCalendar)) == null ? null : tmp_0_0.length) > 1;
        core["ɵɵclassProp"]("bs-datepicker-multiple", currVal_0);
        core["ɵɵproperty"]("calendar", calendar_r305)("options", core["ɵɵpipeBind1"](2, 6, ctx_r304.options));
    } }
    function BsDatepickerInlineContainerComponent_div_0_div_4_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "div", 9);
        core["ɵɵtemplate"](1, BsDatepickerInlineContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template, 3, 8, "bs-days-calendar-view", 10);
        core["ɵɵpipe"](2, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r298 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", core["ɵɵpipeBind1"](2, 1, ctx_r298.daysCalendar));
    } }
    function BsDatepickerInlineContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template(rf, ctx) { if (rf & 1) {
        var _r315 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "bs-month-calendar-view", 13);
        core["ɵɵlistener"]("onNavigate", function BsDatepickerInlineContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template_bs_month_calendar_view_onNavigate_0_listener($event) { core["ɵɵrestoreView"](_r315); var ctx_r314 = core["ɵɵnextContext"](3); return ctx_r314.navigateTo($event); })("onViewMode", function BsDatepickerInlineContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template_bs_month_calendar_view_onViewMode_0_listener($event) { core["ɵɵrestoreView"](_r315); var ctx_r316 = core["ɵɵnextContext"](3); return ctx_r316.setViewMode($event); })("onHover", function BsDatepickerInlineContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template_bs_month_calendar_view_onHover_0_listener($event) { core["ɵɵrestoreView"](_r315); var ctx_r317 = core["ɵɵnextContext"](3); return ctx_r317.monthHoverHandler($event); })("onSelect", function BsDatepickerInlineContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template_bs_month_calendar_view_onSelect_0_listener($event) { core["ɵɵrestoreView"](_r315); var ctx_r318 = core["ɵɵnextContext"](3); return ctx_r318.monthSelectHandler($event); });
        core["ɵɵpipe"](1, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var calendar_r313 = ctx.$implicit;
        var ctx_r312 = core["ɵɵnextContext"](3);
        var tmp_0_0 = null;
        var currVal_0 = ((tmp_0_0 = core["ɵɵpipeBind1"](1, 3, ctx_r312.daysCalendar)) == null ? null : tmp_0_0.length) > 1;
        core["ɵɵclassProp"]("bs-datepicker-multiple", currVal_0);
        core["ɵɵproperty"]("calendar", calendar_r313);
    } }
    function BsDatepickerInlineContainerComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "div", 9);
        core["ɵɵtemplate"](1, BsDatepickerInlineContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template, 2, 5, "bs-month-calendar-view", 12);
        core["ɵɵpipe"](2, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r299 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", core["ɵɵpipeBind1"](2, 1, ctx_r299.monthsCalendar));
    } }
    function BsDatepickerInlineContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template(rf, ctx) { if (rf & 1) {
        var _r322 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "bs-years-calendar-view", 13);
        core["ɵɵlistener"]("onNavigate", function BsDatepickerInlineContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template_bs_years_calendar_view_onNavigate_0_listener($event) { core["ɵɵrestoreView"](_r322); var ctx_r321 = core["ɵɵnextContext"](3); return ctx_r321.navigateTo($event); })("onViewMode", function BsDatepickerInlineContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template_bs_years_calendar_view_onViewMode_0_listener($event) { core["ɵɵrestoreView"](_r322); var ctx_r323 = core["ɵɵnextContext"](3); return ctx_r323.setViewMode($event); })("onHover", function BsDatepickerInlineContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template_bs_years_calendar_view_onHover_0_listener($event) { core["ɵɵrestoreView"](_r322); var ctx_r324 = core["ɵɵnextContext"](3); return ctx_r324.yearHoverHandler($event); })("onSelect", function BsDatepickerInlineContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template_bs_years_calendar_view_onSelect_0_listener($event) { core["ɵɵrestoreView"](_r322); var ctx_r325 = core["ɵɵnextContext"](3); return ctx_r325.yearSelectHandler($event); });
        core["ɵɵpipe"](1, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var calendar_r320 = ctx.$implicit;
        var ctx_r319 = core["ɵɵnextContext"](3);
        var tmp_0_0 = null;
        var currVal_0 = ((tmp_0_0 = core["ɵɵpipeBind1"](1, 3, ctx_r319.daysCalendar)) == null ? null : tmp_0_0.length) > 1;
        core["ɵɵclassProp"]("bs-datepicker-multiple", currVal_0);
        core["ɵɵproperty"]("calendar", calendar_r320);
    } }
    function BsDatepickerInlineContainerComponent_div_0_div_6_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "div", 9);
        core["ɵɵtemplate"](1, BsDatepickerInlineContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template, 2, 5, "bs-years-calendar-view", 12);
        core["ɵɵpipe"](2, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r300 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", core["ɵɵpipeBind1"](2, 1, ctx_r300.yearsCalendar));
    } }
    function BsDatepickerInlineContainerComponent_div_0_div_7_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "div", 6);
        core["ɵɵelementStart"](1, "button", 14);
        core["ɵɵtext"](2, "Apply");
        core["ɵɵelementEnd"]();
        core["ɵɵelementStart"](3, "button", 15);
        core["ɵɵtext"](4, "Cancel");
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } }
    function BsDatepickerInlineContainerComponent_div_0_div_9_Template(rf, ctx) { if (rf & 1) {
        var _r327 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "div", 16);
        core["ɵɵelementStart"](1, "button", 17);
        core["ɵɵlistener"]("click", function BsDatepickerInlineContainerComponent_div_0_div_9_Template_button_click_1_listener() { core["ɵɵrestoreView"](_r327); var ctx_r326 = core["ɵɵnextContext"](2); return ctx_r326.setToday(); });
        core["ɵɵtext"](2, "Today");
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r302 = core["ɵɵnextContext"](2);
        core["ɵɵclassProp"]("today-left", ctx_r302.todayPos === "left")("today-right", ctx_r302.todayPos === "right")("today-center", ctx_r302.todayPos === "center");
    } }
    function BsDatepickerInlineContainerComponent_div_0_div_10_Template(rf, ctx) { if (rf & 1) {
        var _r329 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "div", 18);
        core["ɵɵelementStart"](1, "bs-custom-date-view", 19);
        core["ɵɵlistener"]("onSelect", function BsDatepickerInlineContainerComponent_div_0_div_10_Template_bs_custom_date_view_onSelect_1_listener($event) { core["ɵɵrestoreView"](_r329); var ctx_r328 = core["ɵɵnextContext"](2); return ctx_r328.setRangeOnCalendar($event); });
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r303 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("selectedRange", ctx_r303.chosenRange)("ranges", ctx_r303.customRanges);
    } }
    function BsDatepickerInlineContainerComponent_div_0_Template(rf, ctx) { if (rf & 1) {
        var _r331 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "div", 1);
        core["ɵɵelementStart"](1, "div", 2);
        core["ɵɵlistener"]("@datepickerAnimation.done", function BsDatepickerInlineContainerComponent_div_0_Template_div_animation_datepickerAnimation_done_1_listener() { core["ɵɵrestoreView"](_r331); var ctx_r330 = core["ɵɵnextContext"](); return ctx_r330.positionServiceEnable(); });
        core["ɵɵelementStart"](2, "div", 3);
        core["ɵɵpipe"](3, "async");
        core["ɵɵtemplate"](4, BsDatepickerInlineContainerComponent_div_0_div_4_Template, 3, 3, "div", 4);
        core["ɵɵtemplate"](5, BsDatepickerInlineContainerComponent_div_0_div_5_Template, 3, 3, "div", 4);
        core["ɵɵtemplate"](6, BsDatepickerInlineContainerComponent_div_0_div_6_Template, 3, 3, "div", 4);
        core["ɵɵelementEnd"]();
        core["ɵɵtemplate"](7, BsDatepickerInlineContainerComponent_div_0_div_7_Template, 5, 0, "div", 5);
        core["ɵɵelementStart"](8, "div", 6);
        core["ɵɵtemplate"](9, BsDatepickerInlineContainerComponent_div_0_div_9_Template, 3, 6, "div", 7);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵtemplate"](10, BsDatepickerInlineContainerComponent_div_0_div_10_Template, 2, 2, "div", 8);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r297 = core["ɵɵnextContext"]();
        core["ɵɵproperty"]("ngClass", ctx_r297.containerClass);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("@datepickerAnimation", ctx_r297.animationState);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngSwitch", core["ɵɵpipeBind1"](3, 9, ctx_r297.viewMode));
        core["ɵɵadvance"](2);
        core["ɵɵproperty"]("ngSwitchCase", "day");
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngSwitchCase", "month");
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngSwitchCase", "year");
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngIf", false);
        core["ɵɵadvance"](2);
        core["ɵɵproperty"]("ngIf", ctx_r297.showTodayBtn);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngIf", (ctx_r297.customRanges == null ? null : ctx_r297.customRanges.length) > 0);
    } }
    var BsDatepickerInlineContainerComponent = /** @class */ (function (_super) {
        __extends(BsDatepickerInlineContainerComponent, _super);
        function BsDatepickerInlineContainerComponent(_renderer, _config, _store, _element, _actions, _effects, _positioningService) {
            var _this = _super.call(this, _renderer, _config, _store, _element, _actions, _effects, _positioningService) || this;
            _renderer.setStyle(_element.nativeElement, 'display', 'inline-block');
            _renderer.setStyle(_element.nativeElement, 'position', 'static');
            return _this;
        }
        /** @nocollapse */ BsDatepickerInlineContainerComponent.ɵfac = function BsDatepickerInlineContainerComponent_Factory(t) { return new (t || BsDatepickerInlineContainerComponent)(core["ɵɵdirectiveInject"](core.Renderer2), core["ɵɵdirectiveInject"](BsDatepickerConfig), core["ɵɵdirectiveInject"](BsDatepickerStore), core["ɵɵdirectiveInject"](core.ElementRef), core["ɵɵdirectiveInject"](BsDatepickerActions), core["ɵɵdirectiveInject"](BsDatepickerEffects), core["ɵɵdirectiveInject"](positioning.PositioningService)); };
        /** @nocollapse */ BsDatepickerInlineContainerComponent.ɵcmp = core["ɵɵdefineComponent"]({ type: BsDatepickerInlineContainerComponent, selectors: [["bs-datepicker-inline-container"]], hostBindings: function BsDatepickerInlineContainerComponent_HostBindings(rf, ctx) { if (rf & 1) {
                core["ɵɵlistener"]("click", function BsDatepickerInlineContainerComponent_click_HostBindingHandler($event) { return ctx._stopPropagation($event); });
            } }, features: [core["ɵɵProvidersFeature"]([BsDatepickerStore, BsDatepickerEffects]), core["ɵɵInheritDefinitionFeature"]], decls: 2, vars: 3, consts: [["class", "bs-datepicker", 3, "ngClass", 4, "ngIf"], [1, "bs-datepicker", 3, "ngClass"], [1, "bs-datepicker-container"], ["role", "application", 1, "bs-calendar-container", 3, "ngSwitch"], ["class", "bs-media-container", 4, "ngSwitchCase"], ["class", "bs-datepicker-buttons", 4, "ngIf"], [1, "bs-datepicker-buttons"], ["class", "btn-today-wrapper", 3, "today-left", "today-right", "today-center", 4, "ngIf"], ["class", "bs-datepicker-custom-range", 4, "ngIf"], [1, "bs-media-container"], [3, "bs-datepicker-multiple", "calendar", "options", "onNavigate", "onViewMode", "onHover", "onHoverWeek", "onSelect", 4, "ngFor", "ngForOf"], [3, "calendar", "options", "onNavigate", "onViewMode", "onHover", "onHoverWeek", "onSelect"], [3, "bs-datepicker-multiple", "calendar", "onNavigate", "onViewMode", "onHover", "onSelect", 4, "ngFor", "ngForOf"], [3, "calendar", "onNavigate", "onViewMode", "onHover", "onSelect"], ["type", "button", 1, "btn", "btn-success"], ["type", "button", 1, "btn", "btn-default"], [1, "btn-today-wrapper"], [1, "btn", "btn-success", 3, "click"], [1, "bs-datepicker-custom-range"], [3, "selectedRange", "ranges", "onSelect"]], template: function BsDatepickerInlineContainerComponent_Template(rf, ctx) { if (rf & 1) {
                core["ɵɵtemplate"](0, BsDatepickerInlineContainerComponent_div_0_Template, 11, 11, "div", 0);
                core["ɵɵpipe"](1, "async");
            } if (rf & 2) {
                core["ɵɵproperty"]("ngIf", core["ɵɵpipeBind1"](1, 1, ctx.viewMode));
            } }, directives: [common.NgIf, common.NgClass, common.NgSwitch, common.NgSwitchCase, common.NgForOf, BsDaysCalendarViewComponent, BsMonthCalendarViewComponent, BsYearsCalendarViewComponent, BsCustomDatesViewComponent], pipes: [common.AsyncPipe], encapsulation: 2, data: { animation: [datepickerAnimation] } });
        return BsDatepickerInlineContainerComponent;
    }(BsDatepickerContainerComponent));
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDatepickerInlineContainerComponent, [{
            type: core.Component,
            args: [{
                    selector: 'bs-datepicker-inline-container',
                    providers: [BsDatepickerStore, BsDatepickerEffects],
                    templateUrl: './bs-datepicker-view.html',
                    host: {
                        '(click)': '_stopPropagation($event)'
                    },
                    animations: [datepickerAnimation]
                }]
        }], function () { return [{ type: core.Renderer2 }, { type: BsDatepickerConfig }, { type: BsDatepickerStore }, { type: core.ElementRef }, { type: BsDatepickerActions }, { type: BsDatepickerEffects }, { type: positioning.PositioningService }]; }, null); })();

    var BsDatepickerInlineDirective = /** @class */ (function () {
        function BsDatepickerInlineDirective(_config, _elementRef, _renderer, _viewContainerRef, cis) {
            this._config = _config;
            this._elementRef = _elementRef;
            /**
             * Emits when datepicker value has been changed
             */
            this.bsValueChange = new core.EventEmitter();
            this._subs = [];
            // todo: assign only subset of fields
            Object.assign(this, this._config);
            this._datepicker = cis.createLoader(_elementRef, _viewContainerRef, _renderer);
        }
        Object.defineProperty(BsDatepickerInlineDirective.prototype, "bsValue", {
            /**
             * Initial value of datepicker
             */
            set: function (value) {
                if (this._bsValue === value) {
                    return;
                }
                this._bsValue = value;
                this.bsValueChange.emit(value);
            },
            enumerable: true,
            configurable: true
        });
        BsDatepickerInlineDirective.prototype.ngOnInit = function () {
            var _this = this;
            this.setConfig();
            // if date changes from external source (model -> view)
            this._subs.push(this.bsValueChange.subscribe(function (value) {
                _this._datepickerRef.instance.value = value;
            }));
            // if date changes from picker (view -> model)
            this._subs.push(this._datepickerRef.instance.valueChange.subscribe(function (value) {
                _this.bsValue = value;
            }));
        };
        BsDatepickerInlineDirective.prototype.ngOnChanges = function (changes) {
            if (!this._datepickerRef || !this._datepickerRef.instance) {
                return;
            }
            if (changes.minDate) {
                this._datepickerRef.instance.minDate = this.minDate;
                this.setConfig();
            }
            if (changes.maxDate) {
                this._datepickerRef.instance.maxDate = this.maxDate;
                this.setConfig();
            }
            if (changes.datesDisabled) {
                this._datepickerRef.instance.datesDisabled = this.datesDisabled;
                this.setConfig();
            }
            if (changes.datesEnabled) {
                this._datepickerRef.instance.datesEnabled = this.datesEnabled;
                this._datepickerRef.instance.value = this._bsValue;
            }
            if (changes.isDisabled) {
                this._datepickerRef.instance.isDisabled = this.isDisabled;
                this.setConfig();
            }
            if (changes.dateCustomClasses) {
                this._datepickerRef.instance.dateCustomClasses = this.dateCustomClasses;
                this.setConfig();
            }
        };
        /**
         * Set config for datepicker
         */
        BsDatepickerInlineDirective.prototype.setConfig = function () {
            if (this._datepicker) {
                this._datepicker.hide();
            }
            this._config = Object.assign({}, this._config, this.bsConfig, {
                value: this._bsValue,
                isDisabled: this.isDisabled,
                minDate: this.minDate || this.bsConfig && this.bsConfig.minDate,
                maxDate: this.maxDate || this.bsConfig && this.bsConfig.maxDate,
                dateCustomClasses: this.dateCustomClasses || this.bsConfig && this.bsConfig.dateCustomClasses,
                datesDisabled: this.datesDisabled || this.bsConfig && this.bsConfig.datesDisabled,
                datesEnabled: this.datesEnabled || this.bsConfig && this.bsConfig.datesEnabled
            });
            this._datepickerRef = this._datepicker
                .provide({ provide: BsDatepickerConfig, useValue: this._config })
                .attach(BsDatepickerInlineContainerComponent)
                .to(this._elementRef)
                .show();
        };
        BsDatepickerInlineDirective.prototype.ngOnDestroy = function () {
            this._datepicker.dispose();
        };
        /** @nocollapse */ BsDatepickerInlineDirective.ɵfac = function BsDatepickerInlineDirective_Factory(t) { return new (t || BsDatepickerInlineDirective)(core["ɵɵdirectiveInject"](BsDatepickerInlineConfig), core["ɵɵdirectiveInject"](core.ElementRef), core["ɵɵdirectiveInject"](core.Renderer2), core["ɵɵdirectiveInject"](core.ViewContainerRef), core["ɵɵdirectiveInject"](componentLoader.ComponentLoaderFactory)); };
        /** @nocollapse */ BsDatepickerInlineDirective.ɵdir = core["ɵɵdefineDirective"]({ type: BsDatepickerInlineDirective, selectors: [["bs-datepicker-inline"]], inputs: { bsValue: "bsValue", bsConfig: "bsConfig", isDisabled: "isDisabled", minDate: "minDate", maxDate: "maxDate", dateCustomClasses: "dateCustomClasses", datesEnabled: "datesEnabled", datesDisabled: "datesDisabled" }, outputs: { bsValueChange: "bsValueChange" }, exportAs: ["bsDatepickerInline"], features: [core["ɵɵNgOnChangesFeature"]] });
        return BsDatepickerInlineDirective;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDatepickerInlineDirective, [{
            type: core.Directive,
            args: [{
                    selector: 'bs-datepicker-inline',
                    exportAs: 'bsDatepickerInline'
                }]
        }], function () { return [{ type: BsDatepickerInlineConfig }, { type: core.ElementRef }, { type: core.Renderer2 }, { type: core.ViewContainerRef }, { type: componentLoader.ComponentLoaderFactory }]; }, { bsValue: [{
                type: core.Input
            }], bsConfig: [{
                type: core.Input
            }], isDisabled: [{
                type: core.Input
            }], minDate: [{
                type: core.Input
            }], maxDate: [{
                type: core.Input
            }], dateCustomClasses: [{
                type: core.Input
            }], datesEnabled: [{
                type: core.Input
            }], datesDisabled: [{
                type: core.Input
            }], bsValueChange: [{
                type: core.Output
            }] }); })();

    var BsDaterangepickerInlineConfig = /** @class */ (function (_super) {
        __extends(BsDaterangepickerInlineConfig, _super);
        function BsDaterangepickerInlineConfig() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            // DatepickerRenderOptions
            _this.displayMonths = 2;
            /** turn on/off animation */
            _this.isAnimated = false;
            return _this;
        }
        /** @nocollapse */ BsDaterangepickerInlineConfig.ɵfac = function BsDaterangepickerInlineConfig_Factory(t) { return ɵBsDaterangepickerInlineConfig_BaseFactory(t || BsDaterangepickerInlineConfig); };
        /** @nocollapse */ BsDaterangepickerInlineConfig.ɵprov = core["ɵɵdefineInjectable"]({ token: BsDaterangepickerInlineConfig, factory: BsDaterangepickerInlineConfig.ɵfac });
        return BsDaterangepickerInlineConfig;
    }(BsDatepickerConfig));
    var ɵBsDaterangepickerInlineConfig_BaseFactory = core["ɵɵgetInheritedFactory"](BsDaterangepickerInlineConfig);
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDaterangepickerInlineConfig, [{
            type: core.Injectable
        }], null, null); })();

    function BsDaterangepickerContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template(rf, ctx) { if (rf & 1) {
        var _r342 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "bs-days-calendar-view", 11);
        core["ɵɵlistener"]("onNavigate", function BsDaterangepickerContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onNavigate_0_listener($event) { core["ɵɵrestoreView"](_r342); var ctx_r341 = core["ɵɵnextContext"](3); return ctx_r341.navigateTo($event); })("onViewMode", function BsDaterangepickerContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onViewMode_0_listener($event) { core["ɵɵrestoreView"](_r342); var ctx_r343 = core["ɵɵnextContext"](3); return ctx_r343.setViewMode($event); })("onHover", function BsDaterangepickerContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onHover_0_listener($event) { core["ɵɵrestoreView"](_r342); var ctx_r344 = core["ɵɵnextContext"](3); return ctx_r344.dayHoverHandler($event); })("onHoverWeek", function BsDaterangepickerContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onHoverWeek_0_listener($event) { core["ɵɵrestoreView"](_r342); var ctx_r345 = core["ɵɵnextContext"](3); return ctx_r345.weekHoverHandler($event); })("onSelect", function BsDaterangepickerContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onSelect_0_listener($event) { core["ɵɵrestoreView"](_r342); var ctx_r346 = core["ɵɵnextContext"](3); return ctx_r346.daySelectHandler($event); });
        core["ɵɵpipe"](1, "async");
        core["ɵɵpipe"](2, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var calendar_r340 = ctx.$implicit;
        var ctx_r339 = core["ɵɵnextContext"](3);
        var tmp_0_0 = null;
        var currVal_0 = ((tmp_0_0 = core["ɵɵpipeBind1"](1, 4, ctx_r339.daysCalendar)) == null ? null : tmp_0_0.length) > 1;
        core["ɵɵclassProp"]("bs-datepicker-multiple", currVal_0);
        core["ɵɵproperty"]("calendar", calendar_r340)("options", core["ɵɵpipeBind1"](2, 6, ctx_r339.options));
    } }
    function BsDaterangepickerContainerComponent_div_0_div_4_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "div", 9);
        core["ɵɵtemplate"](1, BsDaterangepickerContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template, 3, 8, "bs-days-calendar-view", 10);
        core["ɵɵpipe"](2, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r333 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", core["ɵɵpipeBind1"](2, 1, ctx_r333.daysCalendar));
    } }
    function BsDaterangepickerContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template(rf, ctx) { if (rf & 1) {
        var _r350 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "bs-month-calendar-view", 13);
        core["ɵɵlistener"]("onNavigate", function BsDaterangepickerContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template_bs_month_calendar_view_onNavigate_0_listener($event) { core["ɵɵrestoreView"](_r350); var ctx_r349 = core["ɵɵnextContext"](3); return ctx_r349.navigateTo($event); })("onViewMode", function BsDaterangepickerContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template_bs_month_calendar_view_onViewMode_0_listener($event) { core["ɵɵrestoreView"](_r350); var ctx_r351 = core["ɵɵnextContext"](3); return ctx_r351.setViewMode($event); })("onHover", function BsDaterangepickerContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template_bs_month_calendar_view_onHover_0_listener($event) { core["ɵɵrestoreView"](_r350); var ctx_r352 = core["ɵɵnextContext"](3); return ctx_r352.monthHoverHandler($event); })("onSelect", function BsDaterangepickerContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template_bs_month_calendar_view_onSelect_0_listener($event) { core["ɵɵrestoreView"](_r350); var ctx_r353 = core["ɵɵnextContext"](3); return ctx_r353.monthSelectHandler($event); });
        core["ɵɵpipe"](1, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var calendar_r348 = ctx.$implicit;
        var ctx_r347 = core["ɵɵnextContext"](3);
        var tmp_0_0 = null;
        var currVal_0 = ((tmp_0_0 = core["ɵɵpipeBind1"](1, 3, ctx_r347.daysCalendar)) == null ? null : tmp_0_0.length) > 1;
        core["ɵɵclassProp"]("bs-datepicker-multiple", currVal_0);
        core["ɵɵproperty"]("calendar", calendar_r348);
    } }
    function BsDaterangepickerContainerComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "div", 9);
        core["ɵɵtemplate"](1, BsDaterangepickerContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template, 2, 5, "bs-month-calendar-view", 12);
        core["ɵɵpipe"](2, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r334 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", core["ɵɵpipeBind1"](2, 1, ctx_r334.monthsCalendar));
    } }
    function BsDaterangepickerContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template(rf, ctx) { if (rf & 1) {
        var _r357 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "bs-years-calendar-view", 13);
        core["ɵɵlistener"]("onNavigate", function BsDaterangepickerContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template_bs_years_calendar_view_onNavigate_0_listener($event) { core["ɵɵrestoreView"](_r357); var ctx_r356 = core["ɵɵnextContext"](3); return ctx_r356.navigateTo($event); })("onViewMode", function BsDaterangepickerContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template_bs_years_calendar_view_onViewMode_0_listener($event) { core["ɵɵrestoreView"](_r357); var ctx_r358 = core["ɵɵnextContext"](3); return ctx_r358.setViewMode($event); })("onHover", function BsDaterangepickerContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template_bs_years_calendar_view_onHover_0_listener($event) { core["ɵɵrestoreView"](_r357); var ctx_r359 = core["ɵɵnextContext"](3); return ctx_r359.yearHoverHandler($event); })("onSelect", function BsDaterangepickerContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template_bs_years_calendar_view_onSelect_0_listener($event) { core["ɵɵrestoreView"](_r357); var ctx_r360 = core["ɵɵnextContext"](3); return ctx_r360.yearSelectHandler($event); });
        core["ɵɵpipe"](1, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var calendar_r355 = ctx.$implicit;
        var ctx_r354 = core["ɵɵnextContext"](3);
        var tmp_0_0 = null;
        var currVal_0 = ((tmp_0_0 = core["ɵɵpipeBind1"](1, 3, ctx_r354.daysCalendar)) == null ? null : tmp_0_0.length) > 1;
        core["ɵɵclassProp"]("bs-datepicker-multiple", currVal_0);
        core["ɵɵproperty"]("calendar", calendar_r355);
    } }
    function BsDaterangepickerContainerComponent_div_0_div_6_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "div", 9);
        core["ɵɵtemplate"](1, BsDaterangepickerContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template, 2, 5, "bs-years-calendar-view", 12);
        core["ɵɵpipe"](2, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r335 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", core["ɵɵpipeBind1"](2, 1, ctx_r335.yearsCalendar));
    } }
    function BsDaterangepickerContainerComponent_div_0_div_7_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "div", 6);
        core["ɵɵelementStart"](1, "button", 14);
        core["ɵɵtext"](2, "Apply");
        core["ɵɵelementEnd"]();
        core["ɵɵelementStart"](3, "button", 15);
        core["ɵɵtext"](4, "Cancel");
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } }
    function BsDaterangepickerContainerComponent_div_0_div_9_Template(rf, ctx) { if (rf & 1) {
        var _r362 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "div", 16);
        core["ɵɵelementStart"](1, "button", 17);
        core["ɵɵlistener"]("click", function BsDaterangepickerContainerComponent_div_0_div_9_Template_button_click_1_listener() { core["ɵɵrestoreView"](_r362); var ctx_r361 = core["ɵɵnextContext"](2); return ctx_r361.setToday(); });
        core["ɵɵtext"](2, "Today");
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r337 = core["ɵɵnextContext"](2);
        core["ɵɵclassProp"]("today-left", ctx_r337.todayPos === "left")("today-right", ctx_r337.todayPos === "right")("today-center", ctx_r337.todayPos === "center");
    } }
    function BsDaterangepickerContainerComponent_div_0_div_10_Template(rf, ctx) { if (rf & 1) {
        var _r364 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "div", 18);
        core["ɵɵelementStart"](1, "bs-custom-date-view", 19);
        core["ɵɵlistener"]("onSelect", function BsDaterangepickerContainerComponent_div_0_div_10_Template_bs_custom_date_view_onSelect_1_listener($event) { core["ɵɵrestoreView"](_r364); var ctx_r363 = core["ɵɵnextContext"](2); return ctx_r363.setRangeOnCalendar($event); });
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r338 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("selectedRange", ctx_r338.chosenRange)("ranges", ctx_r338.customRanges);
    } }
    function BsDaterangepickerContainerComponent_div_0_Template(rf, ctx) { if (rf & 1) {
        var _r366 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "div", 1);
        core["ɵɵelementStart"](1, "div", 2);
        core["ɵɵlistener"]("@datepickerAnimation.done", function BsDaterangepickerContainerComponent_div_0_Template_div_animation_datepickerAnimation_done_1_listener() { core["ɵɵrestoreView"](_r366); var ctx_r365 = core["ɵɵnextContext"](); return ctx_r365.positionServiceEnable(); });
        core["ɵɵelementStart"](2, "div", 3);
        core["ɵɵpipe"](3, "async");
        core["ɵɵtemplate"](4, BsDaterangepickerContainerComponent_div_0_div_4_Template, 3, 3, "div", 4);
        core["ɵɵtemplate"](5, BsDaterangepickerContainerComponent_div_0_div_5_Template, 3, 3, "div", 4);
        core["ɵɵtemplate"](6, BsDaterangepickerContainerComponent_div_0_div_6_Template, 3, 3, "div", 4);
        core["ɵɵelementEnd"]();
        core["ɵɵtemplate"](7, BsDaterangepickerContainerComponent_div_0_div_7_Template, 5, 0, "div", 5);
        core["ɵɵelementStart"](8, "div", 6);
        core["ɵɵtemplate"](9, BsDaterangepickerContainerComponent_div_0_div_9_Template, 3, 6, "div", 7);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵtemplate"](10, BsDaterangepickerContainerComponent_div_0_div_10_Template, 2, 2, "div", 8);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r332 = core["ɵɵnextContext"]();
        core["ɵɵproperty"]("ngClass", ctx_r332.containerClass);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("@datepickerAnimation", ctx_r332.animationState);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngSwitch", core["ɵɵpipeBind1"](3, 9, ctx_r332.viewMode));
        core["ɵɵadvance"](2);
        core["ɵɵproperty"]("ngSwitchCase", "day");
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngSwitchCase", "month");
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngSwitchCase", "year");
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngIf", false);
        core["ɵɵadvance"](2);
        core["ɵɵproperty"]("ngIf", ctx_r332.showTodayBtn);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngIf", (ctx_r332.customRanges == null ? null : ctx_r332.customRanges.length) > 0);
    } }
    var BsDaterangepickerContainerComponent = /** @class */ (function (_super) {
        __extends(BsDaterangepickerContainerComponent, _super);
        function BsDaterangepickerContainerComponent(_renderer, _config, _store, _element, _actions, _effects, _positionService) {
            var _this = _super.call(this) || this;
            _this._config = _config;
            _this._store = _store;
            _this._element = _element;
            _this._actions = _actions;
            _this._positionService = _positionService;
            _this.valueChange = new core.EventEmitter();
            _this.animationState = 'void';
            _this._rangeStack = [];
            _this.chosenRange = [];
            _this._subs = [];
            _this._effects = _effects;
            _this.customRanges = _this._config.ranges;
            _renderer.setStyle(_element.nativeElement, 'display', 'block');
            _renderer.setStyle(_element.nativeElement, 'position', 'absolute');
            return _this;
        }
        Object.defineProperty(BsDaterangepickerContainerComponent.prototype, "value", {
            set: function (value) {
                this._effects.setRangeValue(value);
            },
            enumerable: true,
            configurable: true
        });
        BsDaterangepickerContainerComponent.prototype.ngOnInit = function () {
            var _this = this;
            this._positionService.setOptions({
                modifiers: { flip: { enabled: this._config.adaptivePosition } },
                allowedPositions: ['top', 'bottom']
            });
            this._positionService.event$
                .pipe(operators.take(1))
                .subscribe(function () {
                _this._positionService.disable();
                if (_this._config.isAnimated) {
                    _this.animationState = _this.isTopPosition ? 'animated-up' : 'animated-down';
                    return;
                }
                _this.animationState = 'unanimated';
            });
            this.containerClass = this._config.containerClass;
            this.isOtherMonthsActive = this._config.selectFromOtherMonth;
            this._effects
                .init(this._store)
                // intial state options
                // todo: fix this, split configs
                .setOptions(this._config)
                // data binding view --> model
                .setBindings(this)
                // set event handlers
                .setEventHandlers(this)
                .registerDatepickerSideEffects();
            // todo: move it somewhere else
            // on selected date change
            this._subs.push(this._store
                .select(function (state) { return state.selectedRange; })
                .subscribe(function (date) {
                _this.valueChange.emit(date);
                _this.chosenRange = date;
            }));
        };
        Object.defineProperty(BsDaterangepickerContainerComponent.prototype, "isTopPosition", {
            get: function () {
                return this._element.nativeElement.classList.contains('top');
            },
            enumerable: true,
            configurable: true
        });
        BsDaterangepickerContainerComponent.prototype.positionServiceEnable = function () {
            this._positionService.enable();
        };
        BsDaterangepickerContainerComponent.prototype.daySelectHandler = function (day) {
            if (!day) {
                return;
            }
            var isDisabled = this.isOtherMonthsActive ? day.isDisabled : (day.isOtherMonth || day.isDisabled);
            if (isDisabled) {
                return;
            }
            // if only one date is already selected
            // and user clicks on previous date
            // start selection from new date
            // but if new date is after initial one
            // than finish selection
            if (this._rangeStack.length === 1) {
                this._rangeStack =
                    day.date >= this._rangeStack[0]
                        ? [this._rangeStack[0], day.date]
                        : [day.date];
            }
            if (this._rangeStack.length === 0) {
                this._rangeStack = [day.date];
            }
            this._store.dispatch(this._actions.selectRange(this._rangeStack));
            if (this._rangeStack.length === 2) {
                this._rangeStack = [];
            }
        };
        BsDaterangepickerContainerComponent.prototype.ngOnDestroy = function () {
            var e_1, _a;
            try {
                for (var _b = __values(this._subs), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var sub = _c.value;
                    sub.unsubscribe();
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_1) throw e_1.error; }
            }
            this._effects.destroy();
        };
        BsDaterangepickerContainerComponent.prototype.setRangeOnCalendar = function (dates) {
            this._rangeStack = (dates === null) ? [] : (dates.value instanceof Date ? [dates.value] : dates.value);
            this._store.dispatch(this._actions.selectRange(this._rangeStack));
        };
        /** @nocollapse */ BsDaterangepickerContainerComponent.ɵfac = function BsDaterangepickerContainerComponent_Factory(t) { return new (t || BsDaterangepickerContainerComponent)(core["ɵɵdirectiveInject"](core.Renderer2), core["ɵɵdirectiveInject"](BsDatepickerConfig), core["ɵɵdirectiveInject"](BsDatepickerStore), core["ɵɵdirectiveInject"](core.ElementRef), core["ɵɵdirectiveInject"](BsDatepickerActions), core["ɵɵdirectiveInject"](BsDatepickerEffects), core["ɵɵdirectiveInject"](positioning.PositioningService)); };
        /** @nocollapse */ BsDaterangepickerContainerComponent.ɵcmp = core["ɵɵdefineComponent"]({ type: BsDaterangepickerContainerComponent, selectors: [["bs-daterangepicker-container"]], hostAttrs: ["role", "dialog", "aria-label", "calendar", 1, "bottom"], hostBindings: function BsDaterangepickerContainerComponent_HostBindings(rf, ctx) { if (rf & 1) {
                core["ɵɵlistener"]("click", function BsDaterangepickerContainerComponent_click_HostBindingHandler($event) { return ctx._stopPropagation($event); });
            } }, features: [core["ɵɵProvidersFeature"]([BsDatepickerStore, BsDatepickerEffects]), core["ɵɵInheritDefinitionFeature"]], decls: 2, vars: 3, consts: [["class", "bs-datepicker", 3, "ngClass", 4, "ngIf"], [1, "bs-datepicker", 3, "ngClass"], [1, "bs-datepicker-container"], ["role", "application", 1, "bs-calendar-container", 3, "ngSwitch"], ["class", "bs-media-container", 4, "ngSwitchCase"], ["class", "bs-datepicker-buttons", 4, "ngIf"], [1, "bs-datepicker-buttons"], ["class", "btn-today-wrapper", 3, "today-left", "today-right", "today-center", 4, "ngIf"], ["class", "bs-datepicker-custom-range", 4, "ngIf"], [1, "bs-media-container"], [3, "bs-datepicker-multiple", "calendar", "options", "onNavigate", "onViewMode", "onHover", "onHoverWeek", "onSelect", 4, "ngFor", "ngForOf"], [3, "calendar", "options", "onNavigate", "onViewMode", "onHover", "onHoverWeek", "onSelect"], [3, "bs-datepicker-multiple", "calendar", "onNavigate", "onViewMode", "onHover", "onSelect", 4, "ngFor", "ngForOf"], [3, "calendar", "onNavigate", "onViewMode", "onHover", "onSelect"], ["type", "button", 1, "btn", "btn-success"], ["type", "button", 1, "btn", "btn-default"], [1, "btn-today-wrapper"], [1, "btn", "btn-success", 3, "click"], [1, "bs-datepicker-custom-range"], [3, "selectedRange", "ranges", "onSelect"]], template: function BsDaterangepickerContainerComponent_Template(rf, ctx) { if (rf & 1) {
                core["ɵɵtemplate"](0, BsDaterangepickerContainerComponent_div_0_Template, 11, 11, "div", 0);
                core["ɵɵpipe"](1, "async");
            } if (rf & 2) {
                core["ɵɵproperty"]("ngIf", core["ɵɵpipeBind1"](1, 1, ctx.viewMode));
            } }, directives: [common.NgIf, common.NgClass, common.NgSwitch, common.NgSwitchCase, common.NgForOf, BsDaysCalendarViewComponent, BsMonthCalendarViewComponent, BsYearsCalendarViewComponent, BsCustomDatesViewComponent], pipes: [common.AsyncPipe], encapsulation: 2, data: { animation: [datepickerAnimation] } });
        return BsDaterangepickerContainerComponent;
    }(BsDatepickerAbstractComponent));
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDaterangepickerContainerComponent, [{
            type: core.Component,
            args: [{
                    selector: 'bs-daterangepicker-container',
                    providers: [BsDatepickerStore, BsDatepickerEffects],
                    templateUrl: './bs-datepicker-view.html',
                    host: {
                        class: 'bottom',
                        '(click)': '_stopPropagation($event)',
                        role: 'dialog',
                        'aria-label': 'calendar'
                    },
                    animations: [datepickerAnimation]
                }]
        }], function () { return [{ type: core.Renderer2 }, { type: BsDatepickerConfig }, { type: BsDatepickerStore }, { type: core.ElementRef }, { type: BsDatepickerActions }, { type: BsDatepickerEffects }, { type: positioning.PositioningService }]; }, null); })();

    function BsDaterangepickerInlineContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template(rf, ctx) { if (rf & 1) {
        var _r377 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "bs-days-calendar-view", 11);
        core["ɵɵlistener"]("onNavigate", function BsDaterangepickerInlineContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onNavigate_0_listener($event) { core["ɵɵrestoreView"](_r377); var ctx_r376 = core["ɵɵnextContext"](3); return ctx_r376.navigateTo($event); })("onViewMode", function BsDaterangepickerInlineContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onViewMode_0_listener($event) { core["ɵɵrestoreView"](_r377); var ctx_r378 = core["ɵɵnextContext"](3); return ctx_r378.setViewMode($event); })("onHover", function BsDaterangepickerInlineContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onHover_0_listener($event) { core["ɵɵrestoreView"](_r377); var ctx_r379 = core["ɵɵnextContext"](3); return ctx_r379.dayHoverHandler($event); })("onHoverWeek", function BsDaterangepickerInlineContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onHoverWeek_0_listener($event) { core["ɵɵrestoreView"](_r377); var ctx_r380 = core["ɵɵnextContext"](3); return ctx_r380.weekHoverHandler($event); })("onSelect", function BsDaterangepickerInlineContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template_bs_days_calendar_view_onSelect_0_listener($event) { core["ɵɵrestoreView"](_r377); var ctx_r381 = core["ɵɵnextContext"](3); return ctx_r381.daySelectHandler($event); });
        core["ɵɵpipe"](1, "async");
        core["ɵɵpipe"](2, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var calendar_r375 = ctx.$implicit;
        var ctx_r374 = core["ɵɵnextContext"](3);
        var tmp_0_0 = null;
        var currVal_0 = ((tmp_0_0 = core["ɵɵpipeBind1"](1, 4, ctx_r374.daysCalendar)) == null ? null : tmp_0_0.length) > 1;
        core["ɵɵclassProp"]("bs-datepicker-multiple", currVal_0);
        core["ɵɵproperty"]("calendar", calendar_r375)("options", core["ɵɵpipeBind1"](2, 6, ctx_r374.options));
    } }
    function BsDaterangepickerInlineContainerComponent_div_0_div_4_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "div", 9);
        core["ɵɵtemplate"](1, BsDaterangepickerInlineContainerComponent_div_0_div_4_bs_days_calendar_view_1_Template, 3, 8, "bs-days-calendar-view", 10);
        core["ɵɵpipe"](2, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r368 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", core["ɵɵpipeBind1"](2, 1, ctx_r368.daysCalendar));
    } }
    function BsDaterangepickerInlineContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template(rf, ctx) { if (rf & 1) {
        var _r385 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "bs-month-calendar-view", 13);
        core["ɵɵlistener"]("onNavigate", function BsDaterangepickerInlineContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template_bs_month_calendar_view_onNavigate_0_listener($event) { core["ɵɵrestoreView"](_r385); var ctx_r384 = core["ɵɵnextContext"](3); return ctx_r384.navigateTo($event); })("onViewMode", function BsDaterangepickerInlineContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template_bs_month_calendar_view_onViewMode_0_listener($event) { core["ɵɵrestoreView"](_r385); var ctx_r386 = core["ɵɵnextContext"](3); return ctx_r386.setViewMode($event); })("onHover", function BsDaterangepickerInlineContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template_bs_month_calendar_view_onHover_0_listener($event) { core["ɵɵrestoreView"](_r385); var ctx_r387 = core["ɵɵnextContext"](3); return ctx_r387.monthHoverHandler($event); })("onSelect", function BsDaterangepickerInlineContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template_bs_month_calendar_view_onSelect_0_listener($event) { core["ɵɵrestoreView"](_r385); var ctx_r388 = core["ɵɵnextContext"](3); return ctx_r388.monthSelectHandler($event); });
        core["ɵɵpipe"](1, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var calendar_r383 = ctx.$implicit;
        var ctx_r382 = core["ɵɵnextContext"](3);
        var tmp_0_0 = null;
        var currVal_0 = ((tmp_0_0 = core["ɵɵpipeBind1"](1, 3, ctx_r382.daysCalendar)) == null ? null : tmp_0_0.length) > 1;
        core["ɵɵclassProp"]("bs-datepicker-multiple", currVal_0);
        core["ɵɵproperty"]("calendar", calendar_r383);
    } }
    function BsDaterangepickerInlineContainerComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "div", 9);
        core["ɵɵtemplate"](1, BsDaterangepickerInlineContainerComponent_div_0_div_5_bs_month_calendar_view_1_Template, 2, 5, "bs-month-calendar-view", 12);
        core["ɵɵpipe"](2, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r369 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", core["ɵɵpipeBind1"](2, 1, ctx_r369.monthsCalendar));
    } }
    function BsDaterangepickerInlineContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template(rf, ctx) { if (rf & 1) {
        var _r392 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "bs-years-calendar-view", 13);
        core["ɵɵlistener"]("onNavigate", function BsDaterangepickerInlineContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template_bs_years_calendar_view_onNavigate_0_listener($event) { core["ɵɵrestoreView"](_r392); var ctx_r391 = core["ɵɵnextContext"](3); return ctx_r391.navigateTo($event); })("onViewMode", function BsDaterangepickerInlineContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template_bs_years_calendar_view_onViewMode_0_listener($event) { core["ɵɵrestoreView"](_r392); var ctx_r393 = core["ɵɵnextContext"](3); return ctx_r393.setViewMode($event); })("onHover", function BsDaterangepickerInlineContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template_bs_years_calendar_view_onHover_0_listener($event) { core["ɵɵrestoreView"](_r392); var ctx_r394 = core["ɵɵnextContext"](3); return ctx_r394.yearHoverHandler($event); })("onSelect", function BsDaterangepickerInlineContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template_bs_years_calendar_view_onSelect_0_listener($event) { core["ɵɵrestoreView"](_r392); var ctx_r395 = core["ɵɵnextContext"](3); return ctx_r395.yearSelectHandler($event); });
        core["ɵɵpipe"](1, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var calendar_r390 = ctx.$implicit;
        var ctx_r389 = core["ɵɵnextContext"](3);
        var tmp_0_0 = null;
        var currVal_0 = ((tmp_0_0 = core["ɵɵpipeBind1"](1, 3, ctx_r389.daysCalendar)) == null ? null : tmp_0_0.length) > 1;
        core["ɵɵclassProp"]("bs-datepicker-multiple", currVal_0);
        core["ɵɵproperty"]("calendar", calendar_r390);
    } }
    function BsDaterangepickerInlineContainerComponent_div_0_div_6_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "div", 9);
        core["ɵɵtemplate"](1, BsDaterangepickerInlineContainerComponent_div_0_div_6_bs_years_calendar_view_1_Template, 2, 5, "bs-years-calendar-view", 12);
        core["ɵɵpipe"](2, "async");
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r370 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", core["ɵɵpipeBind1"](2, 1, ctx_r370.yearsCalendar));
    } }
    function BsDaterangepickerInlineContainerComponent_div_0_div_7_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "div", 6);
        core["ɵɵelementStart"](1, "button", 14);
        core["ɵɵtext"](2, "Apply");
        core["ɵɵelementEnd"]();
        core["ɵɵelementStart"](3, "button", 15);
        core["ɵɵtext"](4, "Cancel");
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } }
    function BsDaterangepickerInlineContainerComponent_div_0_div_9_Template(rf, ctx) { if (rf & 1) {
        var _r397 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "div", 16);
        core["ɵɵelementStart"](1, "button", 17);
        core["ɵɵlistener"]("click", function BsDaterangepickerInlineContainerComponent_div_0_div_9_Template_button_click_1_listener() { core["ɵɵrestoreView"](_r397); var ctx_r396 = core["ɵɵnextContext"](2); return ctx_r396.setToday(); });
        core["ɵɵtext"](2, "Today");
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r372 = core["ɵɵnextContext"](2);
        core["ɵɵclassProp"]("today-left", ctx_r372.todayPos === "left")("today-right", ctx_r372.todayPos === "right")("today-center", ctx_r372.todayPos === "center");
    } }
    function BsDaterangepickerInlineContainerComponent_div_0_div_10_Template(rf, ctx) { if (rf & 1) {
        var _r399 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "div", 18);
        core["ɵɵelementStart"](1, "bs-custom-date-view", 19);
        core["ɵɵlistener"]("onSelect", function BsDaterangepickerInlineContainerComponent_div_0_div_10_Template_bs_custom_date_view_onSelect_1_listener($event) { core["ɵɵrestoreView"](_r399); var ctx_r398 = core["ɵɵnextContext"](2); return ctx_r398.setRangeOnCalendar($event); });
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r373 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("selectedRange", ctx_r373.chosenRange)("ranges", ctx_r373.customRanges);
    } }
    function BsDaterangepickerInlineContainerComponent_div_0_Template(rf, ctx) { if (rf & 1) {
        var _r401 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "div", 1);
        core["ɵɵelementStart"](1, "div", 2);
        core["ɵɵlistener"]("@datepickerAnimation.done", function BsDaterangepickerInlineContainerComponent_div_0_Template_div_animation_datepickerAnimation_done_1_listener() { core["ɵɵrestoreView"](_r401); var ctx_r400 = core["ɵɵnextContext"](); return ctx_r400.positionServiceEnable(); });
        core["ɵɵelementStart"](2, "div", 3);
        core["ɵɵpipe"](3, "async");
        core["ɵɵtemplate"](4, BsDaterangepickerInlineContainerComponent_div_0_div_4_Template, 3, 3, "div", 4);
        core["ɵɵtemplate"](5, BsDaterangepickerInlineContainerComponent_div_0_div_5_Template, 3, 3, "div", 4);
        core["ɵɵtemplate"](6, BsDaterangepickerInlineContainerComponent_div_0_div_6_Template, 3, 3, "div", 4);
        core["ɵɵelementEnd"]();
        core["ɵɵtemplate"](7, BsDaterangepickerInlineContainerComponent_div_0_div_7_Template, 5, 0, "div", 5);
        core["ɵɵelementStart"](8, "div", 6);
        core["ɵɵtemplate"](9, BsDaterangepickerInlineContainerComponent_div_0_div_9_Template, 3, 6, "div", 7);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵtemplate"](10, BsDaterangepickerInlineContainerComponent_div_0_div_10_Template, 2, 2, "div", 8);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r367 = core["ɵɵnextContext"]();
        core["ɵɵproperty"]("ngClass", ctx_r367.containerClass);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("@datepickerAnimation", ctx_r367.animationState);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngSwitch", core["ɵɵpipeBind1"](3, 9, ctx_r367.viewMode));
        core["ɵɵadvance"](2);
        core["ɵɵproperty"]("ngSwitchCase", "day");
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngSwitchCase", "month");
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngSwitchCase", "year");
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngIf", false);
        core["ɵɵadvance"](2);
        core["ɵɵproperty"]("ngIf", ctx_r367.showTodayBtn);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngIf", (ctx_r367.customRanges == null ? null : ctx_r367.customRanges.length) > 0);
    } }
    var BsDaterangepickerInlineContainerComponent = /** @class */ (function (_super) {
        __extends(BsDaterangepickerInlineContainerComponent, _super);
        function BsDaterangepickerInlineContainerComponent(_renderer, _config, _store, _element, _actions, _effects, _positioningService) {
            var _this = _super.call(this, _renderer, _config, _store, _element, _actions, _effects, _positioningService) || this;
            _renderer.setStyle(_element.nativeElement, 'display', 'inline-block');
            _renderer.setStyle(_element.nativeElement, 'position', 'static');
            return _this;
        }
        /** @nocollapse */ BsDaterangepickerInlineContainerComponent.ɵfac = function BsDaterangepickerInlineContainerComponent_Factory(t) { return new (t || BsDaterangepickerInlineContainerComponent)(core["ɵɵdirectiveInject"](core.Renderer2), core["ɵɵdirectiveInject"](BsDatepickerConfig), core["ɵɵdirectiveInject"](BsDatepickerStore), core["ɵɵdirectiveInject"](core.ElementRef), core["ɵɵdirectiveInject"](BsDatepickerActions), core["ɵɵdirectiveInject"](BsDatepickerEffects), core["ɵɵdirectiveInject"](positioning.PositioningService)); };
        /** @nocollapse */ BsDaterangepickerInlineContainerComponent.ɵcmp = core["ɵɵdefineComponent"]({ type: BsDaterangepickerInlineContainerComponent, selectors: [["bs-daterangepicker-inline-container"]], hostBindings: function BsDaterangepickerInlineContainerComponent_HostBindings(rf, ctx) { if (rf & 1) {
                core["ɵɵlistener"]("click", function BsDaterangepickerInlineContainerComponent_click_HostBindingHandler($event) { return ctx._stopPropagation($event); });
            } }, features: [core["ɵɵProvidersFeature"]([BsDatepickerStore, BsDatepickerEffects]), core["ɵɵInheritDefinitionFeature"]], decls: 2, vars: 3, consts: [["class", "bs-datepicker", 3, "ngClass", 4, "ngIf"], [1, "bs-datepicker", 3, "ngClass"], [1, "bs-datepicker-container"], ["role", "application", 1, "bs-calendar-container", 3, "ngSwitch"], ["class", "bs-media-container", 4, "ngSwitchCase"], ["class", "bs-datepicker-buttons", 4, "ngIf"], [1, "bs-datepicker-buttons"], ["class", "btn-today-wrapper", 3, "today-left", "today-right", "today-center", 4, "ngIf"], ["class", "bs-datepicker-custom-range", 4, "ngIf"], [1, "bs-media-container"], [3, "bs-datepicker-multiple", "calendar", "options", "onNavigate", "onViewMode", "onHover", "onHoverWeek", "onSelect", 4, "ngFor", "ngForOf"], [3, "calendar", "options", "onNavigate", "onViewMode", "onHover", "onHoverWeek", "onSelect"], [3, "bs-datepicker-multiple", "calendar", "onNavigate", "onViewMode", "onHover", "onSelect", 4, "ngFor", "ngForOf"], [3, "calendar", "onNavigate", "onViewMode", "onHover", "onSelect"], ["type", "button", 1, "btn", "btn-success"], ["type", "button", 1, "btn", "btn-default"], [1, "btn-today-wrapper"], [1, "btn", "btn-success", 3, "click"], [1, "bs-datepicker-custom-range"], [3, "selectedRange", "ranges", "onSelect"]], template: function BsDaterangepickerInlineContainerComponent_Template(rf, ctx) { if (rf & 1) {
                core["ɵɵtemplate"](0, BsDaterangepickerInlineContainerComponent_div_0_Template, 11, 11, "div", 0);
                core["ɵɵpipe"](1, "async");
            } if (rf & 2) {
                core["ɵɵproperty"]("ngIf", core["ɵɵpipeBind1"](1, 1, ctx.viewMode));
            } }, directives: [common.NgIf, common.NgClass, common.NgSwitch, common.NgSwitchCase, common.NgForOf, BsDaysCalendarViewComponent, BsMonthCalendarViewComponent, BsYearsCalendarViewComponent, BsCustomDatesViewComponent], pipes: [common.AsyncPipe], encapsulation: 2, data: { animation: [datepickerAnimation] } });
        return BsDaterangepickerInlineContainerComponent;
    }(BsDaterangepickerContainerComponent));
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDaterangepickerInlineContainerComponent, [{
            type: core.Component,
            args: [{
                    selector: 'bs-daterangepicker-inline-container',
                    providers: [BsDatepickerStore, BsDatepickerEffects],
                    templateUrl: './bs-datepicker-view.html',
                    host: {
                        '(click)': '_stopPropagation($event)'
                    },
                    animations: [datepickerAnimation]
                }]
        }], function () { return [{ type: core.Renderer2 }, { type: BsDatepickerConfig }, { type: BsDatepickerStore }, { type: core.ElementRef }, { type: BsDatepickerActions }, { type: BsDatepickerEffects }, { type: positioning.PositioningService }]; }, null); })();

    var BsDaterangepickerInlineDirective = /** @class */ (function () {
        function BsDaterangepickerInlineDirective(_config, _elementRef, _renderer, _viewContainerRef, cis) {
            this._config = _config;
            this._elementRef = _elementRef;
            /**
             * Emits when daterangepicker value has been changed
             */
            this.bsValueChange = new core.EventEmitter();
            this._subs = [];
            // todo: assign only subset of fields
            Object.assign(this, this._config);
            this._datepicker = cis.createLoader(_elementRef, _viewContainerRef, _renderer);
        }
        Object.defineProperty(BsDaterangepickerInlineDirective.prototype, "bsValue", {
            /**
             * Initial value of datepicker
             */
            set: function (value) {
                if (this._bsValue === value) {
                    return;
                }
                this._bsValue = value;
                this.bsValueChange.emit(value);
            },
            enumerable: true,
            configurable: true
        });
        BsDaterangepickerInlineDirective.prototype.ngOnInit = function () {
            var _this = this;
            this.setConfig();
            // if date changes from external source (model -> view)
            this._subs.push(this.bsValueChange.subscribe(function (value) {
                _this._datepickerRef.instance.value = value;
            }));
            // if date changes from picker (view -> model)
            this._subs.push(this._datepickerRef.instance.valueChange
                .pipe(operators.filter(function (range) { return range && range[0] && !!range[1]; }))
                .subscribe(function (value) {
                _this.bsValue = value;
            }));
        };
        BsDaterangepickerInlineDirective.prototype.ngOnChanges = function (changes) {
            if (!this._datepickerRef || !this._datepickerRef.instance) {
                return;
            }
            if (changes.minDate) {
                this._datepickerRef.instance.minDate = this.minDate;
                this.setConfig();
            }
            if (changes.maxDate) {
                this._datepickerRef.instance.maxDate = this.maxDate;
                this.setConfig();
            }
            if (changes.datesEnabled) {
                this._datepickerRef.instance.datesEnabled = this.datesEnabled;
            }
            if (changes.datesDisabled) {
                this._datepickerRef.instance.datesDisabled = this.datesDisabled;
                this.setConfig();
            }
            if (changes.daysDisabled) {
                this._datepickerRef.instance.daysDisabled = this.daysDisabled;
                this.setConfig();
            }
            if (changes.isDisabled) {
                this._datepickerRef.instance.isDisabled = this.isDisabled;
                this.setConfig();
            }
            if (changes.dateCustomClasses) {
                this._datepickerRef.instance.dateCustomClasses = this.dateCustomClasses;
                this.setConfig();
            }
        };
        /**
         * Set config for datepicker
         */
        BsDaterangepickerInlineDirective.prototype.setConfig = function () {
            if (this._datepicker) {
                this._datepicker.hide();
            }
            this._config = Object.assign({}, this._config, this.bsConfig, {
                value: this._bsValue,
                isDisabled: this.isDisabled,
                minDate: this.minDate || this.bsConfig && this.bsConfig.minDate,
                maxDate: this.maxDate || this.bsConfig && this.bsConfig.maxDate,
                daysDisabled: this.daysDisabled || this.bsConfig && this.bsConfig.daysDisabled,
                dateCustomClasses: this.dateCustomClasses || this.bsConfig && this.bsConfig.dateCustomClasses,
                datesDisabled: this.datesDisabled || this.bsConfig && this.bsConfig.datesDisabled,
                datesEnabled: this.datesEnabled || this.bsConfig && this.bsConfig.datesEnabled,
                ranges: this.bsConfig && this.bsConfig.ranges
            });
            this._datepickerRef = this._datepicker
                .provide({ provide: BsDatepickerConfig, useValue: this._config })
                .attach(BsDaterangepickerInlineContainerComponent)
                .to(this._elementRef)
                .show();
        };
        BsDaterangepickerInlineDirective.prototype.ngOnDestroy = function () {
            this._datepicker.dispose();
        };
        /** @nocollapse */ BsDaterangepickerInlineDirective.ɵfac = function BsDaterangepickerInlineDirective_Factory(t) { return new (t || BsDaterangepickerInlineDirective)(core["ɵɵdirectiveInject"](BsDaterangepickerInlineConfig), core["ɵɵdirectiveInject"](core.ElementRef), core["ɵɵdirectiveInject"](core.Renderer2), core["ɵɵdirectiveInject"](core.ViewContainerRef), core["ɵɵdirectiveInject"](componentLoader.ComponentLoaderFactory)); };
        /** @nocollapse */ BsDaterangepickerInlineDirective.ɵdir = core["ɵɵdefineDirective"]({ type: BsDaterangepickerInlineDirective, selectors: [["bs-daterangepicker-inline"]], inputs: { bsValue: "bsValue", bsConfig: "bsConfig", isDisabled: "isDisabled", minDate: "minDate", maxDate: "maxDate", dateCustomClasses: "dateCustomClasses", daysDisabled: "daysDisabled", datesDisabled: "datesDisabled", datesEnabled: "datesEnabled" }, outputs: { bsValueChange: "bsValueChange" }, exportAs: ["bsDaterangepickerInline"], features: [core["ɵɵNgOnChangesFeature"]] });
        return BsDaterangepickerInlineDirective;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDaterangepickerInlineDirective, [{
            type: core.Directive,
            args: [{
                    selector: 'bs-daterangepicker-inline',
                    exportAs: 'bsDaterangepickerInline'
                }]
        }], function () { return [{ type: BsDaterangepickerInlineConfig }, { type: core.ElementRef }, { type: core.Renderer2 }, { type: core.ViewContainerRef }, { type: componentLoader.ComponentLoaderFactory }]; }, { bsValue: [{
                type: core.Input
            }], bsConfig: [{
                type: core.Input
            }], isDisabled: [{
                type: core.Input
            }], minDate: [{
                type: core.Input
            }], maxDate: [{
                type: core.Input
            }], dateCustomClasses: [{
                type: core.Input
            }], daysDisabled: [{
                type: core.Input
            }], datesDisabled: [{
                type: core.Input
            }], datesEnabled: [{
                type: core.Input
            }], bsValueChange: [{
                type: core.Output
            }] }); })();

    var BS_DATEPICKER_VALUE_ACCESSOR = {
        provide: forms.NG_VALUE_ACCESSOR,
        /* tslint:disable-next-line: no-use-before-declare */
        useExisting: core.forwardRef(function () { return BsDatepickerInputDirective; }),
        multi: true
    };
    var BS_DATEPICKER_VALIDATOR = {
        provide: forms.NG_VALIDATORS,
        /* tslint:disable-next-line: no-use-before-declare */
        useExisting: core.forwardRef(function () { return BsDatepickerInputDirective; }),
        multi: true
    };
    var BsDatepickerInputDirective = /** @class */ (function () {
        function BsDatepickerInputDirective(_picker, _localeService, _renderer, _elRef, changeDetection) {
            var _this = this;
            this._picker = _picker;
            this._localeService = _localeService;
            this._renderer = _renderer;
            this._elRef = _elRef;
            this.changeDetection = changeDetection;
            this._onChange = Function.prototype;
            this._onTouched = Function.prototype;
            /* tslint:disable-next-line: no-unused-variable */
            this._validatorChange = Function.prototype;
            // update input value on datepicker value update
            this._picker.bsValueChange.subscribe(function (value) {
                _this._setInputValue(value);
                if (_this._value !== value) {
                    _this._value = value;
                    _this._onChange(value);
                    _this._onTouched();
                }
                _this.changeDetection.markForCheck();
            });
            // update input value on locale change
            this._localeService.localeChange.subscribe(function () {
                _this._setInputValue(_this._value);
            });
        }
        BsDatepickerInputDirective.prototype.onKeydownEvent = function (event) {
            if (event.keyCode === 13 || event.code === 'Enter') {
                this.hide();
            }
        };
        BsDatepickerInputDirective.prototype._setInputValue = function (value) {
            var initialDate = !value ? ''
                : chronos.formatDate(value, this._picker._config.dateInputFormat, this._localeService.currentLocale);
            this._renderer.setProperty(this._elRef.nativeElement, 'value', initialDate);
        };
        BsDatepickerInputDirective.prototype.onChange = function (event) {
            /* tslint:disable-next-line: no-any*/
            this.writeValue(event.target.value);
            this._onChange(this._value);
            if (this._picker._config.returnFocusToInput) {
                this._renderer.selectRootElement(this._elRef.nativeElement).focus();
            }
            this._onTouched();
        };
        BsDatepickerInputDirective.prototype.validate = function (c) {
            var _value = c.value;
            /* tslint:disable-next-line: prefer-switch */
            if (_value === null || _value === undefined || _value === '') {
                return null;
            }
            if (chronos.isDate(_value)) {
                var _isDateValid = chronos.isDateValid(_value);
                if (!_isDateValid) {
                    return { bsDate: { invalid: _value } };
                }
                if (this._picker && this._picker.minDate && chronos.isBefore(_value, this._picker.minDate, 'date')) {
                    this.writeValue(this._picker.minDate);
                    return { bsDate: { minDate: this._picker.minDate } };
                }
                if (this._picker && this._picker.maxDate && chronos.isAfter(_value, this._picker.maxDate, 'date')) {
                    this.writeValue(this._picker.maxDate);
                    return { bsDate: { maxDate: this._picker.maxDate } };
                }
            }
        };
        BsDatepickerInputDirective.prototype.registerOnValidatorChange = function (fn) {
            this._validatorChange = fn;
        };
        BsDatepickerInputDirective.prototype.writeValue = function (value) {
            if (!value) {
                this._value = null;
            }
            else {
                var _localeKey = this._localeService.currentLocale;
                var _locale = chronos.getLocale(_localeKey);
                if (!_locale) {
                    throw new Error("Locale \"" + _localeKey + "\" is not defined, please add it with \"defineLocale(...)\"");
                }
                this._value = chronos.parseDate(value, this._picker._config.dateInputFormat, this._localeService.currentLocale);
                if (this._picker._config.useUtc) {
                    this._value = chronos.utcAsLocal(this._value);
                }
            }
            this._picker.bsValue = this._value;
        };
        BsDatepickerInputDirective.prototype.setDisabledState = function (isDisabled) {
            this._picker.isDisabled = isDisabled;
            if (isDisabled) {
                this._renderer.setAttribute(this._elRef.nativeElement, 'disabled', 'disabled');
                return;
            }
            this._renderer.removeAttribute(this._elRef.nativeElement, 'disabled');
        };
        BsDatepickerInputDirective.prototype.registerOnChange = function (fn) {
            this._onChange = fn;
        };
        BsDatepickerInputDirective.prototype.registerOnTouched = function (fn) {
            this._onTouched = fn;
        };
        BsDatepickerInputDirective.prototype.onBlur = function () {
            this._onTouched();
        };
        BsDatepickerInputDirective.prototype.hide = function () {
            this._picker.hide();
            this._renderer.selectRootElement(this._elRef.nativeElement).blur();
            if (this._picker._config.returnFocusToInput) {
                this._renderer.selectRootElement(this._elRef.nativeElement).focus();
            }
        };
        /** @nocollapse */ BsDatepickerInputDirective.ɵfac = function BsDatepickerInputDirective_Factory(t) { return new (t || BsDatepickerInputDirective)(core["ɵɵdirectiveInject"](BsDatepickerDirective, 1), core["ɵɵdirectiveInject"](BsLocaleService), core["ɵɵdirectiveInject"](core.Renderer2), core["ɵɵdirectiveInject"](core.ElementRef), core["ɵɵdirectiveInject"](core.ChangeDetectorRef)); };
        /** @nocollapse */ BsDatepickerInputDirective.ɵdir = core["ɵɵdefineDirective"]({ type: BsDatepickerInputDirective, selectors: [["input", "bsDatepicker", ""]], hostBindings: function BsDatepickerInputDirective_HostBindings(rf, ctx) { if (rf & 1) {
                core["ɵɵlistener"]("change", function BsDatepickerInputDirective_change_HostBindingHandler($event) { return ctx.onChange($event); })("keyup.esc", function BsDatepickerInputDirective_keyup_esc_HostBindingHandler() { return ctx.hide(); })("keydown", function BsDatepickerInputDirective_keydown_HostBindingHandler($event) { return ctx.onKeydownEvent($event); })("blur", function BsDatepickerInputDirective_blur_HostBindingHandler() { return ctx.onBlur(); });
            } }, features: [core["ɵɵProvidersFeature"]([BS_DATEPICKER_VALUE_ACCESSOR, BS_DATEPICKER_VALIDATOR])] });
        return BsDatepickerInputDirective;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDatepickerInputDirective, [{
            type: core.Directive,
            args: [{
                    selector: "input[bsDatepicker]",
                    host: {
                        '(change)': 'onChange($event)',
                        '(keyup.esc)': 'hide()',
                        '(keydown)': 'onKeydownEvent($event)',
                        '(blur)': 'onBlur()'
                    },
                    providers: [BS_DATEPICKER_VALUE_ACCESSOR, BS_DATEPICKER_VALIDATOR]
                }]
        }], function () { return [{ type: BsDatepickerDirective, decorators: [{
                    type: core.Host
                }] }, { type: BsLocaleService }, { type: core.Renderer2 }, { type: core.ElementRef }, { type: core.ChangeDetectorRef }]; }, null); })();

    var BsDaterangepickerConfig = /** @class */ (function (_super) {
        __extends(BsDaterangepickerConfig, _super);
        function BsDaterangepickerConfig() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            // DatepickerRenderOptions
            _this.displayMonths = 2;
            return _this;
        }
        /** @nocollapse */ BsDaterangepickerConfig.ɵfac = function BsDaterangepickerConfig_Factory(t) { return ɵBsDaterangepickerConfig_BaseFactory(t || BsDaterangepickerConfig); };
        /** @nocollapse */ BsDaterangepickerConfig.ɵprov = core["ɵɵdefineInjectable"]({ token: BsDaterangepickerConfig, factory: BsDaterangepickerConfig.ɵfac });
        return BsDaterangepickerConfig;
    }(BsDatepickerConfig));
    var ɵBsDaterangepickerConfig_BaseFactory = core["ɵɵgetInheritedFactory"](BsDaterangepickerConfig);
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDaterangepickerConfig, [{
            type: core.Injectable
        }], null, null); })();

    var BsDaterangepickerDirective = /** @class */ (function () {
        function BsDaterangepickerDirective(_config, _elementRef, _renderer, _viewContainerRef, cis) {
            this._config = _config;
            this._elementRef = _elementRef;
            this._renderer = _renderer;
            /**
             * Placement of a daterangepicker. Accepts: "top", "bottom", "left", "right"
             */
            this.placement = 'bottom';
            /**
             * Specifies events that should trigger. Supports a space separated list of
             * event names.
             */
            this.triggers = 'click';
            /**
             * Close daterangepicker on outside click
             */
            this.outsideClick = true;
            /**
             * A selector specifying the element the daterangepicker should be appended to.
             */
            this.container = 'body';
            this.outsideEsc = true;
            /**
             * Emits when daterangepicker value has been changed
             */
            this.bsValueChange = new core.EventEmitter();
            this._subs = [];
            this._datepicker = cis.createLoader(_elementRef, _viewContainerRef, _renderer);
            Object.assign(this, _config);
            this.onShown = this._datepicker.onShown;
            this.onHidden = this._datepicker.onHidden;
            this.isOpen$ = new rxjs.BehaviorSubject(this.isOpen);
        }
        Object.defineProperty(BsDaterangepickerDirective.prototype, "isOpen", {
            /**
             * Returns whether or not the daterangepicker is currently being shown
             */
            get: function () {
                return this._datepicker.isShown;
            },
            set: function (value) {
                this.isOpen$.next(value);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BsDaterangepickerDirective.prototype, "bsValue", {
            /**
             * Initial value of daterangepicker
             */
            set: function (value) {
                if (this._bsValue === value) {
                    return;
                }
                this._bsValue = value;
                this.bsValueChange.emit(value);
            },
            enumerable: true,
            configurable: true
        });
        BsDaterangepickerDirective.prototype.ngOnInit = function () {
            var _this = this;
            this.isDestroy$ = new rxjs.Subject();
            this._datepicker.listen({
                outsideClick: this.outsideClick,
                outsideEsc: this.outsideEsc,
                triggers: this.triggers,
                show: function () { return _this.show(); }
            });
            this.setConfig();
        };
        BsDaterangepickerDirective.prototype.ngOnChanges = function (changes) {
            if (!this._datepickerRef || !this._datepickerRef.instance) {
                return;
            }
            if (changes.minDate) {
                this._datepickerRef.instance.minDate = this.minDate;
            }
            if (changes.maxDate) {
                this._datepickerRef.instance.maxDate = this.maxDate;
            }
            if (changes.datesDisabled) {
                this._datepickerRef.instance.datesDisabled = this.datesDisabled;
            }
            if (changes.datesEnabled) {
                this._datepickerRef.instance.datesEnabled = this.datesEnabled;
            }
            if (changes.daysDisabled) {
                this._datepickerRef.instance.daysDisabled = this.daysDisabled;
            }
            if (changes.isDisabled) {
                this._datepickerRef.instance.isDisabled = this.isDisabled;
            }
            if (changes.dateCustomClasses) {
                this._datepickerRef.instance.dateCustomClasses = this.dateCustomClasses;
            }
        };
        BsDaterangepickerDirective.prototype.ngAfterViewInit = function () {
            var _this = this;
            this.isOpen$.pipe(operators.filter(function (isOpen) { return isOpen !== _this.isOpen; }), operators.takeUntil(this.isDestroy$))
                .subscribe(function () { return _this.toggle(); });
        };
        /**
         * Opens an element’s datepicker. This is considered a “manual” triggering of
         * the datepicker.
         */
        BsDaterangepickerDirective.prototype.show = function () {
            var _this = this;
            if (this._datepicker.isShown) {
                return;
            }
            this.setConfig();
            this._datepickerRef = this._datepicker
                .provide({ provide: BsDatepickerConfig, useValue: this._config })
                .attach(BsDaterangepickerContainerComponent)
                .to(this.container)
                .position({ attachment: this.placement })
                .show({ placement: this.placement });
            // if date changes from external source (model -> view)
            this._subs.push(this.bsValueChange.subscribe(function (value) {
                _this._datepickerRef.instance.value = value;
            }));
            // if date changes from picker (view -> model)
            this._subs.push(this._datepickerRef.instance.valueChange
                .pipe(operators.filter(function (range) { return range && range[0] && !!range[1]; }))
                .subscribe(function (value) {
                _this.bsValue = value;
                _this.hide();
            }));
        };
        /**
         * Set config for daterangepicker
         */
        BsDaterangepickerDirective.prototype.setConfig = function () {
            this._config = Object.assign({}, this._config, this.bsConfig, {
                value: this._bsValue,
                isDisabled: this.isDisabled,
                minDate: this.minDate || this.bsConfig && this.bsConfig.minDate,
                maxDate: this.maxDate || this.bsConfig && this.bsConfig.maxDate,
                daysDisabled: this.daysDisabled || this.bsConfig && this.bsConfig.daysDisabled,
                dateCustomClasses: this.dateCustomClasses || this.bsConfig && this.bsConfig.dateCustomClasses,
                datesDisabled: this.datesDisabled || this.bsConfig && this.bsConfig.datesDisabled,
                datesEnabled: this.datesEnabled || this.bsConfig && this.bsConfig.datesEnabled,
                ranges: this.bsConfig && this.bsConfig.ranges
            });
        };
        /**
         * Closes an element’s datepicker. This is considered a “manual” triggering of
         * the datepicker.
         */
        BsDaterangepickerDirective.prototype.hide = function () {
            var e_1, _a;
            if (this.isOpen) {
                this._datepicker.hide();
            }
            try {
                for (var _b = __values(this._subs), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var sub = _c.value;
                    sub.unsubscribe();
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_1) throw e_1.error; }
            }
            if (this._config.returnFocusToInput) {
                this._renderer.selectRootElement(this._elementRef.nativeElement).focus();
            }
        };
        /**
         * Toggles an element’s datepicker. This is considered a “manual” triggering
         * of the datepicker.
         */
        BsDaterangepickerDirective.prototype.toggle = function () {
            if (this.isOpen) {
                return this.hide();
            }
            this.show();
        };
        BsDaterangepickerDirective.prototype.ngOnDestroy = function () {
            this._datepicker.dispose();
            this.isOpen$.next(false);
            if (this.isDestroy$) {
                this.isDestroy$.next();
                this.isDestroy$.complete();
            }
        };
        /** @nocollapse */ BsDaterangepickerDirective.ɵfac = function BsDaterangepickerDirective_Factory(t) { return new (t || BsDaterangepickerDirective)(core["ɵɵdirectiveInject"](BsDaterangepickerConfig), core["ɵɵdirectiveInject"](core.ElementRef), core["ɵɵdirectiveInject"](core.Renderer2), core["ɵɵdirectiveInject"](core.ViewContainerRef), core["ɵɵdirectiveInject"](componentLoader.ComponentLoaderFactory)); };
        /** @nocollapse */ BsDaterangepickerDirective.ɵdir = core["ɵɵdefineDirective"]({ type: BsDaterangepickerDirective, selectors: [["", "bsDaterangepicker", ""]], inputs: { placement: "placement", triggers: "triggers", outsideClick: "outsideClick", container: "container", outsideEsc: "outsideEsc", isOpen: "isOpen", bsValue: "bsValue", bsConfig: "bsConfig", isDisabled: "isDisabled", minDate: "minDate", maxDate: "maxDate", dateCustomClasses: "dateCustomClasses", daysDisabled: "daysDisabled", datesDisabled: "datesDisabled", datesEnabled: "datesEnabled" }, outputs: { onShown: "onShown", onHidden: "onHidden", bsValueChange: "bsValueChange" }, exportAs: ["bsDaterangepicker"], features: [core["ɵɵNgOnChangesFeature"]] });
        return BsDaterangepickerDirective;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDaterangepickerDirective, [{
            type: core.Directive,
            args: [{
                    selector: '[bsDaterangepicker]',
                    exportAs: 'bsDaterangepicker'
                }]
        }], function () { return [{ type: BsDaterangepickerConfig }, { type: core.ElementRef }, { type: core.Renderer2 }, { type: core.ViewContainerRef }, { type: componentLoader.ComponentLoaderFactory }]; }, { placement: [{
                type: core.Input
            }], triggers: [{
                type: core.Input
            }], outsideClick: [{
                type: core.Input
            }], container: [{
                type: core.Input
            }], outsideEsc: [{
                type: core.Input
            }], isOpen: [{
                type: core.Input
            }], onShown: [{
                type: core.Output
            }], onHidden: [{
                type: core.Output
            }], bsValue: [{
                type: core.Input
            }], bsConfig: [{
                type: core.Input
            }], isDisabled: [{
                type: core.Input
            }], minDate: [{
                type: core.Input
            }], maxDate: [{
                type: core.Input
            }], dateCustomClasses: [{
                type: core.Input
            }], daysDisabled: [{
                type: core.Input
            }], datesDisabled: [{
                type: core.Input
            }], datesEnabled: [{
                type: core.Input
            }], bsValueChange: [{
                type: core.Output
            }] }); })();

    var BS_DATERANGEPICKER_VALUE_ACCESSOR = {
        provide: forms.NG_VALUE_ACCESSOR,
        /* tslint:disable-next-line: no-use-before-declare */
        useExisting: core.forwardRef(function () { return BsDaterangepickerInputDirective; }),
        multi: true
    };
    var BS_DATERANGEPICKER_VALIDATOR = {
        provide: forms.NG_VALIDATORS,
        /* tslint:disable-next-line: no-use-before-declare */
        useExisting: core.forwardRef(function () { return BsDaterangepickerInputDirective; }),
        multi: true
    };
    var BsDaterangepickerInputDirective = /** @class */ (function () {
        function BsDaterangepickerInputDirective(_picker, _localeService, _renderer, _elRef, changeDetection) {
            var _this = this;
            this._picker = _picker;
            this._localeService = _localeService;
            this._renderer = _renderer;
            this._elRef = _elRef;
            this.changeDetection = changeDetection;
            this._onChange = Function.prototype;
            this._onTouched = Function.prototype;
            /* tslint:disable-next-line: no-unused-variable */
            this._validatorChange = Function.prototype;
            // update input value on datepicker value update
            this._picker.bsValueChange.subscribe(function (value) {
                _this._setInputValue(value);
                if (_this._value !== value) {
                    _this._value = value;
                    _this._onChange(value);
                    _this._onTouched();
                }
                _this.changeDetection.markForCheck();
            });
            // update input value on locale change
            this._localeService.localeChange.subscribe(function () {
                _this._setInputValue(_this._value);
            });
        }
        BsDaterangepickerInputDirective.prototype.onKeydownEvent = function (event) {
            if (event.keyCode === 13 || event.code === 'Enter') {
                this.hide();
            }
        };
        BsDaterangepickerInputDirective.prototype._setInputValue = function (date) {
            var range = '';
            if (date) {
                var start = !date[0] ? ''
                    : chronos.formatDate(date[0], this._picker._config.rangeInputFormat, this._localeService.currentLocale);
                var end = !date[1] ? ''
                    : chronos.formatDate(date[1], this._picker._config.rangeInputFormat, this._localeService.currentLocale);
                range = (start && end) ? start + this._picker._config.rangeSeparator + end : '';
            }
            this._renderer.setProperty(this._elRef.nativeElement, 'value', range);
        };
        BsDaterangepickerInputDirective.prototype.onChange = function (event) {
            /* tslint:disable-next-line: no-any*/
            this.writeValue(event.target.value);
            this._onChange(this._value);
            if (this._picker._config.returnFocusToInput) {
                this._renderer.selectRootElement(this._elRef.nativeElement).focus();
            }
            this._onTouched();
        };
        BsDaterangepickerInputDirective.prototype.validate = function (c) {
            var _value = c.value;
            var errors = [];
            if (_value === null || _value === undefined || !chronos.isArray(_value)) {
                return null;
            }
            // @ts-ignore
            _value.sort(function (a, b) { return a - b; });
            var _isFirstDateValid = chronos.isDateValid(_value[0]);
            var _isSecondDateValid = chronos.isDateValid(_value[1]);
            if (!_isFirstDateValid) {
                return { bsDate: { invalid: _value[0] } };
            }
            if (!_isSecondDateValid) {
                return { bsDate: { invalid: _value[1] } };
            }
            if (this._picker && this._picker.minDate && chronos.isBefore(_value[0], this._picker.minDate, 'date')) {
                _value[0] = this._picker.minDate;
                errors.push({ bsDate: { minDate: this._picker.minDate } });
            }
            if (this._picker && this._picker.maxDate && chronos.isAfter(_value[1], this._picker.maxDate, 'date')) {
                _value[1] = this._picker.maxDate;
                errors.push({ bsDate: { maxDate: this._picker.maxDate } });
            }
            if (errors.length > 0) {
                this.writeValue(_value);
                return errors;
            }
        };
        BsDaterangepickerInputDirective.prototype.registerOnValidatorChange = function (fn) {
            this._validatorChange = fn;
        };
        BsDaterangepickerInputDirective.prototype.writeValue = function (value) {
            var _this = this;
            if (!value) {
                this._value = null;
            }
            else {
                var _localeKey = this._localeService.currentLocale;
                var _locale = chronos.getLocale(_localeKey);
                if (!_locale) {
                    throw new Error("Locale \"" + _localeKey + "\" is not defined, please add it with \"defineLocale(...)\"");
                }
                var _input = [];
                if (typeof value === 'string') {
                    _input = value.split(this._picker._config.rangeSeparator);
                }
                if (Array.isArray(value)) {
                    _input = value;
                }
                this._value = _input
                    .map(function (_val) {
                    if (_this._picker._config.useUtc) {
                        return chronos.utcAsLocal(chronos.parseDate(_val, _this._picker._config.dateInputFormat, _this._localeService.currentLocale));
                    }
                    return chronos.parseDate(_val, _this._picker._config.dateInputFormat, _this._localeService.currentLocale);
                })
                    .map(function (date) { return (isNaN(date.valueOf()) ? null : date); });
            }
            this._picker.bsValue = this._value;
        };
        BsDaterangepickerInputDirective.prototype.setDisabledState = function (isDisabled) {
            this._picker.isDisabled = isDisabled;
            if (isDisabled) {
                this._renderer.setAttribute(this._elRef.nativeElement, 'disabled', 'disabled');
                return;
            }
            this._renderer.removeAttribute(this._elRef.nativeElement, 'disabled');
        };
        /* tslint:disable-next-line: no-any*/
        BsDaterangepickerInputDirective.prototype.registerOnChange = function (fn) {
            this._onChange = fn;
        };
        /* tslint:disable-next-line: no-any*/
        BsDaterangepickerInputDirective.prototype.registerOnTouched = function (fn) {
            this._onTouched = fn;
        };
        BsDaterangepickerInputDirective.prototype.onBlur = function () {
            this._onTouched();
        };
        BsDaterangepickerInputDirective.prototype.hide = function () {
            this._picker.hide();
            this._renderer.selectRootElement(this._elRef.nativeElement).blur();
            if (this._picker._config.returnFocusToInput) {
                this._renderer.selectRootElement(this._elRef.nativeElement).focus();
            }
        };
        /** @nocollapse */ BsDaterangepickerInputDirective.ɵfac = function BsDaterangepickerInputDirective_Factory(t) { return new (t || BsDaterangepickerInputDirective)(core["ɵɵdirectiveInject"](BsDaterangepickerDirective, 1), core["ɵɵdirectiveInject"](BsLocaleService), core["ɵɵdirectiveInject"](core.Renderer2), core["ɵɵdirectiveInject"](core.ElementRef), core["ɵɵdirectiveInject"](core.ChangeDetectorRef)); };
        /** @nocollapse */ BsDaterangepickerInputDirective.ɵdir = core["ɵɵdefineDirective"]({ type: BsDaterangepickerInputDirective, selectors: [["input", "bsDaterangepicker", ""]], hostBindings: function BsDaterangepickerInputDirective_HostBindings(rf, ctx) { if (rf & 1) {
                core["ɵɵlistener"]("change", function BsDaterangepickerInputDirective_change_HostBindingHandler($event) { return ctx.onChange($event); })("keyup.esc", function BsDaterangepickerInputDirective_keyup_esc_HostBindingHandler() { return ctx.hide(); })("keydown", function BsDaterangepickerInputDirective_keydown_HostBindingHandler($event) { return ctx.onKeydownEvent($event); })("blur", function BsDaterangepickerInputDirective_blur_HostBindingHandler() { return ctx.onBlur(); });
            } }, features: [core["ɵɵProvidersFeature"]([BS_DATERANGEPICKER_VALUE_ACCESSOR, BS_DATERANGEPICKER_VALIDATOR])] });
        return BsDaterangepickerInputDirective;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDaterangepickerInputDirective, [{
            type: core.Directive,
            args: [{
                    selector: "input[bsDaterangepicker]",
                    host: {
                        '(change)': 'onChange($event)',
                        '(keyup.esc)': 'hide()',
                        '(keydown)': 'onKeydownEvent($event)',
                        '(blur)': 'onBlur()'
                    },
                    providers: [BS_DATERANGEPICKER_VALUE_ACCESSOR, BS_DATERANGEPICKER_VALIDATOR]
                }]
        }], function () { return [{ type: BsDaterangepickerDirective, decorators: [{
                    type: core.Host
                }] }, { type: BsLocaleService }, { type: core.Renderer2 }, { type: core.ElementRef }, { type: core.ChangeDetectorRef }]; }, null); })();

    var BsDatepickerModule = /** @class */ (function () {
        function BsDatepickerModule() {
        }
        BsDatepickerModule.forRoot = function () {
            return {
                ngModule: BsDatepickerModule,
                providers: [
                    componentLoader.ComponentLoaderFactory,
                    positioning.PositioningService,
                    BsDatepickerStore,
                    BsDatepickerActions,
                    BsDatepickerConfig,
                    BsDaterangepickerConfig,
                    BsDatepickerInlineConfig,
                    BsDaterangepickerInlineConfig,
                    BsDatepickerEffects,
                    BsLocaleService
                ]
            };
        };
        /** @nocollapse */ BsDatepickerModule.ɵmod = core["ɵɵdefineNgModule"]({ type: BsDatepickerModule });
        /** @nocollapse */ BsDatepickerModule.ɵinj = core["ɵɵdefineInjector"]({ factory: function BsDatepickerModule_Factory(t) { return new (t || BsDatepickerModule)(); }, imports: [[common.CommonModule]] });
        return BsDatepickerModule;
    }());
    (function () { (typeof ngJitMode === "undefined" || ngJitMode) && core["ɵɵsetNgModuleScope"](BsDatepickerModule, { declarations: [BsCalendarLayoutComponent,
            BsCurrentDateViewComponent,
            BsCustomDatesViewComponent,
            BsDatepickerDayDecoratorComponent,
            BsDatepickerNavigationViewComponent,
            BsDaysCalendarViewComponent,
            BsMonthCalendarViewComponent,
            BsTimepickerViewComponent,
            BsYearsCalendarViewComponent,
            BsDatepickerContainerComponent,
            BsDatepickerDirective,
            BsDatepickerInlineContainerComponent,
            BsDatepickerInlineDirective,
            BsDatepickerInputDirective,
            BsDaterangepickerContainerComponent,
            BsDaterangepickerDirective,
            BsDaterangepickerInlineContainerComponent,
            BsDaterangepickerInlineDirective,
            BsDaterangepickerInputDirective], imports: [common.CommonModule], exports: [BsDatepickerContainerComponent,
            BsDatepickerDirective,
            BsDatepickerInlineContainerComponent,
            BsDatepickerInlineDirective,
            BsDatepickerInputDirective,
            BsDaterangepickerContainerComponent,
            BsDaterangepickerDirective,
            BsDaterangepickerInlineContainerComponent,
            BsDaterangepickerInlineDirective,
            BsDaterangepickerInputDirective] }); })();
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](BsDatepickerModule, [{
            type: core.NgModule,
            args: [{
                    imports: [common.CommonModule],
                    declarations: [
                        BsCalendarLayoutComponent,
                        BsCurrentDateViewComponent,
                        BsCustomDatesViewComponent,
                        BsDatepickerDayDecoratorComponent,
                        BsDatepickerNavigationViewComponent,
                        BsDaysCalendarViewComponent,
                        BsMonthCalendarViewComponent,
                        BsTimepickerViewComponent,
                        BsYearsCalendarViewComponent,
                        BsDatepickerContainerComponent,
                        BsDatepickerDirective,
                        BsDatepickerInlineContainerComponent,
                        BsDatepickerInlineDirective,
                        BsDatepickerInputDirective,
                        BsDaterangepickerContainerComponent,
                        BsDaterangepickerDirective,
                        BsDaterangepickerInlineContainerComponent,
                        BsDaterangepickerInlineDirective,
                        BsDaterangepickerInputDirective
                    ],
                    entryComponents: [
                        BsDatepickerContainerComponent,
                        BsDaterangepickerContainerComponent,
                        BsDatepickerInlineContainerComponent,
                        BsDaterangepickerInlineContainerComponent
                    ],
                    exports: [
                        BsDatepickerContainerComponent,
                        BsDatepickerDirective,
                        BsDatepickerInlineContainerComponent,
                        BsDatepickerInlineDirective,
                        BsDatepickerInputDirective,
                        BsDaterangepickerContainerComponent,
                        BsDaterangepickerDirective,
                        BsDaterangepickerInlineContainerComponent,
                        BsDaterangepickerInlineDirective,
                        BsDaterangepickerInputDirective
                    ]
                }]
        }], null, null); })();

    var DateFormatter = /** @class */ (function () {
        function DateFormatter() {
        }
        DateFormatter.prototype.format = function (date, format, locale) {
            return chronos.formatDate(date, format, locale);
        };
        return DateFormatter;
    }());

    /* tslint:disable: max-file-line-count */
    function DatePickerInnerComponent_div_0_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "div", 1);
        core["ɵɵprojection"](1);
        core["ɵɵelementEnd"]();
    } }
    var _c0$2 = ["*"];
    var DatePickerInnerComponent = /** @class */ (function () {
        function DatePickerInnerComponent() {
            this.selectionDone = new core.EventEmitter(undefined);
            this.update = new core.EventEmitter(false);
            this.activeDateChange = new core.EventEmitter(undefined);
            /* tslint:disable-next-line: no-any*/
            this.stepDay = {};
            /* tslint:disable-next-line: no-any*/
            this.stepMonth = {};
            /* tslint:disable-next-line: no-any*/
            this.stepYear = {};
            this.modes = ['day', 'month', 'year'];
            this.dateFormatter = new DateFormatter();
        }
        Object.defineProperty(DatePickerInnerComponent.prototype, "activeDate", {
            get: function () {
                return this._activeDate;
            },
            set: function (value) {
                this._activeDate = value;
            },
            enumerable: true,
            configurable: true
        });
        // todo: add formatter value to Date object
        DatePickerInnerComponent.prototype.ngOnInit = function () {
            // todo: use date for unique value
            this.uniqueId = "datepicker--" + Math.floor(Math.random() * 10000);
            if (this.initDate) {
                this.activeDate = this.initDate;
                this.selectedDate = new Date(this.activeDate.valueOf());
                this.update.emit(this.activeDate);
            }
            else if (this.activeDate === undefined) {
                this.activeDate = new Date();
            }
        };
        // this.refreshView should be called here to reflect the changes on the fly
        // tslint:disable-next-line:no-unused-variable
        DatePickerInnerComponent.prototype.ngOnChanges = function (changes) {
            this.refreshView();
            this.checkIfActiveDateGotUpdated(changes.activeDate);
        };
        // Check if activeDate has been update and then emit the activeDateChange with the new date
        /* tslint:disable-next-line: no-any */
        DatePickerInnerComponent.prototype.checkIfActiveDateGotUpdated = function (activeDate) {
            if (activeDate && !activeDate.firstChange) {
                var previousValue = activeDate.previousValue;
                if (previousValue &&
                    previousValue instanceof Date &&
                    previousValue.getTime() !== activeDate.currentValue.getTime()) {
                    this.activeDateChange.emit(this.activeDate);
                }
            }
        };
        DatePickerInnerComponent.prototype.setCompareHandler = function (handler, type) {
            if (type === 'day') {
                this.compareHandlerDay = handler;
            }
            if (type === 'month') {
                this.compareHandlerMonth = handler;
            }
            if (type === 'year') {
                this.compareHandlerYear = handler;
            }
        };
        DatePickerInnerComponent.prototype.compare = function (date1, date2) {
            if (date1 === undefined || date2 === undefined) {
                return undefined;
            }
            if (this.datepickerMode === 'day' && this.compareHandlerDay) {
                return this.compareHandlerDay(date1, date2);
            }
            if (this.datepickerMode === 'month' && this.compareHandlerMonth) {
                return this.compareHandlerMonth(date1, date2);
            }
            if (this.datepickerMode === 'year' && this.compareHandlerYear) {
                return this.compareHandlerYear(date1, date2);
            }
            return void 0;
        };
        DatePickerInnerComponent.prototype.setRefreshViewHandler = function (handler, type) {
            if (type === 'day') {
                this.refreshViewHandlerDay = handler;
            }
            if (type === 'month') {
                this.refreshViewHandlerMonth = handler;
            }
            if (type === 'year') {
                this.refreshViewHandlerYear = handler;
            }
        };
        DatePickerInnerComponent.prototype.refreshView = function () {
            if (this.datepickerMode === 'day' && this.refreshViewHandlerDay) {
                this.refreshViewHandlerDay();
            }
            if (this.datepickerMode === 'month' && this.refreshViewHandlerMonth) {
                this.refreshViewHandlerMonth();
            }
            if (this.datepickerMode === 'year' && this.refreshViewHandlerYear) {
                this.refreshViewHandlerYear();
            }
        };
        DatePickerInnerComponent.prototype.dateFilter = function (date, format) {
            return this.dateFormatter.format(date, format, this.locale);
        };
        /* tslint:disable-next-line: no-any*/
        DatePickerInnerComponent.prototype.isActive = function (dateObject) {
            if (this.compare(dateObject.date, this.activeDate) === 0) {
                this.activeDateId = dateObject.uid;
                return true;
            }
            return false;
        };
        /* tslint:disable-next-line: no-any*/
        DatePickerInnerComponent.prototype.createDateObject = function (date, format) {
            /* tslint:disable-next-line: no-any*/
            var dateObject = {};
            dateObject.date = new Date(date.getFullYear(), date.getMonth(), date.getDate());
            dateObject.date = this.fixTimeZone(dateObject.date);
            dateObject.label = this.dateFilter(date, format);
            dateObject.selected = this.compare(date, this.selectedDate) === 0;
            dateObject.disabled = this.isDisabled(date);
            dateObject.current = this.compare(date, new Date()) === 0;
            dateObject.customClass = this.getCustomClassForDate(dateObject.date);
            return dateObject;
        };
        /* tslint:disable-next-line: no-any*/
        DatePickerInnerComponent.prototype.split = function (arr, size) {
            /* tslint:disable-next-line: no-any*/
            var arrays = [];
            while (arr.length > 0) {
                arrays.push(arr.splice(0, size));
            }
            return arrays;
        };
        // Fix a hard-reproducible bug with timezones
        // The bug depends on OS, browser, current timezone and current date
        // i.e.
        // var date = new Date(2014, 0, 1);
        // console.log(date.getFullYear(), date.getMonth(), date.getDate(),
        // date.getHours()); can result in "2013 11 31 23" because of the bug.
        DatePickerInnerComponent.prototype.fixTimeZone = function (date) {
            var hours = date.getHours();
            return new Date(date.getFullYear(), date.getMonth(), date.getDate(), hours === 23 ? hours + 2 : 0);
        };
        DatePickerInnerComponent.prototype.select = function (date, isManual) {
            if (isManual === void 0) { isManual = true; }
            if (this.datepickerMode === this.minMode) {
                if (!this.activeDate) {
                    this.activeDate = new Date(0, 0, 0, 0, 0, 0, 0);
                }
                this.activeDate = new Date(date.getFullYear(), date.getMonth(), date.getDate());
                this.activeDate = this.fixTimeZone(this.activeDate);
                if (isManual) {
                    this.selectionDone.emit(this.activeDate);
                }
            }
            else {
                this.activeDate = new Date(date.getFullYear(), date.getMonth(), date.getDate());
                this.activeDate = this.fixTimeZone(this.activeDate);
                if (isManual) {
                    this.datepickerMode = this.modes[this.modes.indexOf(this.datepickerMode) - 1];
                }
            }
            this.selectedDate = new Date(this.activeDate.valueOf());
            this.update.emit(this.activeDate);
            this.refreshView();
        };
        DatePickerInnerComponent.prototype.move = function (direction) {
            /* tslint:disable-next-line: no-any*/
            var expectedStep;
            if (this.datepickerMode === 'day') {
                expectedStep = this.stepDay;
            }
            if (this.datepickerMode === 'month') {
                expectedStep = this.stepMonth;
            }
            if (this.datepickerMode === 'year') {
                expectedStep = this.stepYear;
            }
            if (expectedStep) {
                var year = this.activeDate.getFullYear() + direction * (expectedStep.years || 0);
                var month = this.activeDate.getMonth() + direction * (expectedStep.months || 0);
                this.activeDate = new Date(year, month, 1);
                this.refreshView();
                this.activeDateChange.emit(this.activeDate);
            }
        };
        DatePickerInnerComponent.prototype.toggleMode = function (_direction) {
            var direction = _direction || 1;
            if ((this.datepickerMode === this.maxMode && direction === 1) ||
                (this.datepickerMode === this.minMode && direction === -1)) {
                return;
            }
            this.datepickerMode = this.modes[this.modes.indexOf(this.datepickerMode) + direction];
            this.refreshView();
        };
        DatePickerInnerComponent.prototype.getCustomClassForDate = function (date) {
            var _this = this;
            if (!this.customClass) {
                return '';
            }
            // todo: build a hash of custom classes, it will work faster
            var customClassObject = this.customClass.find(function (customClass) {
                return (customClass.date.valueOf() === date.valueOf() &&
                    customClass.mode === _this.datepickerMode);
            }, this);
            return customClassObject === undefined ? '' : customClassObject.clazz;
        };
        DatePickerInnerComponent.prototype.compareDateDisabled = function (date1Disabled, date2) {
            if (date1Disabled === undefined || date2 === undefined) {
                return undefined;
            }
            if (date1Disabled.mode === 'day' && this.compareHandlerDay) {
                return this.compareHandlerDay(date1Disabled.date, date2);
            }
            if (date1Disabled.mode === 'month' && this.compareHandlerMonth) {
                return this.compareHandlerMonth(date1Disabled.date, date2);
            }
            if (date1Disabled.mode === 'year' && this.compareHandlerYear) {
                return this.compareHandlerYear(date1Disabled.date, date2);
            }
            return undefined;
        };
        DatePickerInnerComponent.prototype.isDisabled = function (date) {
            var _this = this;
            var isDateDisabled = false;
            if (this.dateDisabled) {
                this.dateDisabled.forEach(function (disabledDate) {
                    if (_this.compareDateDisabled(disabledDate, date) === 0) {
                        isDateDisabled = true;
                    }
                });
            }
            if (this.dayDisabled) {
                isDateDisabled =
                    isDateDisabled ||
                        this.dayDisabled.indexOf(date.getDay()) > -1;
            }
            return (isDateDisabled ||
                (this.minDate && this.compare(date, this.minDate) < 0) ||
                (this.maxDate && this.compare(date, this.maxDate) > 0));
        };
        /** @nocollapse */ DatePickerInnerComponent.ɵfac = function DatePickerInnerComponent_Factory(t) { return new (t || DatePickerInnerComponent)(); };
        /** @nocollapse */ DatePickerInnerComponent.ɵcmp = core["ɵɵdefineComponent"]({ type: DatePickerInnerComponent, selectors: [["datepicker-inner"]], inputs: { locale: "locale", datepickerMode: "datepickerMode", startingDay: "startingDay", yearRange: "yearRange", minDate: "minDate", maxDate: "maxDate", minMode: "minMode", maxMode: "maxMode", showWeeks: "showWeeks", formatDay: "formatDay", formatMonth: "formatMonth", formatYear: "formatYear", formatDayHeader: "formatDayHeader", formatDayTitle: "formatDayTitle", formatMonthTitle: "formatMonthTitle", onlyCurrentMonth: "onlyCurrentMonth", shortcutPropagation: "shortcutPropagation", customClass: "customClass", monthColLimit: "monthColLimit", yearColLimit: "yearColLimit", dateDisabled: "dateDisabled", dayDisabled: "dayDisabled", initDate: "initDate", activeDate: "activeDate" }, outputs: { selectionDone: "selectionDone", update: "update", activeDateChange: "activeDateChange" }, features: [core["ɵɵNgOnChangesFeature"]], ngContentSelectors: _c0$2, decls: 1, vars: 1, consts: [["class", "well well-sm bg-faded p-a card", "role", "application", 4, "ngIf"], ["role", "application", 1, "well", "well-sm", "bg-faded", "p-a", "card"]], template: function DatePickerInnerComponent_Template(rf, ctx) { if (rf & 1) {
                core["ɵɵprojectionDef"]();
                core["ɵɵtemplate"](0, DatePickerInnerComponent_div_0_Template, 2, 0, "div", 0);
            } if (rf & 2) {
                core["ɵɵproperty"]("ngIf", ctx.datepickerMode);
            } }, directives: [common.NgIf], encapsulation: 2 });
        return DatePickerInnerComponent;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](DatePickerInnerComponent, [{
            type: core.Component,
            args: [{
                    selector: 'datepicker-inner',
                    template: "\n    <!--&lt;!&ndash;ng-keydown=\"keydown($event)\"&ndash;&gt;-->\n    <div *ngIf=\"datepickerMode\" class=\"well well-sm bg-faded p-a card\" role=\"application\" >\n      <ng-content></ng-content>\n    </div>\n  "
                }]
        }], null, { locale: [{
                type: core.Input
            }], datepickerMode: [{
                type: core.Input
            }], startingDay: [{
                type: core.Input
            }], yearRange: [{
                type: core.Input
            }], minDate: [{
                type: core.Input
            }], maxDate: [{
                type: core.Input
            }], minMode: [{
                type: core.Input
            }], maxMode: [{
                type: core.Input
            }], showWeeks: [{
                type: core.Input
            }], formatDay: [{
                type: core.Input
            }], formatMonth: [{
                type: core.Input
            }], formatYear: [{
                type: core.Input
            }], formatDayHeader: [{
                type: core.Input
            }], formatDayTitle: [{
                type: core.Input
            }], formatMonthTitle: [{
                type: core.Input
            }], onlyCurrentMonth: [{
                type: core.Input
            }], shortcutPropagation: [{
                type: core.Input
            }], customClass: [{
                type: core.Input
            }], monthColLimit: [{
                type: core.Input
            }], yearColLimit: [{
                type: core.Input
            }], dateDisabled: [{
                type: core.Input
            }], dayDisabled: [{
                type: core.Input
            }], initDate: [{
                type: core.Input
            }], selectionDone: [{
                type: core.Output
            }], update: [{
                type: core.Output
            }], activeDateChange: [{
                type: core.Output
            }], activeDate: [{
                type: core.Input
            }] }); })();

    var DatepickerConfig = /** @class */ (function () {
        function DatepickerConfig() {
            this.locale = 'en';
            this.datepickerMode = 'day';
            this.startingDay = 0;
            this.yearRange = 20;
            this.minMode = 'day';
            this.maxMode = 'year';
            this.showWeeks = true;
            this.formatDay = 'DD';
            this.formatMonth = 'MMMM';
            this.formatYear = 'YYYY';
            this.formatDayHeader = 'dd';
            this.formatDayTitle = 'MMMM YYYY';
            this.formatMonthTitle = 'YYYY';
            this.onlyCurrentMonth = false;
            this.monthColLimit = 3;
            this.yearColLimit = 5;
            this.shortcutPropagation = false;
        }
        /** @nocollapse */ DatepickerConfig.ɵfac = function DatepickerConfig_Factory(t) { return new (t || DatepickerConfig)(); };
        /** @nocollapse */ DatepickerConfig.ɵprov = core["ɵɵdefineInjectable"]({ token: DatepickerConfig, factory: DatepickerConfig.ɵfac });
        return DatepickerConfig;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](DatepickerConfig, [{
            type: core.Injectable
        }], null, null); })();

    // @deprecated
    function DayPickerComponent_table_0_button_4_Template(rf, ctx) { if (rf & 1) {
        var _r471 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "button", 8);
        core["ɵɵlistener"]("click", function DayPickerComponent_table_0_button_4_Template_button_click_0_listener() { core["ɵɵrestoreView"](_r471); var ctx_r470 = core["ɵɵnextContext"](2); return ctx_r470.datePicker.move(0 - 1); });
        core["ɵɵtext"](1, "\u2039");
        core["ɵɵelementEnd"]();
    } }
    function DayPickerComponent_table_0_button_5_Template(rf, ctx) { if (rf & 1) {
        var _r473 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "button", 8);
        core["ɵɵlistener"]("click", function DayPickerComponent_table_0_button_5_Template_button_click_0_listener() { core["ɵɵrestoreView"](_r473); var ctx_r472 = core["ɵɵnextContext"](2); return ctx_r472.datePicker.move(0 - 1); });
        core["ɵɵtext"](1, "<");
        core["ɵɵelementEnd"]();
    } }
    function DayPickerComponent_table_0_button_11_Template(rf, ctx) { if (rf & 1) {
        var _r475 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "button", 9);
        core["ɵɵlistener"]("click", function DayPickerComponent_table_0_button_11_Template_button_click_0_listener() { core["ɵɵrestoreView"](_r475); var ctx_r474 = core["ɵɵnextContext"](2); return ctx_r474.datePicker.move(1); });
        core["ɵɵtext"](1, "\u203A");
        core["ɵɵelementEnd"]();
    } }
    function DayPickerComponent_table_0_button_12_Template(rf, ctx) { if (rf & 1) {
        var _r477 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "button", 9);
        core["ɵɵlistener"]("click", function DayPickerComponent_table_0_button_12_Template_button_click_0_listener() { core["ɵɵrestoreView"](_r477); var ctx_r476 = core["ɵɵnextContext"](2); return ctx_r476.datePicker.move(1); });
        core["ɵɵtext"](1, "> ");
        core["ɵɵelementEnd"]();
    } }
    function DayPickerComponent_table_0_th_14_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelement"](0, "th");
    } }
    function DayPickerComponent_table_0_th_15_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "th", 10);
        core["ɵɵelementStart"](1, "small", 11);
        core["ɵɵelementStart"](2, "b");
        core["ɵɵtext"](3);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var labelz_r478 = ctx.$implicit;
        core["ɵɵadvance"](3);
        core["ɵɵtextInterpolate"](labelz_r478.abbr);
    } }
    function DayPickerComponent_table_0_ng_template_17_tr_0_td_1_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "td", 10);
        core["ɵɵelementStart"](1, "em");
        core["ɵɵtext"](2);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var index_r480 = core["ɵɵnextContext"](2).index;
        var ctx_r482 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](2);
        core["ɵɵtextInterpolate"](ctx_r482.weekNumbers[index_r480]);
    } }
    var _c0$3 = function (a0, a1, a2, a3, a4) { return { "btn-secondary": a0, "btn-info": a1, disabled: a2, active: a3, "btn-default": a4 }; };
    var _c1$1 = function (a0, a1) { return { "text-muted": a0, "text-info": a1 }; };
    function DayPickerComponent_table_0_ng_template_17_tr_0_td_2_button_1_Template(rf, ctx) { if (rf & 1) {
        var _r489 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "button", 16);
        core["ɵɵlistener"]("click", function DayPickerComponent_table_0_ng_template_17_tr_0_td_2_button_1_Template_button_click_0_listener() { core["ɵɵrestoreView"](_r489); var dtz_r485 = core["ɵɵnextContext"]().$implicit; var ctx_r487 = core["ɵɵnextContext"](4); return ctx_r487.datePicker.select(dtz_r485.date); });
        core["ɵɵelementStart"](1, "span", 17);
        core["ɵɵtext"](2);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var dtz_r485 = core["ɵɵnextContext"]().$implicit;
        var ctx_r486 = core["ɵɵnextContext"](4);
        core["ɵɵclassMapInterpolate1"]("btn btn-sm ", dtz_r485.customClass, "");
        core["ɵɵproperty"]("ngClass", core["ɵɵpureFunction5"](7, _c0$3, ctx_r486.isBs4 && !dtz_r485.selected && !ctx_r486.datePicker.isActive(dtz_r485), dtz_r485.selected, dtz_r485.disabled, !ctx_r486.isBs4 && ctx_r486.datePicker.isActive(dtz_r485), !ctx_r486.isBs4))("disabled", dtz_r485.disabled);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngClass", core["ɵɵpureFunction2"](13, _c1$1, dtz_r485.secondary || dtz_r485.current, !ctx_r486.isBs4 && dtz_r485.current));
        core["ɵɵadvance"](1);
        core["ɵɵtextInterpolate"](dtz_r485.label);
    } }
    function DayPickerComponent_table_0_ng_template_17_tr_0_td_2_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "td", 14);
        core["ɵɵtemplate"](1, DayPickerComponent_table_0_ng_template_17_tr_0_td_2_button_1_Template, 3, 16, "button", 15);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var dtz_r485 = ctx.$implicit;
        var ctx_r483 = core["ɵɵnextContext"](4);
        core["ɵɵproperty"]("id", dtz_r485.uid);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngIf", !(ctx_r483.datePicker.onlyCurrentMonth && dtz_r485.secondary));
    } }
    function DayPickerComponent_table_0_ng_template_17_tr_0_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "tr");
        core["ɵɵtemplate"](1, DayPickerComponent_table_0_ng_template_17_tr_0_td_1_Template, 3, 1, "td", 12);
        core["ɵɵtemplate"](2, DayPickerComponent_table_0_ng_template_17_tr_0_td_2_Template, 2, 2, "td", 13);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var rowz_r479 = core["ɵɵnextContext"]().$implicit;
        var ctx_r481 = core["ɵɵnextContext"](2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngIf", ctx_r481.datePicker.showWeeks);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", rowz_r479);
    } }
    function DayPickerComponent_table_0_ng_template_17_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵtemplate"](0, DayPickerComponent_table_0_ng_template_17_tr_0_Template, 3, 2, "tr", 5);
    } if (rf & 2) {
        var rowz_r479 = ctx.$implicit;
        var ctx_r469 = core["ɵɵnextContext"](2);
        core["ɵɵproperty"]("ngIf", !(ctx_r469.datePicker.onlyCurrentMonth && rowz_r479[0].secondary && rowz_r479[6].secondary));
    } }
    var _c2 = function (a0) { return { disabled: a0 }; };
    function DayPickerComponent_table_0_Template(rf, ctx) { if (rf & 1) {
        var _r493 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "table", 1);
        core["ɵɵelementStart"](1, "thead");
        core["ɵɵelementStart"](2, "tr");
        core["ɵɵelementStart"](3, "th");
        core["ɵɵtemplate"](4, DayPickerComponent_table_0_button_4_Template, 2, 0, "button", 2);
        core["ɵɵtemplate"](5, DayPickerComponent_table_0_button_5_Template, 2, 0, "button", 2);
        core["ɵɵelementEnd"]();
        core["ɵɵelementStart"](6, "th");
        core["ɵɵelementStart"](7, "button", 3);
        core["ɵɵlistener"]("click", function DayPickerComponent_table_0_Template_button_click_7_listener() { core["ɵɵrestoreView"](_r493); var ctx_r492 = core["ɵɵnextContext"](); return ctx_r492.datePicker.toggleMode(0); });
        core["ɵɵelementStart"](8, "strong");
        core["ɵɵtext"](9);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementStart"](10, "th");
        core["ɵɵtemplate"](11, DayPickerComponent_table_0_button_11_Template, 2, 0, "button", 4);
        core["ɵɵtemplate"](12, DayPickerComponent_table_0_button_12_Template, 2, 0, "button", 4);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementStart"](13, "tr");
        core["ɵɵtemplate"](14, DayPickerComponent_table_0_th_14_Template, 1, 0, "th", 5);
        core["ɵɵtemplate"](15, DayPickerComponent_table_0_th_15_Template, 4, 1, "th", 6);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementStart"](16, "tbody");
        core["ɵɵtemplate"](17, DayPickerComponent_table_0_ng_template_17_Template, 1, 1, "ng-template", 7);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r462 = core["ɵɵnextContext"]();
        core["ɵɵattribute"]("aria-labelledby", ctx_r462.datePicker.uniqueId + "-title");
        core["ɵɵadvance"](4);
        core["ɵɵproperty"]("ngIf", !ctx_r462.isBs4);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngIf", ctx_r462.isBs4);
        core["ɵɵadvance"](1);
        core["ɵɵattribute"]("colspan", 5 + (ctx_r462.datePicker.showWeeks ? 1 : 0));
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("id", ctx_r462.datePicker.uniqueId + "-title")("disabled", ctx_r462.datePicker.datepickerMode === ctx_r462.datePicker.maxMode)("ngClass", core["ɵɵpureFunction1"](13, _c2, ctx_r462.datePicker.datepickerMode === ctx_r462.datePicker.maxMode));
        core["ɵɵadvance"](2);
        core["ɵɵtextInterpolate"](ctx_r462.title);
        core["ɵɵadvance"](2);
        core["ɵɵproperty"]("ngIf", !ctx_r462.isBs4);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngIf", ctx_r462.isBs4);
        core["ɵɵadvance"](2);
        core["ɵɵproperty"]("ngIf", ctx_r462.datePicker.showWeeks);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", ctx_r462.labels);
        core["ɵɵadvance"](2);
        core["ɵɵproperty"]("ngForOf", ctx_r462.rows);
    } }
    var DayPickerComponent = /** @class */ (function () {
        function DayPickerComponent(datePicker) {
            this.labels = [];
            this.rows = [];
            this.weekNumbers = [];
            this.datePicker = datePicker;
        }
        Object.defineProperty(DayPickerComponent.prototype, "isBs4", {
            get: function () {
                return !utils.isBs3();
            },
            enumerable: true,
            configurable: true
        });
        /*protected getDaysInMonth(year:number, month:number) {
         return ((month === 1) && (year % 4 === 0) &&
         ((year % 100 !== 0) || (year % 400 === 0))) ? 29 : DAYS_IN_MONTH[month];
         }*/
        DayPickerComponent.prototype.ngOnInit = function () {
            var self = this;
            this.datePicker.stepDay = { months: 1 };
            this.datePicker.setRefreshViewHandler(function () {
                var year = this.activeDate.getFullYear();
                var month = this.activeDate.getMonth();
                var firstDayOfMonth = new Date(year, month, 1);
                var difference = this.startingDay - firstDayOfMonth.getDay();
                var numDisplayedFromPreviousMonth = difference > 0 ? 7 - difference : -difference;
                var firstDate = new Date(firstDayOfMonth.getTime());
                if (numDisplayedFromPreviousMonth > 0) {
                    firstDate.setDate(-numDisplayedFromPreviousMonth + 1);
                }
                // 42 is the number of days on a six-week calendar
                var _days = self.getDates(firstDate, 42);
                var days = [];
                for (var i = 0; i < 42; i++) {
                    var _dateObject = this.createDateObject(_days[i], this.formatDay);
                    _dateObject.secondary = _days[i].getMonth() !== month;
                    _dateObject.uid = this.uniqueId + '-' + i;
                    days[i] = _dateObject;
                }
                self.labels = [];
                for (var j = 0; j < 7; j++) {
                    self.labels[j] = {};
                    self.labels[j].abbr = this.dateFilter(days[j].date, this.formatDayHeader);
                    self.labels[j].full = this.dateFilter(days[j].date, 'EEEE');
                }
                self.title = this.dateFilter(this.activeDate, this.formatDayTitle);
                self.rows = this.split(days, 7);
                if (this.showWeeks) {
                    self.weekNumbers = [];
                    var thursdayIndex = (4 + 7 - this.startingDay) % 7;
                    var numWeeks = self.rows.length;
                    for (var curWeek = 0; curWeek < numWeeks; curWeek++) {
                        self.weekNumbers.push(self.getISO8601WeekNumber(self.rows[curWeek][thursdayIndex].date));
                    }
                }
            }, 'day');
            this.datePicker.setCompareHandler(function (date1, date2) {
                var d1 = new Date(date1.getFullYear(), date1.getMonth(), date1.getDate());
                var d2 = new Date(date2.getFullYear(), date2.getMonth(), date2.getDate());
                return d1.getTime() - d2.getTime();
            }, 'day');
            this.datePicker.refreshView();
        };
        DayPickerComponent.prototype.getDates = function (startDate, n) {
            var dates = new Array(n);
            var current = new Date(startDate.getTime());
            var i = 0;
            var date;
            while (i < n) {
                date = new Date(current.getTime());
                date = this.datePicker.fixTimeZone(date);
                dates[i++] = date;
                current = new Date(date.getFullYear(), date.getMonth(), date.getDate() + 1);
            }
            return dates;
        };
        DayPickerComponent.prototype.getISO8601WeekNumber = function (date) {
            var checkDate = new Date(date.getTime());
            // Thursday
            checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7));
            var time = checkDate.getTime();
            // Compare with Jan 1
            checkDate.setMonth(0);
            checkDate.setDate(1);
            return (Math.floor(Math.round((time - checkDate.getTime()) / 86400000) / 7) + 1);
        };
        /** @nocollapse */ DayPickerComponent.ɵfac = function DayPickerComponent_Factory(t) { return new (t || DayPickerComponent)(core["ɵɵdirectiveInject"](DatePickerInnerComponent)); };
        /** @nocollapse */ DayPickerComponent.ɵcmp = core["ɵɵdefineComponent"]({ type: DayPickerComponent, selectors: [["daypicker"]], decls: 1, vars: 1, consts: [["role", "grid", "aria-activedescendant", "activeDateId", 4, "ngIf"], ["role", "grid", "aria-activedescendant", "activeDateId"], ["type", "button", "class", "btn btn-default btn-secondary btn-sm pull-left float-left", "tabindex", "-1", 3, "click", 4, "ngIf"], ["type", "button", "tabindex", "-1", 1, "btn", "btn-default", "btn-secondary", "btn-sm", 2, "width", "100%", 3, "id", "disabled", "ngClass", "click"], ["type", "button", "class", "btn btn-default btn-secondary btn-sm pull-right float-right", "tabindex", "-1", 3, "click", 4, "ngIf"], [4, "ngIf"], ["class", "text-center", 4, "ngFor", "ngForOf"], ["ngFor", "", 3, "ngForOf"], ["type", "button", "tabindex", "-1", 1, "btn", "btn-default", "btn-secondary", "btn-sm", "pull-left", "float-left", 3, "click"], ["type", "button", "tabindex", "-1", 1, "btn", "btn-default", "btn-secondary", "btn-sm", "pull-right", "float-right", 3, "click"], [1, "text-center"], ["aria-label", "labelz.full"], ["class", "h6", "class", "text-center", 4, "ngIf"], ["class", "text-center", "role", "gridcell", 3, "id", 4, "ngFor", "ngForOf"], ["role", "gridcell", 1, "text-center", 3, "id"], ["type", "button", "style", "min-width:100%;", "tabindex", "-1", 3, "class", "ngClass", "disabled", "click", 4, "ngIf"], ["type", "button", "tabindex", "-1", 2, "min-width", "100%", 3, "ngClass", "disabled", "click"], [3, "ngClass"]], template: function DayPickerComponent_Template(rf, ctx) { if (rf & 1) {
                core["ɵɵtemplate"](0, DayPickerComponent_table_0_Template, 18, 15, "table", 0);
            } if (rf & 2) {
                core["ɵɵproperty"]("ngIf", ctx.datePicker.datepickerMode === "day");
            } }, directives: [common.NgIf, common.NgClass, common.NgForOf], styles: ["[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%] {\n      color: #292b2c;\n      background-color: #fff;\n      border-color: #ccc;\n    }\n    [_nghost-%COMP%]   .btn-info[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%] {\n      color: #292b2c !important;\n    }"] });
        return DayPickerComponent;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](DayPickerComponent, [{
            type: core.Component,
            args: [{
                    selector: 'daypicker',
                    template: "\n<table *ngIf=\"datePicker.datepickerMode === 'day'\" role=\"grid\" [attr.aria-labelledby]=\"datePicker.uniqueId + '-title'\" aria-activedescendant=\"activeDateId\">\n  <thead>\n    <tr>\n      <th>\n        <button *ngIf=\"!isBs4\"\n                type=\"button\"\n                class=\"btn btn-default btn-secondary btn-sm pull-left float-left\"\n                (click)=\"datePicker.move(-1)\"\n                tabindex=\"-1\">\u2039</button>\n        <button *ngIf=\"isBs4\"\n                type=\"button\"\n                class=\"btn btn-default btn-secondary btn-sm pull-left float-left\"\n                (click)=\"datePicker.move(-1)\"\n                tabindex=\"-1\">&lt;</button>\n      </th>\n      <th [attr.colspan]=\"5 + (datePicker.showWeeks ? 1 : 0)\">\n        <button [id]=\"datePicker.uniqueId + '-title'\"\n                type=\"button\" class=\"btn btn-default btn-secondary btn-sm\"\n                (click)=\"datePicker.toggleMode(0)\"\n                [disabled]=\"datePicker.datepickerMode === datePicker.maxMode\"\n                [ngClass]=\"{disabled: datePicker.datepickerMode === datePicker.maxMode}\" tabindex=\"-1\" style=\"width:100%;\">\n          <strong>{{ title }}</strong>\n        </button>\n      </th>\n      <th>\n        <button *ngIf=\"!isBs4\"\n                type=\"button\"\n                class=\"btn btn-default btn-secondary btn-sm pull-right float-right\"\n                (click)=\"datePicker.move(1)\"\n                tabindex=\"-1\">\u203A</button>\n        <button *ngIf=\"isBs4\"\n                type=\"button\"\n                class=\"btn btn-default btn-secondary btn-sm pull-right float-right\"\n                (click)=\"datePicker.move(1)\"\n                tabindex=\"-1\">&gt;\n        </button>\n      </th>\n    </tr>\n    <tr>\n      <th *ngIf=\"datePicker.showWeeks\"></th>\n      <th *ngFor=\"let labelz of labels\" class=\"text-center\">\n        <small aria-label=\"labelz.full\"><b>{{ labelz.abbr }}</b></small>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <ng-template ngFor [ngForOf]=\"rows\" let-rowz=\"$implicit\" let-index=\"index\">\n      <tr *ngIf=\"!(datePicker.onlyCurrentMonth && rowz[0].secondary && rowz[6].secondary)\">\n        <td *ngIf=\"datePicker.showWeeks\" class=\"h6\" class=\"text-center\">\n          <em>{{ weekNumbers[index] }}</em>\n        </td>\n        <td *ngFor=\"let dtz of rowz\" class=\"text-center\" role=\"gridcell\" [id]=\"dtz.uid\">\n          <button type=\"button\" style=\"min-width:100%;\" class=\"btn btn-sm {{dtz.customClass}}\"\n                  *ngIf=\"!(datePicker.onlyCurrentMonth && dtz.secondary)\"\n                  [ngClass]=\"{'btn-secondary': isBs4 && !dtz.selected && !datePicker.isActive(dtz), 'btn-info': dtz.selected, disabled: dtz.disabled, active: !isBs4 && datePicker.isActive(dtz), 'btn-default': !isBs4}\"\n                  [disabled]=\"dtz.disabled\"\n                  (click)=\"datePicker.select(dtz.date)\" tabindex=\"-1\">\n            <span [ngClass]=\"{'text-muted': dtz.secondary || dtz.current, 'text-info': !isBs4 && dtz.current}\">{{ dtz.label }}</span>\n          </button>\n        </td>\n      </tr>\n    </ng-template>\n  </tbody>\n</table>\n  ",
                    styles: [
                        "\n    :host .btn-secondary {\n      color: #292b2c;\n      background-color: #fff;\n      border-color: #ccc;\n    }\n    :host .btn-info .text-muted {\n      color: #292b2c !important;\n    }\n  "
                    ]
                }]
        }], function () { return [{ type: DatePickerInnerComponent }]; }, null); })();

    // @deprecated
    var _c0$4 = function (a0, a1, a2, a3) { return { "btn-link": a0, "btn-info": a1, disabled: a2, active: a3 }; };
    var _c1$2 = function (a0, a1) { return { "text-success": a0, "text-info": a1 }; };
    function MonthPickerComponent_table_0_tr_14_td_1_Template(rf, ctx) { if (rf & 1) {
        var _r500 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "td", 7);
        core["ɵɵelementStart"](1, "button", 8);
        core["ɵɵlistener"]("click", function MonthPickerComponent_table_0_tr_14_td_1_Template_button_click_1_listener() { core["ɵɵrestoreView"](_r500); var dtz_r498 = ctx.$implicit; var ctx_r499 = core["ɵɵnextContext"](3); return ctx_r499.datePicker.select(dtz_r498.date); });
        core["ɵɵelementStart"](2, "span", 9);
        core["ɵɵtext"](3);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var dtz_r498 = ctx.$implicit;
        var ctx_r497 = core["ɵɵnextContext"](3);
        core["ɵɵproperty"]("ngClass", dtz_r498.customClass);
        core["ɵɵattribute"]("id", dtz_r498.uid);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngClass", core["ɵɵpureFunction4"](6, _c0$4, ctx_r497.isBs4 && !dtz_r498.selected && !ctx_r497.datePicker.isActive(dtz_r498), dtz_r498.selected || ctx_r497.isBs4 && !dtz_r498.selected && ctx_r497.datePicker.isActive(dtz_r498), dtz_r498.disabled, !ctx_r497.isBs4 && ctx_r497.datePicker.isActive(dtz_r498)))("disabled", dtz_r498.disabled);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngClass", core["ɵɵpureFunction2"](11, _c1$2, ctx_r497.isBs4 && dtz_r498.current, !ctx_r497.isBs4 && dtz_r498.current));
        core["ɵɵadvance"](1);
        core["ɵɵtextInterpolate"](dtz_r498.label);
    } }
    function MonthPickerComponent_table_0_tr_14_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "tr");
        core["ɵɵtemplate"](1, MonthPickerComponent_table_0_tr_14_td_1_Template, 4, 14, "td", 6);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var rowz_r496 = ctx.$implicit;
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", rowz_r496);
    } }
    var _c2$1 = function (a0) { return { disabled: a0 }; };
    function MonthPickerComponent_table_0_Template(rf, ctx) { if (rf & 1) {
        var _r502 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "table", 1);
        core["ɵɵelementStart"](1, "thead");
        core["ɵɵelementStart"](2, "tr");
        core["ɵɵelementStart"](3, "th");
        core["ɵɵelementStart"](4, "button", 2);
        core["ɵɵlistener"]("click", function MonthPickerComponent_table_0_Template_button_click_4_listener() { core["ɵɵrestoreView"](_r502); var ctx_r501 = core["ɵɵnextContext"](); return ctx_r501.datePicker.move(0 - 1); });
        core["ɵɵtext"](5, "\u2039");
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementStart"](6, "th");
        core["ɵɵelementStart"](7, "button", 3);
        core["ɵɵlistener"]("click", function MonthPickerComponent_table_0_Template_button_click_7_listener() { core["ɵɵrestoreView"](_r502); var ctx_r503 = core["ɵɵnextContext"](); return ctx_r503.datePicker.toggleMode(0); });
        core["ɵɵelementStart"](8, "strong");
        core["ɵɵtext"](9);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementStart"](10, "th");
        core["ɵɵelementStart"](11, "button", 4);
        core["ɵɵlistener"]("click", function MonthPickerComponent_table_0_Template_button_click_11_listener() { core["ɵɵrestoreView"](_r502); var ctx_r504 = core["ɵɵnextContext"](); return ctx_r504.datePicker.move(1); });
        core["ɵɵtext"](12, "\u203A");
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementStart"](13, "tbody");
        core["ɵɵtemplate"](14, MonthPickerComponent_table_0_tr_14_Template, 2, 1, "tr", 5);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r494 = core["ɵɵnextContext"]();
        core["ɵɵadvance"](6);
        core["ɵɵattribute"]("colspan", ctx_r494.datePicker.monthColLimit - 2 <= 0 ? 1 : ctx_r494.datePicker.monthColLimit - 2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("id", ctx_r494.datePicker.uniqueId + "-title")("disabled", ctx_r494.datePicker.datepickerMode === ctx_r494.maxMode)("ngClass", core["ɵɵpureFunction1"](6, _c2$1, ctx_r494.datePicker.datepickerMode === ctx_r494.maxMode));
        core["ɵɵadvance"](2);
        core["ɵɵtextInterpolate"](ctx_r494.title);
        core["ɵɵadvance"](5);
        core["ɵɵproperty"]("ngForOf", ctx_r494.rows);
    } }
    var MonthPickerComponent = /** @class */ (function () {
        function MonthPickerComponent(datePicker) {
            this.rows = [];
            this.datePicker = datePicker;
        }
        Object.defineProperty(MonthPickerComponent.prototype, "isBs4", {
            get: function () {
                return !utils.isBs3();
            },
            enumerable: true,
            configurable: true
        });
        MonthPickerComponent.prototype.ngOnInit = function () {
            var self = this;
            this.datePicker.stepMonth = { years: 1 };
            this.datePicker.setRefreshViewHandler(function () {
                var months = new Array(12);
                var year = this.activeDate.getFullYear();
                var date;
                for (var i = 0; i < 12; i++) {
                    date = new Date(year, i, 1);
                    date = this.fixTimeZone(date);
                    months[i] = this.createDateObject(date, this.formatMonth);
                    months[i].uid = this.uniqueId + '-' + i;
                }
                self.title = this.dateFilter(this.activeDate, this.formatMonthTitle);
                self.rows = this.split(months, self.datePicker.monthColLimit);
            }, 'month');
            this.datePicker.setCompareHandler(function (date1, date2) {
                var d1 = new Date(date1.getFullYear(), date1.getMonth());
                var d2 = new Date(date2.getFullYear(), date2.getMonth());
                return d1.getTime() - d2.getTime();
            }, 'month');
            this.datePicker.refreshView();
        };
        /** @nocollapse */ MonthPickerComponent.ɵfac = function MonthPickerComponent_Factory(t) { return new (t || MonthPickerComponent)(core["ɵɵdirectiveInject"](DatePickerInnerComponent)); };
        /** @nocollapse */ MonthPickerComponent.ɵcmp = core["ɵɵdefineComponent"]({ type: MonthPickerComponent, selectors: [["monthpicker"]], decls: 1, vars: 1, consts: [["role", "grid", 4, "ngIf"], ["role", "grid"], ["type", "button", "tabindex", "-1", 1, "btn", "btn-default", "btn-sm", "pull-left", "float-left", 3, "click"], ["type", "button", "tabindex", "-1", 1, "btn", "btn-default", "btn-sm", 2, "width", "100%", 3, "id", "disabled", "ngClass", "click"], ["type", "button", "tabindex", "-1", 1, "btn", "btn-default", "btn-sm", "pull-right", "float-right", 3, "click"], [4, "ngFor", "ngForOf"], ["class", "text-center", "role", "gridcell", 3, "ngClass", 4, "ngFor", "ngForOf"], ["role", "gridcell", 1, "text-center", 3, "ngClass"], ["type", "button", "tabindex", "-1", 1, "btn", "btn-default", 2, "min-width", "100%", 3, "ngClass", "disabled", "click"], [3, "ngClass"]], template: function MonthPickerComponent_Template(rf, ctx) { if (rf & 1) {
                core["ɵɵtemplate"](0, MonthPickerComponent_table_0_Template, 15, 8, "table", 0);
            } if (rf & 2) {
                core["ɵɵproperty"]("ngIf", ctx.datePicker.datepickerMode === "month");
            } }, directives: [common.NgIf, common.NgClass, common.NgForOf], styles: ["[_nghost-%COMP%]   .btn-info[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%] {\n      color: #fff !important;\n    }"] });
        return MonthPickerComponent;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](MonthPickerComponent, [{
            type: core.Component,
            args: [{
                    selector: 'monthpicker',
                    template: "\n<table *ngIf=\"datePicker.datepickerMode==='month'\" role=\"grid\">\n  <thead>\n    <tr>\n      <th>\n        <button type=\"button\" class=\"btn btn-default btn-sm pull-left float-left\"\n                (click)=\"datePicker.move(-1)\" tabindex=\"-1\">\u2039</button></th>\n      <th [attr.colspan]=\"((datePicker.monthColLimit - 2) <= 0) ? 1 : datePicker.monthColLimit - 2\">\n        <button [id]=\"datePicker.uniqueId + '-title'\"\n                type=\"button\" class=\"btn btn-default btn-sm\"\n                (click)=\"datePicker.toggleMode(0)\"\n                [disabled]=\"datePicker.datepickerMode === maxMode\"\n                [ngClass]=\"{disabled: datePicker.datepickerMode === maxMode}\" tabindex=\"-1\" style=\"width:100%;\">\n          <strong>{{ title }}</strong> \n        </button>\n      </th>\n      <th>\n        <button type=\"button\" class=\"btn btn-default btn-sm pull-right float-right\"\n                (click)=\"datePicker.move(1)\" tabindex=\"-1\">\u203A</button>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let rowz of rows\">\n      <td *ngFor=\"let dtz of rowz\" class=\"text-center\" role=\"gridcell\" [attr.id]=\"dtz.uid\" [ngClass]=\"dtz.customClass\">\n        <button type=\"button\" style=\"min-width:100%;\" class=\"btn btn-default\"\n                [ngClass]=\"{'btn-link': isBs4 && !dtz.selected && !datePicker.isActive(dtz), 'btn-info': dtz.selected || (isBs4 && !dtz.selected && datePicker.isActive(dtz)), disabled: dtz.disabled, active: !isBs4 && datePicker.isActive(dtz)}\"\n                [disabled]=\"dtz.disabled\"\n                (click)=\"datePicker.select(dtz.date)\" tabindex=\"-1\">\n          <span [ngClass]=\"{'text-success': isBs4 && dtz.current, 'text-info': !isBs4 && dtz.current}\">{{ dtz.label }}</span>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n  ",
                    styles: [
                        "\n    :host .btn-info .text-success {\n      color: #fff !important;\n    }\n  "
                    ]
                }]
        }], function () { return [{ type: DatePickerInnerComponent }]; }, null); })();

    // @deprecated
    var _c0$5 = function (a0, a1, a2, a3) { return { "btn-link": a0, "btn-info": a1, disabled: a2, active: a3 }; };
    var _c1$3 = function (a0, a1) { return { "text-success": a0, "text-info": a1 }; };
    function YearPickerComponent_table_0_tr_14_td_1_Template(rf, ctx) { if (rf & 1) {
        var _r511 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "td", 7);
        core["ɵɵelementStart"](1, "button", 8);
        core["ɵɵlistener"]("click", function YearPickerComponent_table_0_tr_14_td_1_Template_button_click_1_listener() { core["ɵɵrestoreView"](_r511); var dtz_r509 = ctx.$implicit; var ctx_r510 = core["ɵɵnextContext"](3); return ctx_r510.datePicker.select(dtz_r509.date); });
        core["ɵɵelementStart"](2, "span", 9);
        core["ɵɵtext"](3);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var dtz_r509 = ctx.$implicit;
        var ctx_r508 = core["ɵɵnextContext"](3);
        core["ɵɵattribute"]("id", dtz_r509.uid);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngClass", core["ɵɵpureFunction4"](5, _c0$5, ctx_r508.isBs4 && !dtz_r509.selected && !ctx_r508.datePicker.isActive(dtz_r509), dtz_r509.selected || ctx_r508.isBs4 && !dtz_r509.selected && ctx_r508.datePicker.isActive(dtz_r509), dtz_r509.disabled, !ctx_r508.isBs4 && ctx_r508.datePicker.isActive(dtz_r509)))("disabled", dtz_r509.disabled);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngClass", core["ɵɵpureFunction2"](10, _c1$3, ctx_r508.isBs4 && dtz_r509.current, !ctx_r508.isBs4 && dtz_r509.current));
        core["ɵɵadvance"](1);
        core["ɵɵtextInterpolate"](dtz_r509.label);
    } }
    function YearPickerComponent_table_0_tr_14_Template(rf, ctx) { if (rf & 1) {
        core["ɵɵelementStart"](0, "tr");
        core["ɵɵtemplate"](1, YearPickerComponent_table_0_tr_14_td_1_Template, 4, 13, "td", 6);
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var rowz_r507 = ctx.$implicit;
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("ngForOf", rowz_r507);
    } }
    var _c2$2 = function (a0) { return { disabled: a0 }; };
    function YearPickerComponent_table_0_Template(rf, ctx) { if (rf & 1) {
        var _r513 = core["ɵɵgetCurrentView"]();
        core["ɵɵelementStart"](0, "table", 1);
        core["ɵɵelementStart"](1, "thead");
        core["ɵɵelementStart"](2, "tr");
        core["ɵɵelementStart"](3, "th");
        core["ɵɵelementStart"](4, "button", 2);
        core["ɵɵlistener"]("click", function YearPickerComponent_table_0_Template_button_click_4_listener() { core["ɵɵrestoreView"](_r513); var ctx_r512 = core["ɵɵnextContext"](); return ctx_r512.datePicker.move(0 - 1); });
        core["ɵɵtext"](5, "\u2039");
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementStart"](6, "th");
        core["ɵɵelementStart"](7, "button", 3);
        core["ɵɵlistener"]("click", function YearPickerComponent_table_0_Template_button_click_7_listener() { core["ɵɵrestoreView"](_r513); var ctx_r514 = core["ɵɵnextContext"](); return ctx_r514.datePicker.toggleMode(0); });
        core["ɵɵelementStart"](8, "strong");
        core["ɵɵtext"](9);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementStart"](10, "th");
        core["ɵɵelementStart"](11, "button", 4);
        core["ɵɵlistener"]("click", function YearPickerComponent_table_0_Template_button_click_11_listener() { core["ɵɵrestoreView"](_r513); var ctx_r515 = core["ɵɵnextContext"](); return ctx_r515.datePicker.move(1); });
        core["ɵɵtext"](12, "\u203A");
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
        core["ɵɵelementStart"](13, "tbody");
        core["ɵɵtemplate"](14, YearPickerComponent_table_0_tr_14_Template, 2, 1, "tr", 5);
        core["ɵɵelementEnd"]();
        core["ɵɵelementEnd"]();
    } if (rf & 2) {
        var ctx_r505 = core["ɵɵnextContext"]();
        core["ɵɵadvance"](6);
        core["ɵɵattribute"]("colspan", ctx_r505.datePicker.yearColLimit - 2 <= 0 ? 1 : ctx_r505.datePicker.yearColLimit - 2);
        core["ɵɵadvance"](1);
        core["ɵɵproperty"]("id", ctx_r505.datePicker.uniqueId + "-title")("disabled", ctx_r505.datePicker.datepickerMode === ctx_r505.datePicker.maxMode)("ngClass", core["ɵɵpureFunction1"](6, _c2$2, ctx_r505.datePicker.datepickerMode === ctx_r505.datePicker.maxMode));
        core["ɵɵadvance"](2);
        core["ɵɵtextInterpolate"](ctx_r505.title);
        core["ɵɵadvance"](5);
        core["ɵɵproperty"]("ngForOf", ctx_r505.rows);
    } }
    var YearPickerComponent = /** @class */ (function () {
        function YearPickerComponent(datePicker) {
            this.rows = [];
            this.datePicker = datePicker;
        }
        Object.defineProperty(YearPickerComponent.prototype, "isBs4", {
            get: function () {
                return !utils.isBs3();
            },
            enumerable: true,
            configurable: true
        });
        YearPickerComponent.prototype.ngOnInit = function () {
            var self = this;
            this.datePicker.stepYear = { years: this.datePicker.yearRange };
            this.datePicker.setRefreshViewHandler(function () {
                var years = new Array(this.yearRange);
                var date;
                var start = self.getStartingYear(this.activeDate.getFullYear());
                for (var i = 0; i < this.yearRange; i++) {
                    date = new Date(start + i, 0, 1);
                    date = this.fixTimeZone(date);
                    years[i] = this.createDateObject(date, this.formatYear);
                    years[i].uid = this.uniqueId + '-' + i;
                }
                self.title = [years[0].label, years[this.yearRange - 1].label].join(' - ');
                self.rows = this.split(years, self.datePicker.yearColLimit);
            }, 'year');
            this.datePicker.setCompareHandler(function (date1, date2) {
                return date1.getFullYear() - date2.getFullYear();
            }, 'year');
            this.datePicker.refreshView();
        };
        YearPickerComponent.prototype.getStartingYear = function (year) {
            // todo: parseInt
            return ((year - 1) / this.datePicker.yearRange * this.datePicker.yearRange + 1);
        };
        /** @nocollapse */ YearPickerComponent.ɵfac = function YearPickerComponent_Factory(t) { return new (t || YearPickerComponent)(core["ɵɵdirectiveInject"](DatePickerInnerComponent)); };
        /** @nocollapse */ YearPickerComponent.ɵcmp = core["ɵɵdefineComponent"]({ type: YearPickerComponent, selectors: [["yearpicker"]], decls: 1, vars: 1, consts: [["role", "grid", 4, "ngIf"], ["role", "grid"], ["type", "button", "tabindex", "-1", 1, "btn", "btn-default", "btn-sm", "pull-left", "float-left", 3, "click"], ["role", "heading", "type", "button", "tabindex", "-1", 1, "btn", "btn-default", "btn-sm", 2, "width", "100%", 3, "id", "disabled", "ngClass", "click"], ["type", "button", "tabindex", "-1", 1, "btn", "btn-default", "btn-sm", "pull-right", "float-right", 3, "click"], [4, "ngFor", "ngForOf"], ["class", "text-center", "role", "gridcell", 4, "ngFor", "ngForOf"], ["role", "gridcell", 1, "text-center"], ["type", "button", "tabindex", "-1", 1, "btn", "btn-default", 2, "min-width", "100%", 3, "ngClass", "disabled", "click"], [3, "ngClass"]], template: function YearPickerComponent_Template(rf, ctx) { if (rf & 1) {
                core["ɵɵtemplate"](0, YearPickerComponent_table_0_Template, 15, 8, "table", 0);
            } if (rf & 2) {
                core["ɵɵproperty"]("ngIf", ctx.datePicker.datepickerMode === "year");
            } }, directives: [common.NgIf, common.NgClass, common.NgForOf], styles: ["[_nghost-%COMP%]   .btn-info[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%] {\n      color: #fff !important;\n    }"] });
        return YearPickerComponent;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](YearPickerComponent, [{
            type: core.Component,
            args: [{
                    selector: 'yearpicker',
                    template: "\n<table *ngIf=\"datePicker.datepickerMode==='year'\" role=\"grid\">\n  <thead>\n    <tr>\n      <th>\n        <button type=\"button\" class=\"btn btn-default btn-sm pull-left float-left\"\n                (click)=\"datePicker.move(-1)\" tabindex=\"-1\">\u2039</button>\n      </th>\n      <th [attr.colspan]=\"((datePicker.yearColLimit - 2) <= 0) ? 1 : datePicker.yearColLimit - 2\">\n        <button [id]=\"datePicker.uniqueId + '-title'\" role=\"heading\"\n                type=\"button\" class=\"btn btn-default btn-sm\"\n                (click)=\"datePicker.toggleMode(0)\"\n                [disabled]=\"datePicker.datepickerMode === datePicker.maxMode\"\n                [ngClass]=\"{disabled: datePicker.datepickerMode === datePicker.maxMode}\" tabindex=\"-1\" style=\"width:100%;\">\n          <strong>{{ title }}</strong>\n        </button>\n      </th>\n      <th>\n        <button type=\"button\" class=\"btn btn-default btn-sm pull-right float-right\"\n                (click)=\"datePicker.move(1)\" tabindex=\"-1\">\u203A</button>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let rowz of rows\">\n      <td *ngFor=\"let dtz of rowz\" class=\"text-center\" role=\"gridcell\" [attr.id]=\"dtz.uid\">\n        <button type=\"button\" style=\"min-width:100%;\" class=\"btn btn-default\"\n                [ngClass]=\"{'btn-link': isBs4 && !dtz.selected && !datePicker.isActive(dtz), 'btn-info': dtz.selected || (isBs4 && !dtz.selected && datePicker.isActive(dtz)), disabled: dtz.disabled, active: !isBs4 && datePicker.isActive(dtz)}\"\n                [disabled]=\"dtz.disabled\"\n                (click)=\"datePicker.select(dtz.date)\" tabindex=\"-1\">\n          <span [ngClass]=\"{'text-success': isBs4 && dtz.current, 'text-info': !isBs4 && dtz.current}\">{{ dtz.label }}</span>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n  ",
                    styles: [
                        "\n    :host .btn-info .text-success {\n      color: #fff !important;\n    }\n  "
                    ]
                }]
        }], function () { return [{ type: DatePickerInnerComponent }]; }, null); })();

    var DATEPICKER_CONTROL_VALUE_ACCESSOR = {
        provide: forms.NG_VALUE_ACCESSOR,
        /* tslint:disable-next-line: no-use-before-declare */
        useExisting: core.forwardRef(function () { return DatePickerComponent; }),
        multi: true
    };
    /* tslint:disable:component-selector-name component-selector-type */
    var DatePickerComponent = /** @class */ (function () {
        function DatePickerComponent(config) {
            /** sets datepicker mode, supports: `day`, `month`, `year` */
            this.datepickerMode = 'day';
            /** if false week numbers will be hidden */
            this.showWeeks = true;
            this.selectionDone = new core.EventEmitter(undefined);
            /** callback to invoke when the activeDate is changed. */
            this.activeDateChange = new core.EventEmitter(undefined);
            /* tslint:disable-next-line: no-any*/
            this.onChange = Function.prototype;
            /* tslint:disable-next-line: no-any*/
            this.onTouched = Function.prototype;
            this._now = new Date();
            this.config = config;
            this.configureOptions();
        }
        Object.defineProperty(DatePickerComponent.prototype, "activeDate", {
            /** currently active date */
            get: function () {
                return this._activeDate || this._now;
            },
            set: function (value) {
                this._activeDate = value;
            },
            enumerable: true,
            configurable: true
        });
        DatePickerComponent.prototype.configureOptions = function () {
            Object.assign(this, this.config);
        };
        DatePickerComponent.prototype.onUpdate = function (event) {
            this.activeDate = event;
            this.onChange(event);
        };
        DatePickerComponent.prototype.onSelectionDone = function (event) {
            this.selectionDone.emit(event);
        };
        DatePickerComponent.prototype.onActiveDateChange = function (event) {
            this.activeDateChange.emit(event);
        };
        // todo: support null value
        /* tslint:disable-next-line: no-any*/
        DatePickerComponent.prototype.writeValue = function (value) {
            if (this._datePicker.compare(value, this._activeDate) === 0) {
                return;
            }
            if (value && value instanceof Date) {
                this.activeDate = value;
                this._datePicker.select(value, false);
                return;
            }
            this.activeDate = value ? new Date(value) : void 0;
        };
        DatePickerComponent.prototype.registerOnChange = function (fn) {
            this.onChange = fn;
        };
        DatePickerComponent.prototype.registerOnTouched = function (fn) {
            this.onTouched = fn;
        };
        /** @nocollapse */ DatePickerComponent.ɵfac = function DatePickerComponent_Factory(t) { return new (t || DatePickerComponent)(core["ɵɵdirectiveInject"](DatepickerConfig)); };
        /** @nocollapse */ DatePickerComponent.ɵcmp = core["ɵɵdefineComponent"]({ type: DatePickerComponent, selectors: [["datepicker"]], viewQuery: function DatePickerComponent_Query(rf, ctx) { if (rf & 1) {
                core["ɵɵstaticViewQuery"](DatePickerInnerComponent, true);
            } if (rf & 2) {
                var _t;
                core["ɵɵqueryRefresh"](_t = core["ɵɵloadQuery"]()) && (ctx._datePicker = _t.first);
            } }, inputs: { datepickerMode: "datepickerMode", initDate: "initDate", minDate: "minDate", maxDate: "maxDate", minMode: "minMode", maxMode: "maxMode", showWeeks: "showWeeks", formatDay: "formatDay", formatMonth: "formatMonth", formatYear: "formatYear", formatDayHeader: "formatDayHeader", formatDayTitle: "formatDayTitle", formatMonthTitle: "formatMonthTitle", startingDay: "startingDay", yearRange: "yearRange", onlyCurrentMonth: "onlyCurrentMonth", shortcutPropagation: "shortcutPropagation", monthColLimit: "monthColLimit", yearColLimit: "yearColLimit", customClass: "customClass", dateDisabled: "dateDisabled", dayDisabled: "dayDisabled", activeDate: "activeDate" }, outputs: { selectionDone: "selectionDone", activeDateChange: "activeDateChange" }, features: [core["ɵɵProvidersFeature"]([DATEPICKER_CONTROL_VALUE_ACCESSOR])], decls: 4, vars: 24, consts: [[3, "activeDate", "locale", "datepickerMode", "initDate", "minDate", "maxDate", "minMode", "maxMode", "showWeeks", "formatDay", "formatMonth", "formatYear", "formatDayHeader", "formatDayTitle", "formatMonthTitle", "startingDay", "yearRange", "customClass", "dateDisabled", "dayDisabled", "onlyCurrentMonth", "shortcutPropagation", "monthColLimit", "yearColLimit", "update", "selectionDone", "activeDateChange"], ["tabindex", "0"]], template: function DatePickerComponent_Template(rf, ctx) { if (rf & 1) {
                core["ɵɵelementStart"](0, "datepicker-inner", 0);
                core["ɵɵlistener"]("update", function DatePickerComponent_Template_datepicker_inner_update_0_listener($event) { return ctx.onUpdate($event); })("selectionDone", function DatePickerComponent_Template_datepicker_inner_selectionDone_0_listener($event) { return ctx.onSelectionDone($event); })("activeDateChange", function DatePickerComponent_Template_datepicker_inner_activeDateChange_0_listener($event) { return ctx.onActiveDateChange($event); });
                core["ɵɵelement"](1, "daypicker", 1);
                core["ɵɵelement"](2, "monthpicker", 1);
                core["ɵɵelement"](3, "yearpicker", 1);
                core["ɵɵelementEnd"]();
            } if (rf & 2) {
                core["ɵɵproperty"]("activeDate", ctx.activeDate)("locale", ctx.config.locale)("datepickerMode", ctx.datepickerMode)("initDate", ctx.initDate)("minDate", ctx.minDate)("maxDate", ctx.maxDate)("minMode", ctx.minMode)("maxMode", ctx.maxMode)("showWeeks", ctx.showWeeks)("formatDay", ctx.formatDay)("formatMonth", ctx.formatMonth)("formatYear", ctx.formatYear)("formatDayHeader", ctx.formatDayHeader)("formatDayTitle", ctx.formatDayTitle)("formatMonthTitle", ctx.formatMonthTitle)("startingDay", ctx.startingDay)("yearRange", ctx.yearRange)("customClass", ctx.customClass)("dateDisabled", ctx.dateDisabled)("dayDisabled", ctx.dayDisabled)("onlyCurrentMonth", ctx.onlyCurrentMonth)("shortcutPropagation", ctx.shortcutPropagation)("monthColLimit", ctx.monthColLimit)("yearColLimit", ctx.yearColLimit);
            } }, directives: [DatePickerInnerComponent, DayPickerComponent, MonthPickerComponent, YearPickerComponent], encapsulation: 2 });
        return DatePickerComponent;
    }());
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](DatePickerComponent, [{
            type: core.Component,
            args: [{
                    selector: 'datepicker',
                    template: "\n    <datepicker-inner [activeDate]=\"activeDate\"\n                      (update)=\"onUpdate($event)\"\n                      [locale]=\"config.locale\"\n                      [datepickerMode]=\"datepickerMode\"\n                      [initDate]=\"initDate\"\n                      [minDate]=\"minDate\"\n                      [maxDate]=\"maxDate\"\n                      [minMode]=\"minMode\"\n                      [maxMode]=\"maxMode\"\n                      [showWeeks]=\"showWeeks\"\n                      [formatDay]=\"formatDay\"\n                      [formatMonth]=\"formatMonth\"\n                      [formatYear]=\"formatYear\"\n                      [formatDayHeader]=\"formatDayHeader\"\n                      [formatDayTitle]=\"formatDayTitle\"\n                      [formatMonthTitle]=\"formatMonthTitle\"\n                      [startingDay]=\"startingDay\"\n                      [yearRange]=\"yearRange\"\n                      [customClass]=\"customClass\"\n                      [dateDisabled]=\"dateDisabled\"\n                      [dayDisabled]=\"dayDisabled\"\n                      [onlyCurrentMonth]=\"onlyCurrentMonth\"\n                      [shortcutPropagation]=\"shortcutPropagation\"\n                      [monthColLimit]=\"monthColLimit\"\n                      [yearColLimit]=\"yearColLimit\"\n                      (selectionDone)=\"onSelectionDone($event)\"\n                      (activeDateChange)=\"onActiveDateChange($event)\">\n      <daypicker tabindex=\"0\"></daypicker>\n      <monthpicker tabindex=\"0\"></monthpicker>\n      <yearpicker tabindex=\"0\"></yearpicker>\n    </datepicker-inner>\n    ",
                    providers: [DATEPICKER_CONTROL_VALUE_ACCESSOR]
                }]
        }], function () { return [{ type: DatepickerConfig }]; }, { datepickerMode: [{
                type: core.Input
            }], initDate: [{
                type: core.Input
            }], minDate: [{
                type: core.Input
            }], maxDate: [{
                type: core.Input
            }], minMode: [{
                type: core.Input
            }], maxMode: [{
                type: core.Input
            }], showWeeks: [{
                type: core.Input
            }], formatDay: [{
                type: core.Input
            }], formatMonth: [{
                type: core.Input
            }], formatYear: [{
                type: core.Input
            }], formatDayHeader: [{
                type: core.Input
            }], formatDayTitle: [{
                type: core.Input
            }], formatMonthTitle: [{
                type: core.Input
            }], startingDay: [{
                type: core.Input
            }], yearRange: [{
                type: core.Input
            }], onlyCurrentMonth: [{
                type: core.Input
            }], shortcutPropagation: [{
                type: core.Input
            }], monthColLimit: [{
                type: core.Input
            }], yearColLimit: [{
                type: core.Input
            }], customClass: [{
                type: core.Input
            }], dateDisabled: [{
                type: core.Input
            }], dayDisabled: [{
                type: core.Input
            }], activeDate: [{
                type: core.Input
            }], selectionDone: [{
                type: core.Output
            }], activeDateChange: [{
                type: core.Output
            }], _datePicker: [{
                type: core.ViewChild,
                args: [DatePickerInnerComponent, { static: true }]
            }] }); })();

    var DatepickerModule = /** @class */ (function () {
        function DatepickerModule() {
        }
        DatepickerModule.forRoot = function () {
            return { ngModule: DatepickerModule, providers: [DatepickerConfig] };
        };
        /** @nocollapse */ DatepickerModule.ɵmod = core["ɵɵdefineNgModule"]({ type: DatepickerModule });
        /** @nocollapse */ DatepickerModule.ɵinj = core["ɵɵdefineInjector"]({ factory: function DatepickerModule_Factory(t) { return new (t || DatepickerModule)(); }, imports: [[common.CommonModule, forms.FormsModule]] });
        return DatepickerModule;
    }());
    (function () { (typeof ngJitMode === "undefined" || ngJitMode) && core["ɵɵsetNgModuleScope"](DatepickerModule, { declarations: [DatePickerComponent,
            DatePickerInnerComponent,
            DayPickerComponent,
            MonthPickerComponent,
            YearPickerComponent], imports: [common.CommonModule, forms.FormsModule], exports: [DatePickerComponent,
            DatePickerInnerComponent,
            DayPickerComponent,
            MonthPickerComponent,
            YearPickerComponent] }); })();
    /*@__PURE__*/ (function () { core["ɵsetClassMetadata"](DatepickerModule, [{
            type: core.NgModule,
            args: [{
                    imports: [common.CommonModule, forms.FormsModule],
                    declarations: [
                        DatePickerComponent,
                        DatePickerInnerComponent,
                        DayPickerComponent,
                        MonthPickerComponent,
                        YearPickerComponent
                    ],
                    exports: [
                        DatePickerComponent,
                        DatePickerInnerComponent,
                        DayPickerComponent,
                        MonthPickerComponent,
                        YearPickerComponent
                    ],
                    entryComponents: [DatePickerComponent]
                }]
        }], null, null); })();

    exports.BsDatepickerConfig = BsDatepickerConfig;
    exports.BsDatepickerContainerComponent = BsDatepickerContainerComponent;
    exports.BsDatepickerDirective = BsDatepickerDirective;
    exports.BsDatepickerInlineConfig = BsDatepickerInlineConfig;
    exports.BsDatepickerInlineContainerComponent = BsDatepickerInlineContainerComponent;
    exports.BsDatepickerInlineDirective = BsDatepickerInlineDirective;
    exports.BsDatepickerInputDirective = BsDatepickerInputDirective;
    exports.BsDatepickerModule = BsDatepickerModule;
    exports.BsDaterangepickerConfig = BsDaterangepickerConfig;
    exports.BsDaterangepickerContainerComponent = BsDaterangepickerContainerComponent;
    exports.BsDaterangepickerDirective = BsDaterangepickerDirective;
    exports.BsDaterangepickerInlineConfig = BsDaterangepickerInlineConfig;
    exports.BsDaterangepickerInlineContainerComponent = BsDaterangepickerInlineContainerComponent;
    exports.BsDaterangepickerInlineDirective = BsDaterangepickerInlineDirective;
    exports.BsDaterangepickerInputDirective = BsDaterangepickerInputDirective;
    exports.BsLocaleService = BsLocaleService;
    exports.DateFormatter = DateFormatter;
    exports.DatePickerComponent = DatePickerComponent;
    exports.DatePickerInnerComponent = DatePickerInnerComponent;
    exports.DatepickerConfig = DatepickerConfig;
    exports.DatepickerModule = DatepickerModule;
    exports.DayPickerComponent = DayPickerComponent;
    exports.MonthPickerComponent = MonthPickerComponent;
    exports.YearPickerComponent = YearPickerComponent;

    Object.defineProperty(exports, '__esModule', { value: true });

})));
//# sourceMappingURL=ngx-bootstrap-datepicker.umd.js.map

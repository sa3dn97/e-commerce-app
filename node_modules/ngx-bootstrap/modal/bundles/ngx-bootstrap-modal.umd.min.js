!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("ngx-bootstrap/utils"),require("ngx-bootstrap/component-loader"),require("ngx-bootstrap/positioning")):"function"==typeof define&&define.amd?define("ngx-bootstrap/modal",["exports","@angular/core","ngx-bootstrap/utils","ngx-bootstrap/component-loader","ngx-bootstrap/positioning"],t):t(((e=e||self)["ngx-bootstrap"]=e["ngx-bootstrap"]||{},e["ngx-bootstrap"].modal={}),e.ng.core,e.utils,e.componentLoader,e.positioning)}(this,(function(e,t,n,i,o){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function s(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}var r=function(){function e(){this.hide=Function,this.setClass=Function}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=t["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e}(),d=function(e){this.animate=!0,Object.assign(this,e)},a=function(){function e(){}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=t["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e}(),c={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{}},h=new t.InjectionToken("override-default-config"),l="modal-scrollbar-measure",u="modal-open",p="fade",m="in",f="show",g=300,v=150,y="backdrop-click",b="esc",_=["*"],w=function(){function e(e,t,n){this._element=t,this._renderer=n,this.isShown=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},e)}return e.prototype.ngOnInit=function(){var e=this;this.isAnimated&&this._renderer.addClass(this._element.nativeElement,p),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout((function(){e.isShown=!0,e._renderer.addClass(e._element.nativeElement,n.isBs3()?m:f)}),this.isAnimated?v:0),document&&document.body&&(1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,u)),this._element.nativeElement&&this._element.nativeElement.focus()},e.prototype.onClickStarted=function(e){this.clickStartedInContent=e.target!==this._element.nativeElement},e.prototype.onClickStop=function(e){var t=e.target===this._element.nativeElement&&!this.clickStartedInContent;!this.config.ignoreBackdropClick&&"static"!==this.config.backdrop&&t?(this.bsModalService.setDismissReason(y),this.hide()):this.clickStartedInContent=!1},e.prototype.onPopState=function(){this.hide()},e.prototype.onEsc=function(e){this.isShown&&(27!==e.keyCode&&"Escape"!==e.key||e.preventDefault(),this.config.keyboard&&this.level===this.bsModalService.getModalsCount()&&(this.bsModalService.setDismissReason(b),this.hide()))},e.prototype.ngOnDestroy=function(){this.isShown&&this.hide()},e.prototype.hide=function(){var e=this;!this.isModalHiding&&this.isShown&&(this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,n.isBs3()?m:f),setTimeout((function(){e.isShown=!1,document&&document.body&&1===e.bsModalService.getModalsCount()&&e._renderer.removeClass(document.body,u),e.bsModalService.hide(e.level),e.isModalHiding=!1}),this.isAnimated?g:0))},e.ɵfac=function(n){return new(n||e)(t["ɵɵdirectiveInject"](a),t["ɵɵdirectiveInject"](t.ElementRef),t["ɵɵdirectiveInject"](t.Renderer2))},e.ɵcmp=t["ɵɵdefineComponent"]({type:e,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(e,n){1&e&&t["ɵɵlistener"]("mousedown",(function(e){return n.onClickStarted(e)}))("mouseup",(function(e){return n.onClickStop(e)}))("popstate",(function(){return n.onPopState()}),!1,t["ɵɵresolveWindow"])("keydown.esc",(function(e){return n.onEsc(e)}),!1,t["ɵɵresolveWindow"]),2&e&&t["ɵɵattribute"]("aria-modal",!0)("aria-labelledby",n.config.ariaLabelledBy)("aria-describedby",n.config.ariaDescribedby)},ngContentSelectors:_,decls:3,vars:2,consts:[["role","document"],[1,"modal-content"]],template:function(e,n){1&e&&(t["ɵɵprojectionDef"](),t["ɵɵelementStart"](0,"div",0),t["ɵɵelementStart"](1,"div",1),t["ɵɵprojection"](2),t["ɵɵelementEnd"](),t["ɵɵelementEnd"]()),2&e&&t["ɵɵclassMap"]("modal-dialog"+(n.config.class?" "+n.config.class:""))},encapsulation:2}),e}(),S=function(){function e(e,t){this._isShown=!1,this.element=e,this.renderer=t}return Object.defineProperty(e.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(e){this._isAnimated=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isShown",{get:function(){return this._isShown},set:function(e){this._isShown=e,e?this.renderer.addClass(this.element.nativeElement,""+m):this.renderer.removeClass(this.element.nativeElement,""+m),n.isBs3()||(e?this.renderer.addClass(this.element.nativeElement,""+f):this.renderer.removeClass(this.element.nativeElement,""+f))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,""+p),n.Utils.reflow(this.element.nativeElement)),this.isShown=!0},e.ɵfac=function(n){return new(n||e)(t["ɵɵdirectiveInject"](t.ElementRef),t["ɵɵdirectiveInject"](t.Renderer2))},e.ɵcmp=t["ɵɵdefineComponent"]({type:e,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}(),k=function(){function e(e,n,i,o,s){this._element=e,this._renderer=i,this.onShow=new t.EventEmitter,this.onShown=new t.EventEmitter,this.onHide=new t.EventEmitter,this.onHidden=new t.EventEmitter,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this.clickStartedInContent=!1,this._backdrop=o.createLoader(e,n,i),this._config=c||c}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=this.getConfig(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isShown",{get:function(){return this._isShown},enumerable:!0,configurable:!0}),e.prototype.onClickStarted=function(e){this.clickStartedInContent=e.target!==this._element.nativeElement},e.prototype.onClickStop=function(e){var t=e.target===this._element.nativeElement&&!this.clickStartedInContent;!this.config.ignoreBackdropClick&&"static"!==this.config.backdrop&&t?(this.dismissReason=y,this.hide(e)):this.clickStartedInContent=!1},e.prototype.onEsc=function(e){this._isShown&&(27!==e.keyCode&&"Escape"!==e.key||e.preventDefault(),this.config.keyboard&&(this.dismissReason=b,this.hide()))},e.prototype.ngOnDestroy=function(){this.config=void 0,this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())},e.prototype.ngOnInit=function(){var e=this;this._config=this._config||this.getConfig(),setTimeout((function(){e._config.show&&e.show()}),0)},e.prototype.toggle=function(){return this._isShown?this.hide():this.show()},e.prototype.show=function(){var e=this;this.dismissReason=null,this.onShow.emit(this),this._isShown||(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),n.document&&n.document.body&&(n.document.body.classList.contains(u)?this.isNested=!0:this._renderer.addClass(n.document.body,u)),this.showBackdrop((function(){e.showElement()})))},e.prototype.hide=function(e){var t=this;e&&e.preventDefault(),this.onHide.emit(this),this._isShown&&(n.window.clearTimeout(this.timerHideModal),n.window.clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,m),n.isBs3()||this._renderer.removeClass(this._element.nativeElement,f),this._config.animated?this.timerHideModal=n.window.setTimeout((function(){return t.hideModal()}),300):this.hideModal())},e.prototype.getConfig=function(e){return Object.assign({},this._config,e)},e.prototype.showElement=function(){var e=this;this._element.nativeElement.parentNode&&this._element.nativeElement.parentNode.nodeType===Node.ELEMENT_NODE||n.document&&n.document.body&&n.document.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&n.Utils.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,m),n.isBs3()||this._renderer.addClass(this._element.nativeElement,f);var t=function(){e._config.focus&&e._element.nativeElement.focus(),e.onShown.emit(e)};this._config.animated?setTimeout(t,300):t()},e.prototype.hideModal=function(){var e=this;this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop((function(){e.isNested||(n.document&&n.document.body&&e._renderer.removeClass(n.document.body,u),e.resetScrollbar()),e.resetAdjustments(),e.focusOtherModal(),e.onHidden.emit(e)}))},e.prototype.showBackdrop=function(e){var t=this;if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;var i=function(){t.removeBackdrop(),e&&e()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=n.window.setTimeout(i,150):i()}else e&&e();else{if(this.removeBackdrop(),this._backdrop.attach(S).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!e)return;if(!this._config.animated)return void e();setTimeout(e,150)}},e.prototype.removeBackdrop=function(){this._backdrop.hide()},e.prototype.focusOtherModal=function(){if(null!=this._element.nativeElement.parentElement){var e=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");e.length&&e[e.length-1].focus()}},e.prototype.resetAdjustments=function(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")},e.prototype.checkScrollbar=function(){this.isBodyOverflowing=n.document.body.clientWidth<n.window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()},e.prototype.setScrollbar=function(){n.document&&(this.originalBodyPadding=parseInt(n.window.getComputedStyle(n.document.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(n.document.body.style.paddingRight=this.originalBodyPadding+this.scrollbarWidth+"px"))},e.prototype.resetScrollbar=function(){n.document.body.style.paddingRight=this.originalBodyPadding+"px"},e.prototype.getScrollbarWidth=function(){var e=this._renderer.createElement("div");this._renderer.addClass(e,l),this._renderer.appendChild(n.document.body,e);var t=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(n.document.body,e),t},e.ɵfac=function(n){return new(n||e)(t["ɵɵdirectiveInject"](t.ElementRef),t["ɵɵdirectiveInject"](t.ViewContainerRef),t["ɵɵdirectiveInject"](t.Renderer2),t["ɵɵdirectiveInject"](i.ComponentLoaderFactory),t["ɵɵdirectiveInject"](h,8))},e.ɵdir=t["ɵɵdefineDirective"]({type:e,selectors:[["","bsModal",""]],hostBindings:function(e,n){1&e&&t["ɵɵlistener"]("mousedown",(function(e){return n.onClickStarted(e)}))("mouseup",(function(e){return n.onClickStop(e)}))("keydown.esc",(function(e){return n.onEsc(e)}))},inputs:{config:"config"},outputs:{onShow:"onShow",onShown:"onShown",onHide:"onHide",onHidden:"onHidden"},exportAs:["bs-modal"]}),e}(),E=function(){function e(e,n,i){this.clf=n,this.onShow=new t.EventEmitter,this.onShown=new t.EventEmitter,this.onHide=new t.EventEmitter,this.onHidden=new t.EventEmitter,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastDismissReason="",this.loaders=[],this._backdropLoader=this.clf.createLoader(null,null,null),this._renderer=e.createRenderer(null,null),this.config=i?Object.assign({},c,i):c}return e.prototype.show=function(e,t){return this.modalsCount++,this._createLoaders(),this.config=Object.assign({},this.config,t),this._showBackdrop(),this.lastDismissReason=null,this._showModal(e)},e.prototype.hide=function(e){var t=this;1===this.modalsCount&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1?this.modalsCount-1:0,setTimeout((function(){t._hideModal(e),t.removeLoaders(e)}),this.config.animated?v:0)},e.prototype._showBackdrop=function(){var e=this.config.backdrop||"static"===this.config.backdrop,t=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),e&&t&&(this._backdropLoader.attach(S).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))},e.prototype._hideBackdrop=function(){var e=this;if(this.backdropRef){this.backdropRef.instance.isShown=!1;var t=this.config.animated?v:0;setTimeout((function(){return e.removeBackdrop()}),t)}},e.prototype._showModal=function(e){var t,n,i=this,o=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)try{for(var d=s(this.config.providers),c=d.next();!c.done;c=d.next()){var h=c.value;o.provide(h)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}var l=new r,u=o.provide({provide:a,useValue:this.config}).provide({provide:r,useValue:l}).attach(w).to("body").show({content:e,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this});return u.instance.level=this.getModalsCount(),l.hide=function(){var e=i.config.animated?g:0;setTimeout((function(){return u.instance.hide()}),e)},l.content=o.getInnerComponent()||null,l.setClass=function(e){u.instance.config.class=e},l},e.prototype._hideModal=function(e){var t=this.loaders[e-1];t&&t.hide()},e.prototype.getModalsCount=function(){return this.modalsCount},e.prototype.setDismissReason=function(e){this.lastDismissReason=e},e.prototype.removeBackdrop=function(){this._backdropLoader.hide(),this.backdropRef=null},e.prototype.checkScrollbar=function(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()},e.prototype.setScrollbar=function(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=this.originalBodyPadding+this.scrollbarWidth+"px"))},e.prototype.resetScrollbar=function(){document.body.style.paddingRight=this.originalBodyPadding+"px"},e.prototype.getScrollbarWidth=function(){var e=this._renderer.createElement("div");this._renderer.addClass(e,l),this._renderer.appendChild(document.body,e);var t=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(document.body,e),t},e.prototype._createLoaders=function(){var e=this.clf.createLoader(null,null,null);this.copyEvent(e.onBeforeShow,this.onShow),this.copyEvent(e.onShown,this.onShown),this.copyEvent(e.onBeforeHide,this.onHide),this.copyEvent(e.onHidden,this.onHidden),this.loaders.push(e)},e.prototype.removeLoaders=function(e){this.loaders.splice(e-1,1),this.loaders.forEach((function(e,t){e.instance.level=t+1}))},e.prototype.copyEvent=function(e,t){var n=this;e.subscribe((function(){t.emit(n.lastDismissReason)}))},e.ɵfac=function(n){return new(n||e)(t["ɵɵinject"](t.RendererFactory2),t["ɵɵinject"](i.ComponentLoaderFactory),t["ɵɵinject"](h,8))},e.ɵprov=t["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e}(),C=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[E,i.ComponentLoaderFactory,o.PositioningService]}},e.forChild=function(){return{ngModule:e,providers:[E,i.ComponentLoaderFactory,o.PositioningService]}},e.ɵmod=t["ɵɵdefineNgModule"]({type:e}),e.ɵinj=t["ɵɵdefineInjector"]({factory:function(t){return new(t||e)}}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&t["ɵɵsetNgModuleScope"](C,{declarations:[S,k,w],exports:[S,k]}),e.BsModalRef=r,e.BsModalService=E,e.ModalBackdropComponent=S,e.ModalBackdropOptions=d,e.ModalContainerComponent=w,e.ModalDirective=k,e.ModalModule=C,e.ModalOptions=a,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-bootstrap-modal.umd.min.js.map